<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NICE Platform - Lufthansa Technik</title>
  <meta name="description" content="Network In-flight Content & Entertainment - Premium cabin solutions for private aviation">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23f0ab00' rx='20' width='100' height='100'/><text x='50' y='65' font-size='40' text-anchor='middle' fill='%230a1628' font-weight='bold'>LT</text></svg>">
  
  <!-- React and Babel for JSX -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
const { useState, useMemo } = React;

// ============================================
// MOCK DATA - Comprehensive Product & Project Data
// ============================================

const productsData = [
  {
    id: 1,
    name: 'Bluetooth Connectivity Service',
    shortName: 'BT Connect',
    category: 'Software',
    subcategory: 'Connectivity',
    description: 'Enables passengers to connect personal devices via Bluetooth for audio streaming, device pairing, and wireless control of cabin systems.',
    fullDescription: 'The Bluetooth Connectivity Service is a comprehensive wireless solution that allows passengers to seamlessly connect their personal devices to the aircraft cabin systems. Supporting Bluetooth 5.2 with backward compatibility, this service enables audio streaming to premium cabin speakers, wireless headphone connectivity, and device-based control of personal entertainment zones. The system includes automatic device discovery, secure pairing protocols, and multi-device management capabilities.',
    developmentTime: '8 months',
    developmentMonths: 8,
    status: 'Available',
    version: '3.2.1',
    lastUpdated: '2024-08-15',
    price: { base: 45000, installation: 12000, maintenance: 8000 },
    certifications: ['EASA', 'FAA', 'DO-178C DAL-C'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy'],
    dependencies: [2, 5],
    schedulingReasons: {
      startReason: 'Dependencies',
      startDetails: 'Development started after WAP Module (hardware) and CMS core APIs were ready',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'Dependency on WAP Module', description: 'Requires wireless hardware infrastructure to be available for integration testing' },
        { type: 'dependency', icon: 'ðŸ”—', title: 'Dependency on CMS', description: 'Needs CMS APIs for device management and system control' },
        { type: 'resource', icon: 'ðŸ‘¥', title: 'Team Availability', description: 'Core Bluetooth team was completing previous project until Q2 2023' },
        { type: 'certification', icon: 'ðŸ“‹', title: 'Certification Timeline', description: 'DO-178C DAL-C certification requires 2-month lead time with certification body' }
      ],
      keyMilestones: [
        { date: 'Q2 2023', event: 'Development Start', status: 'completed' },
        { date: 'Q3 2023', event: 'Integration with WAP', status: 'completed' },
        { date: 'Q4 2023', event: 'Beta Testing', status: 'completed' },
        { date: 'Q1 2024', event: 'Certification Complete', status: 'completed' }
      ]
    },
    technicalSpecs: {
      protocol: 'Bluetooth 5.2 LE',
      range: '15 meters',
      maxDevices: 8,
      latency: '<40ms',
      encryption: 'AES-128'
    },
    timeline: [
      { phase: 'Requirements & Design', duration: '1 month', status: 'completed' },
      { phase: 'Core Development', duration: '3 months', status: 'completed' },
      { phase: 'Integration Testing', duration: '2 months', status: 'completed' },
      { phase: 'Certification', duration: '2 months', status: 'completed' }
    ],
    team: { developers: 4, testers: 2, certificationExperts: 1 },
    documents: ['Technical Specification', 'Installation Guide', 'User Manual', 'Certification Package']
  },
  {
    id: 2,
    name: 'Wireless Access Point Module',
    shortName: 'WAP Module',
    category: 'Hardware',
    subcategory: 'Connectivity',
    description: 'High-performance wireless module providing cabin-wide connectivity infrastructure with enterprise-grade security.',
    fullDescription: 'The Wireless Access Point Module is a ruggedized, aviation-certified hardware component designed to provide reliable WiFi and Bluetooth connectivity throughout the aircraft cabin. Built to withstand the demanding aviation environment, this module features dual-band WiFi 6E support, integrated Bluetooth 5.2, and advanced beam-forming technology for optimal signal distribution. The unit includes built-in interference management and automatic channel selection.',
    developmentTime: '12 months',
    developmentMonths: 12,
    status: 'Available',
    version: '2.1.0',
    lastUpdated: '2024-06-20',
    price: { base: 85000, installation: 25000, maintenance: 15000 },
    certifications: ['EASA', 'FAA', 'DO-160G', 'RTCA'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy', 'Airbus ACJ'],
    dependencies: [],
    schedulingReasons: {
      startReason: 'Strategic Priority',
      startDetails: 'Foundation hardware for entire NICE connectivity stack - started first',
      constraints: [
        { type: 'strategic', icon: 'ðŸŽ¯', title: 'Foundation Product', description: 'Core infrastructure required by 6+ other products - highest priority' },
        { type: 'hardware', icon: 'ðŸ”§', title: 'Component Lead Time', description: 'WiFi 6E chipsets had 4-month lead time from supplier' },
        { type: 'certification', icon: 'ðŸ“‹', title: 'DO-160G Testing', description: 'Environmental qualification testing requires 3-month slot booking' },
        { type: 'manufacturing', icon: 'ðŸ­', title: 'Manufacturing Setup', description: 'New production line setup required for aviation-grade assembly' }
      ],
      keyMilestones: [
        { date: 'Q1 2023', event: 'Design Complete', status: 'completed' },
        { date: 'Q2 2023', event: 'Prototype Ready', status: 'completed' },
        { date: 'Q3 2023', event: 'Environmental Testing', status: 'completed' },
        { date: 'Q4 2023', event: 'Production Release', status: 'completed' }
      ]
    },
    technicalSpecs: {
      wifi: 'WiFi 6E (802.11ax)',
      frequency: '2.4/5/6 GHz',
      maxThroughput: '2.4 Gbps',
      powerConsumption: '18W',
      weight: '1.2 kg',
      dimensions: '180x120x45mm'
    },
    timeline: [
      { phase: 'Hardware Design', duration: '2 months', status: 'completed' },
      { phase: 'Prototyping', duration: '3 months', status: 'completed' },
      { phase: 'Manufacturing Setup', duration: '3 months', status: 'completed' },
      { phase: 'Environmental Testing', duration: '2 months', status: 'completed' },
      { phase: 'Certification', duration: '2 months', status: 'completed' }
    ],
    team: { engineers: 6, testers: 3, certificationExperts: 2 },
    documents: ['Hardware Specification', 'Installation Manual', 'Wiring Diagram', 'Test Reports', 'Certification Package']
  },
  {
    id: 3,
    name: 'Passenger Display Unit 4K',
    shortName: 'PDU 4K',
    category: 'Hardware',
    subcategory: 'Display',
    description: '4K touchscreen display with anti-glare coating, ambient light sensing, and premium viewing experience.',
    fullDescription: 'The Passenger Display Unit 4K represents the pinnacle of in-flight entertainment display technology. Featuring a stunning 4K OLED panel with HDR support, this display delivers cinema-quality visuals in any lighting condition. The capacitive multi-touch interface supports gesture controls, while the integrated ambient light sensor automatically adjusts brightness and color temperature. Available in 12", 15", 17", and 22" configurations.',
    developmentTime: '14 months',
    developmentMonths: 14,
    status: 'Available',
    version: '4.0.2',
    lastUpdated: '2024-07-10',
    price: { base: 12000, installation: 3500, maintenance: 2000 },
    certifications: ['EASA', 'FAA', 'DO-160G'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy'],
    dependencies: [6],
    schedulingReasons: {
      startReason: 'Dependency & Supply Chain',
      startDetails: 'Started after Media Server development and OLED panel availability',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'Media Server Integration', description: 'Display firmware requires Media Server APIs for content streaming' },
        { type: 'supply', icon: 'ðŸ“¦', title: 'OLED Panel Supply', description: 'Aviation-grade 4K OLED panels required 6-month advance ordering' },
        { type: 'tooling', icon: 'ðŸ”§', title: 'Tooling Investment', description: 'Custom bezels and mounting brackets require $2M tooling investment' },
        { type: 'certification', icon: 'ðŸ“‹', title: 'Flammability Testing', description: 'FAR 25.853 flammability testing scheduled with external lab' }
      ],
      keyMilestones: [
        { date: 'Q1 2023', event: 'Industrial Design', status: 'completed' },
        { date: 'Q2 2023', event: 'Panel Integration', status: 'completed' },
        { date: 'Q4 2023', event: 'Tooling Complete', status: 'completed' },
        { date: 'Q1 2024', event: 'Mass Production', status: 'completed' }
      ]
    },
    technicalSpecs: {
      resolution: '3840x2160',
      panel: 'OLED HDR',
      brightness: '1000 nits',
      touchPoints: 10,
      responseTime: '1ms',
      viewingAngle: '178Â°'
    },
    timeline: [
      { phase: 'Industrial Design', duration: '2 months', status: 'completed' },
      { phase: 'Display Engineering', duration: '4 months', status: 'completed' },
      { phase: 'Tooling & Manufacturing', duration: '4 months', status: 'completed' },
      { phase: 'Quality Assurance', duration: '2 months', status: 'completed' },
      { phase: 'Certification', duration: '2 months', status: 'completed' }
    ],
    team: { engineers: 8, designers: 2, testers: 4, certificationExperts: 2 },
    documents: ['Product Specification', 'Installation Guide', 'Maintenance Manual', 'Spare Parts List']
  },
  {
    id: 4,
    name: 'Mood Lighting System',
    shortName: 'MLS',
    category: 'Hardware',
    subcategory: 'Ambiance',
    description: 'Customizable LED cabin lighting with preset scenes, circadian rhythm support, and passenger control.',
    fullDescription: 'The Mood Lighting System transforms the cabin atmosphere with intelligent, customizable LED lighting. Featuring over 16 million colors and smooth dimming capabilities, this system includes pre-programmed scenes for different flight phases and passenger preferences. The circadian rhythm mode helps reduce jet lag by simulating natural daylight patterns. Passengers can control their personal lighting zone via the IFE system or mobile app.',
    developmentTime: '10 months',
    developmentMonths: 10,
    status: 'Available',
    version: '2.5.0',
    lastUpdated: '2024-05-30',
    price: { base: 65000, installation: 35000, maintenance: 8000 },
    certifications: ['EASA', 'FAA', 'DO-160G'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon'],
    dependencies: [5],
    schedulingReasons: {
      startReason: 'CMS Integration Required',
      startDetails: 'Lighting control APIs from CMS needed before development could start',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'CMS Control APIs', description: 'Scene management and zone control require CMS integration layer' },
        { type: 'design', icon: 'ðŸŽ¨', title: 'Interior Design Coordination', description: 'Working with OEM interior designers for optimal light placement' },
        { type: 'testing', icon: 'ðŸ§ª', title: 'Photobiological Testing', description: 'Circadian rhythm features require specialized lab testing' },
        { type: 'resource', icon: 'ðŸ‘¥', title: 'Lighting Expert Availability', description: 'Specialized lighting engineers joined team in Q2 2023' }
      ],
      keyMilestones: [
        { date: 'Q2 2023', event: 'Design Phase', status: 'completed' },
        { date: 'Q3 2023', event: 'Hardware Dev', status: 'completed' },
        { date: 'Q4 2023', event: 'CMS Integration', status: 'completed' },
        { date: 'Q1 2024', event: 'Certification', status: 'completed' }
      ]
    },
    technicalSpecs: {
      ledType: 'RGBW High-CRI',
      colorRange: '16.7 million',
      dimmingRange: '0-100%',
      zones: 'Up to 24',
      protocols: 'DMX512, DALI',
      powerPerMeter: '14.4W'
    },
    timeline: [
      { phase: 'Lighting Design', duration: '2 months', status: 'completed' },
      { phase: 'Hardware Development', duration: '3 months', status: 'completed' },
      { phase: 'Software Integration', duration: '2 months', status: 'completed' },
      { phase: 'Installation Kit Design', duration: '1 month', status: 'completed' },
      { phase: 'Certification', duration: '2 months', status: 'completed' }
    ],
    team: { engineers: 5, designers: 3, testers: 2, certificationExperts: 1 },
    documents: ['Design Guide', 'Installation Manual', 'Programming Guide', 'Scene Library']
  },
  {
    id: 5,
    name: 'Cabin Management System',
    shortName: 'CMS',
    category: 'Software',
    subcategory: 'Core Platform',
    description: 'Central software platform controlling all cabin systems, passenger interfaces, and crew operations.',
    fullDescription: 'The Cabin Management System is the brain of the NICE platform, orchestrating all cabin systems through a unified, intelligent interface. This comprehensive software solution handles everything from entertainment distribution to environmental controls, crew communications, and passenger services. Built on a modular architecture, the CMS can be customized for any aircraft configuration and integrates seamlessly with existing avionics systems.',
    developmentTime: '18 months',
    developmentMonths: 18,
    status: 'Available',
    version: '5.0.0',
    lastUpdated: '2024-09-01',
    price: { base: 180000, installation: 45000, maintenance: 35000 },
    certifications: ['EASA', 'FAA', 'DO-178C DAL-B', 'DO-254 DAL-C'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy', 'Airbus ACJ', 'Boeing BBJ'],
    dependencies: [],
    schedulingReasons: {
      startReason: 'Core Platform - Earliest Start',
      startDetails: 'Foundation of entire NICE ecosystem - development started Q1 2023',
      constraints: [
        { type: 'strategic', icon: 'ðŸŽ¯', title: 'Platform Foundation', description: 'All other software products depend on CMS - highest development priority' },
        { type: 'architecture', icon: 'ðŸ—ï¸', title: 'Architecture Design', description: '3-month architecture phase to ensure 10+ year scalability' },
        { type: 'certification', icon: 'ðŸ“‹', title: 'DAL-B Certification', description: 'Higher criticality level requires extensive documentation and testing' },
        { type: 'integration', icon: 'ðŸ”Œ', title: 'Avionics Integration', description: 'ARINC 429 interface development with aircraft OEMs' }
      ],
      keyMilestones: [
        { date: 'Q1 2023', event: 'Architecture Design', status: 'completed' },
        { date: 'Q2 2023', event: 'Core Platform', status: 'completed' },
        { date: 'Q4 2023', event: 'Module Integration', status: 'completed' },
        { date: 'Q2 2024', event: 'v5.0 Release', status: 'completed' }
      ]
    },
    technicalSpecs: {
      architecture: 'Microservices',
      platform: 'Linux-based RTOS',
      interfaces: 'ARINC 429, Ethernet, CAN',
      redundancy: 'Dual-channel',
      updateMethod: 'OTA capable',
      apiSupport: 'REST, GraphQL'
    },
    timeline: [
      { phase: 'Architecture Design', duration: '3 months', status: 'completed' },
      { phase: 'Core Platform Development', duration: '6 months', status: 'completed' },
      { phase: 'Module Development', duration: '4 months', status: 'completed' },
      { phase: 'Integration & Testing', duration: '3 months', status: 'completed' },
      { phase: 'Certification', duration: '2 months', status: 'completed' }
    ],
    team: { developers: 12, architects: 3, testers: 6, certificationExperts: 3 },
    documents: ['System Architecture', 'API Documentation', 'Integration Guide', 'Operations Manual', 'Certification Package']
  },
  {
    id: 6,
    name: 'Media Server Unit',
    shortName: 'MSU',
    category: 'Hardware',
    subcategory: 'Entertainment',
    description: 'High-capacity server for storing and streaming entertainment content with advanced media management.',
    fullDescription: 'The Media Server Unit is a powerful, aviation-certified content storage and streaming solution. With up to 8TB of solid-state storage, this server can hold thousands of movies, TV shows, music albums, and games. The advanced transcoding engine delivers content optimized for each display, while the intelligent caching system ensures smooth playback even during high-demand periods. Supports content updates via ground-based WiFi or portable media.',
    developmentTime: '11 months',
    developmentMonths: 11,
    status: 'Available',
    version: '3.1.0',
    lastUpdated: '2024-04-15',
    price: { base: 95000, installation: 20000, maintenance: 18000 },
    certifications: ['EASA', 'FAA', 'DO-160G', 'DO-178C DAL-C'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy'],
    dependencies: [],
    schedulingReasons: {
      startReason: 'Entertainment Foundation',
      startDetails: 'Core content delivery system needed before display and streaming products',
      constraints: [
        { type: 'strategic', icon: 'ðŸŽ¯', title: 'Entertainment Core', description: 'PDU 4K, StreamX, and AudioPro all depend on Media Server' },
        { type: 'hardware', icon: 'ðŸ”§', title: 'Custom Enclosure', description: 'Aviation-grade thermal management enclosure design' },
        { type: 'software', icon: 'ðŸ’»', title: 'Transcoding Engine', description: 'Custom video transcoding software for real-time 4K delivery' },
        { type: 'content', icon: 'ðŸŽ¬', title: 'DRM Integration', description: 'Widevine and PlayReady DRM certification required' }
      ],
      keyMilestones: [
        { date: 'Q1 2023', event: 'System Design', status: 'completed' },
        { date: 'Q2 2023', event: 'Hardware Build', status: 'completed' },
        { date: 'Q3 2023', event: 'Software Integration', status: 'completed' },
        { date: 'Q4 2023', event: 'Production Release', status: 'completed' }
      ]
    },
    technicalSpecs: {
      storage: '8TB NVMe RAID',
      processor: 'Intel Xeon',
      memory: '64GB ECC',
      streams: '16 concurrent 4K',
      formats: 'H.265, H.264, AV1',
      cooling: 'Passive + Active'
    },
    timeline: [
      { phase: 'System Design', duration: '2 months', status: 'completed' },
      { phase: 'Hardware Development', duration: '4 months', status: 'completed' },
      { phase: 'Software Development', duration: '3 months', status: 'completed' },
      { phase: 'Testing & Validation', duration: '2 months', status: 'completed' }
    ],
    team: { engineers: 5, developers: 4, testers: 3, certificationExperts: 1 },
    documents: ['Technical Specification', 'Content Management Guide', 'Installation Manual', 'API Reference']
  },
  {
    id: 7,
    name: 'Streaming Entertainment App',
    shortName: 'StreamX',
    category: 'Software',
    subcategory: 'Entertainment',
    description: 'Passenger-facing application for movies, music, live TV, and games with personalized recommendations.',
    fullDescription: 'StreamX is the ultimate in-flight entertainment experience, delivering a Netflix-like interface to passengers. The app features an intuitive, gesture-based UI optimized for touchscreens, with support for multiple languages and accessibility features. AI-powered recommendations learn passenger preferences over time, while the social features allow synchronized viewing with travel companions. Includes integration with personal streaming accounts for seamless content continuity.',
    developmentTime: '6 months',
    developmentMonths: 6,
    status: 'In Development',
    version: '1.0.0-beta',
    lastUpdated: '2024-10-01',
    price: { base: 55000, installation: 8000, maintenance: 12000 },
    certifications: ['EASA', 'FAA'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy'],
    dependencies: [3, 5, 6],
    schedulingReasons: {
      startReason: 'Multiple Dependencies',
      startDetails: 'Required PDU 4K, CMS, and Media Server to be available first',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'Display Hardware', description: 'UI development requires final PDU 4K specifications and test units' },
        { type: 'dependency', icon: 'ðŸ”—', title: 'CMS APIs', description: 'User profile and preference APIs from CMS needed' },
        { type: 'dependency', icon: 'ðŸ”—', title: 'Media Server', description: 'Content streaming and DRM integration with MSU' },
        { type: 'design', icon: 'ðŸŽ¨', title: 'UI/UX Research', description: '2-month user research phase with focus groups' }
      ],
      keyMilestones: [
        { date: 'Q3 2024', event: 'UI/UX Design', status: 'completed' },
        { date: 'Q4 2024', event: 'Core Development', status: 'in-progress' },
        { date: 'Q1 2025', event: 'Beta Testing', status: 'pending' },
        { date: 'Q1 2025', event: 'Release', status: 'pending' }
      ]
    },
    technicalSpecs: {
      framework: 'React Native',
      platforms: 'Android, iOS, Web',
      languages: '24 supported',
      accessibility: 'WCAG 2.1 AA',
      offline: 'Full support',
      drm: 'Widevine L1'
    },
    timeline: [
      { phase: 'UI/UX Design', duration: '1 month', status: 'completed' },
      { phase: 'Core Development', duration: '2 months', status: 'completed' },
      { phase: 'Feature Development', duration: '1.5 months', status: 'in-progress' },
      { phase: 'Testing & Polish', duration: '1 month', status: 'pending' },
      { phase: 'Release', duration: '0.5 months', status: 'pending' }
    ],
    team: { developers: 6, designers: 2, testers: 3 },
    documents: ['Design System', 'User Guide', 'Content Provider Integration', 'Localization Guide']
  },
  {
    id: 8,
    name: 'Flight Information Display',
    shortName: 'FlightInfo',
    category: 'Software',
    subcategory: 'Information',
    description: 'Real-time flight data, interactive maps, and journey information with beautiful visualizations.',
    fullDescription: 'The Flight Information Display provides passengers with comprehensive journey information through stunning, real-time visualizations. Features include an interactive 3D globe with flight path, detailed destination information, weather overlays, points of interest, and estimated arrival times. The system integrates with flight management computers for accurate data and includes a "pilot view" camera feed option.',
    developmentTime: '4 months',
    developmentMonths: 4,
    status: 'Available',
    version: '2.3.0',
    lastUpdated: '2024-08-01',
    price: { base: 28000, installation: 5000, maintenance: 6000 },
    certifications: ['EASA', 'FAA'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy', 'Airbus ACJ', 'Boeing BBJ'],
    dependencies: [3, 5],
    schedulingReasons: {
      startReason: 'Display & CMS Ready',
      startDetails: 'Short development cycle started once PDU and CMS were available',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'PDU 4K Display', description: '3D globe visualization optimized for 4K resolution' },
        { type: 'dependency', icon: 'ðŸ”—', title: 'CMS Integration', description: 'ARINC 429 data routing through CMS' },
        { type: 'data', icon: 'ðŸ“¡', title: 'Aviation Data', description: 'Integration with Jeppesen navigation database' },
        { type: 'resource', icon: 'ðŸ‘¥', title: 'WebGL Expertise', description: 'Specialized 3D graphics developer assigned from Q2 2024' }
      ],
      keyMilestones: [
        { date: 'Q2 2024', event: 'Development Start', status: 'completed' },
        { date: 'Q2 2024', event: '3D Engine', status: 'completed' },
        { date: 'Q3 2024', event: 'Data Integration', status: 'completed' },
        { date: 'Q3 2024', event: 'Release', status: 'completed' }
      ]
    },
    technicalSpecs: {
      mapEngine: 'Custom WebGL',
      dataSource: 'ARINC 429, ADS-B',
      updateRate: '1 second',
      visualization: '3D Globe, 2D Map',
      weatherData: 'Real-time integration',
      poiDatabase: '50,000+ locations'
    },
    timeline: [
      { phase: 'Design & Planning', duration: '0.5 months', status: 'completed' },
      { phase: 'Development', duration: '2 months', status: 'completed' },
      { phase: 'Data Integration', duration: '1 month', status: 'completed' },
      { phase: 'Testing', duration: '0.5 months', status: 'completed' }
    ],
    team: { developers: 3, designers: 1, testers: 2 },
    documents: ['Feature Guide', 'Data Integration Manual', 'Customization Options']
  },
  {
    id: 9,
    name: 'Satellite Communication Hub',
    shortName: 'SatComm',
    category: 'Hardware',
    subcategory: 'Connectivity',
    description: 'High-speed satellite connectivity enabling global internet access and real-time communications.',
    fullDescription: 'The Satellite Communication Hub provides uninterrupted global connectivity through multi-constellation satellite support. This advanced system delivers high-speed internet, voice, and data services anywhere in the world. Features include automatic beam switching, intelligent bandwidth management, and seamless handoffs between satellite networks. Supports both Ku-band and Ka-band frequencies for optimal performance.',
    developmentTime: '16 months',
    developmentMonths: 16,
    status: 'Available',
    version: '2.0.0',
    lastUpdated: '2024-03-20',
    price: { base: 350000, installation: 120000, maintenance: 45000 },
    certifications: ['EASA', 'FAA', 'DO-160G', 'FCC', 'ITU'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Airbus ACJ', 'Boeing BBJ'],
    dependencies: [2],
    schedulingReasons: {
      startReason: 'Long Lead Hardware',
      startDetails: 'Complex antenna system required early start for 16-month development',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'WAP Integration', description: 'Local network distribution through WAP Module' },
        { type: 'hardware', icon: 'ðŸ”§', title: 'Antenna Development', description: 'Electronically steered phased array antenna is custom design' },
        { type: 'certification', icon: 'ðŸ“‹', title: 'FCC/ITU Approval', description: 'Radio frequency certifications required for global operation' },
        { type: 'testing', icon: 'ðŸ§ª', title: 'Flight Testing', description: '3-month flight test campaign across multiple routes' }
      ],
      keyMilestones: [
        { date: 'Q1 2023', event: 'Architecture', status: 'completed' },
        { date: 'Q2 2023', event: 'Antenna Prototype', status: 'completed' },
        { date: 'Q4 2023', event: 'Flight Testing', status: 'completed' },
        { date: 'Q1 2024', event: 'Certification', status: 'completed' }
      ]
    },
    technicalSpecs: {
      bands: 'Ku-band, Ka-band',
      throughput: 'Up to 100 Mbps',
      coverage: 'Global',
      antennaType: 'Electronically steered',
      latency: '<600ms',
      modem: 'Multi-standard'
    },
    timeline: [
      { phase: 'System Architecture', duration: '3 months', status: 'completed' },
      { phase: 'Antenna Development', duration: '5 months', status: 'completed' },
      { phase: 'Modem Integration', duration: '3 months', status: 'completed' },
      { phase: 'Flight Testing', duration: '3 months', status: 'completed' },
      { phase: 'Certification', duration: '2 months', status: 'completed' }
    ],
    team: { engineers: 10, testers: 4, certificationExperts: 3 },
    documents: ['System Overview', 'Installation Manual', 'Network Configuration', 'Service Provider Integration']
  },
  {
    id: 10,
    name: 'Voice Control Assistant',
    shortName: 'VoiceAI',
    category: 'Software',
    subcategory: 'Interface',
    description: 'AI-powered voice control for cabin systems with natural language understanding and multi-language support.',
    fullDescription: 'VoiceAI brings intelligent voice control to the aircraft cabin, allowing passengers and crew to control all systems through natural conversation. The advanced NLU engine understands context, handles complex requests, and learns user preferences. Supports 12 languages with automatic detection and includes noise-cancellation optimized for the cabin environment.',
    developmentTime: '9 months',
    developmentMonths: 9,
    status: 'In Development',
    version: '0.9.0-alpha',
    lastUpdated: '2024-10-15',
    price: { base: 75000, installation: 15000, maintenance: 18000 },
    certifications: ['EASA', 'FAA'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon'],
    dependencies: [5, 2],
    schedulingReasons: {
      startReason: 'AI/ML Team & Infrastructure',
      startDetails: 'Required ML infrastructure and specialized team hiring before start',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'CMS Command Layer', description: 'Voice commands executed through CMS control APIs' },
        { type: 'dependency', icon: 'ðŸ”—', title: 'WAP Audio Routing', description: 'Microphone array integration with WAP Module' },
        { type: 'resource', icon: 'ðŸ‘¥', title: 'ML Team Hiring', description: 'Specialized ML engineers joined team Q2 2024' },
        { type: 'training', icon: 'ðŸ§ ', title: 'Model Training', description: '3-month training phase with aviation-specific voice data' }
      ],
      keyMilestones: [
        { date: 'Q2 2024', event: 'Model Training', status: 'completed' },
        { date: 'Q3 2024', event: 'Core Development', status: 'completed' },
        { date: 'Q4 2024', event: 'Integration', status: 'in-progress' },
        { date: 'Q1 2025', event: 'Release', status: 'pending' }
      ]
    },
    technicalSpecs: {
      nluEngine: 'Custom Transformer',
      languages: 12,
      wakeWords: 'Customizable',
      noiseCancel: 'Multi-mic array',
      responseTime: '<500ms',
      privacyMode: 'Local processing option'
    },
    timeline: [
      { phase: 'AI Model Training', duration: '3 months', status: 'completed' },
      { phase: 'Core Development', duration: '3 months', status: 'completed' },
      { phase: 'Integration', duration: '2 months', status: 'in-progress' },
      { phase: 'Testing & Refinement', duration: '1 month', status: 'pending' }
    ],
    team: { developers: 5, mlEngineers: 3, testers: 2 },
    documents: ['Voice Command Reference', 'Integration Guide', 'Privacy Documentation']
  },
  {
    id: 11,
    name: 'Crew Control Panel',
    shortName: 'CrewPanel',
    category: 'Hardware',
    subcategory: 'Control',
    description: 'Dedicated crew interface for managing all cabin systems, passenger requests, and service workflows.',
    fullDescription: 'The Crew Control Panel is a ruggedized touchscreen interface designed specifically for flight attendant operations. This 10" panel provides quick access to all cabin systems, passenger service requests, inventory management, and safety checklists. Features include night mode, glove-compatible touch, and integration with crew scheduling systems.',
    developmentTime: '8 months',
    developmentMonths: 8,
    status: 'Available',
    version: '3.0.0',
    lastUpdated: '2024-07-25',
    price: { base: 18000, installation: 4500, maintenance: 3000 },
    certifications: ['EASA', 'FAA', 'DO-160G'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon', 'Embraer Legacy'],
    dependencies: [5],
    schedulingReasons: {
      startReason: 'CMS Crew Module Ready',
      startDetails: 'Development started after CMS crew management module was available',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'CMS Crew APIs', description: 'Crew workflow and passenger management APIs required' },
        { type: 'design', icon: 'ðŸŽ¨', title: 'Flight Attendant Research', description: '1-month research with cabin crew for UX requirements' },
        { type: 'hardware', icon: 'ðŸ”§', title: 'Ruggedized Display', description: 'IP54-rated touchscreen sourcing from specialized supplier' },
        { type: 'certification', icon: 'ðŸ“‹', title: 'Crew Station Certification', description: 'Specific requirements for crew-operated equipment' }
      ],
      keyMilestones: [
        { date: 'Q2 2024', event: 'UX Research', status: 'completed' },
        { date: 'Q3 2024', event: 'Hardware Dev', status: 'completed' },
        { date: 'Q3 2024', event: 'Software Dev', status: 'completed' },
        { date: 'Q3 2024', event: 'Release', status: 'completed' }
      ]
    },
    technicalSpecs: {
      display: '10.1" IPS',
      resolution: '1920x1200',
      touch: 'PCAP, glove-compatible',
      protection: 'IP54',
      mounting: 'VESA, custom',
      connectivity: 'Ethernet, WiFi'
    },
    timeline: [
      { phase: 'Requirements & Design', duration: '1.5 months', status: 'completed' },
      { phase: 'Hardware Development', duration: '3 months', status: 'completed' },
      { phase: 'Software Development', duration: '2 months', status: 'completed' },
      { phase: 'Testing & Certification', duration: '1.5 months', status: 'completed' }
    ],
    team: { engineers: 4, developers: 3, designers: 1, testers: 2 },
    documents: ['User Manual', 'Installation Guide', 'Quick Reference Card']
  },
  {
    id: 12,
    name: 'Premium Audio System',
    shortName: 'AudioPro',
    category: 'Hardware',
    subcategory: 'Entertainment',
    description: 'High-fidelity speaker system with spatial audio, noise masking, and personalized sound zones.',
    fullDescription: 'AudioPro delivers an exceptional audio experience with carefully tuned speakers and advanced digital signal processing. The system features spatial audio for immersive movie watching, active noise masking for peaceful rest, and personalized sound zones that prevent audio bleed between passengers. Includes premium headphone amplifier outputs for audiophile-quality personal listening.',
    developmentTime: '10 months',
    developmentMonths: 10,
    status: 'Available',
    version: '2.2.0',
    lastUpdated: '2024-06-10',
    price: { base: 78000, installation: 28000, maintenance: 10000 },
    certifications: ['EASA', 'FAA', 'DO-160G'],
    compatibleAircraft: ['Bombardier Global', 'Gulfstream G-Series', 'Dassault Falcon'],
    dependencies: [5, 6],
    schedulingReasons: {
      startReason: 'Audio Stack Dependencies',
      startDetails: 'Required CMS audio routing and Media Server audio streams',
      constraints: [
        { type: 'dependency', icon: 'ðŸ”—', title: 'CMS Audio Router', description: 'Zone management and audio routing through CMS' },
        { type: 'dependency', icon: 'ðŸ”—', title: 'Media Server Integration', description: 'High-res audio streaming from MSU' },
        { type: 'acoustic', icon: 'ðŸ”Š', title: 'Acoustic Engineering', description: 'Cabin acoustic modeling for optimal speaker placement' },
        { type: 'design', icon: 'ðŸŽ¨', title: 'Interior Integration', description: 'Coordination with OEM for speaker grille design' }
      ],
      keyMilestones: [
        { date: 'Q2 2023', event: 'Acoustic Design', status: 'completed' },
        { date: 'Q3 2023', event: 'Hardware Dev', status: 'completed' },
        { date: 'Q4 2023', event: 'DSP Tuning', status: 'completed' },
        { date: 'Q1 2024', event: 'Release', status: 'completed' }
      ]
    },
    technicalSpecs: {
      speakers: 'Custom neodymium',
      channels: 'Up to 7.1.4 Atmos',
      frequency: '20Hz - 40kHz',
      thd: '<0.05%',
      amplification: 'Class D, 500W total',
      dsp: '32-bit/96kHz'
    },
    timeline: [
      { phase: 'Acoustic Design', duration: '2 months', status: 'completed' },
      { phase: 'Hardware Development', duration: '4 months', status: 'completed' },
      { phase: 'DSP Tuning', duration: '2 months', status: 'completed' },
      { phase: 'Integration & Testing', duration: '2 months', status: 'completed' }
    ],
    team: { engineers: 4, acousticExperts: 2, testers: 2 },
    documents: ['Installation Guide', 'Tuning Manual', 'Speaker Placement Guide']
  }
];

const projectsData = [
  {
    id: 1,
    name: 'Global 5500 Excellence',
    client: 'Bombardier',
    clientLogo: 'BBD',
    aircraft: 'Global 5500',
    status: 'Completed',
    year: '2023',
    startDate: '2022-03-15',
    endDate: '2023-08-20',
    products: [1, 2, 3, 4, 5, 6, 8, 11, 12],
    budget: 2400000,
    description: 'Full NICE system implementation for Bombardier Global 5500 private jets with premium entertainment and connectivity.',
    fullDescription: 'A comprehensive cabin management and entertainment solution for Bombardier\'s flagship Global 5500. This project included a complete NICE system installation with custom UI design reflecting the client\'s brand identity, integration with the aircraft\'s native systems, and specialized crew training program. The installation serves as the reference design for future Global 5500 deliveries.',
    highlights: [
      'Custom UI theme matching Bombardier brand guidelines',
      'Integration with native aircraft systems',
      'Multi-zone audio with Dolby Atmos',
      'Circadian rhythm lighting program',
      'Zero-defect delivery certification'
    ],
    team: {
      projectManager: 'Marcus Weber',
      leadEngineer: 'Sarah Chen',
      teamSize: 18
    },
    milestones: [
      { name: 'Contract Signed', date: '2022-03-15', status: 'completed' },
      { name: 'Design Approval', date: '2022-06-01', status: 'completed' },
      { name: 'Hardware Installation', date: '2022-12-15', status: 'completed' },
      { name: 'Software Integration', date: '2023-04-20', status: 'completed' },
      { name: 'Testing & Certification', date: '2023-07-10', status: 'completed' },
      { name: 'Customer Handover', date: '2023-08-20', status: 'completed' }
    ]
  },
  {
    id: 2,
    name: 'G700 Premium Experience',
    client: 'Gulfstream',
    clientLogo: 'GS',
    aircraft: 'G700',
    status: 'In Progress',
    year: '2024',
    startDate: '2024-01-10',
    endDate: '2025-06-30',
    products: [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12],
    budget: 3800000,
    description: 'Next-generation entertainment system with streaming capabilities and AI-powered services for Gulfstream G700.',
    fullDescription: 'Gulfstream\'s new G700 represents the pinnacle of business aviation, and this project delivers a matching cabin experience. Featuring our latest StreamX entertainment platform, satellite connectivity, and AI voice control, this installation pushes the boundaries of in-flight luxury. The project includes custom integration with Gulfstream\'s Symmetry Flight Deck for seamless data sharing.',
    highlights: [
      'First deployment of StreamX platform',
      'Global satellite connectivity with 100Mbps',
      'AI voice assistant integration',
      'Symmetry Flight Deck data integration',
      '4K displays throughout cabin'
    ],
    team: {
      projectManager: 'Jennifer Torres',
      leadEngineer: 'Michael Park',
      teamSize: 24
    },
    milestones: [
      { name: 'Contract Signed', date: '2024-01-10', status: 'completed' },
      { name: 'Design Approval', date: '2024-04-15', status: 'completed' },
      { name: 'Hardware Installation', date: '2024-09-01', status: 'completed' },
      { name: 'Software Integration', date: '2025-01-15', status: 'in-progress' },
      { name: 'Testing & Certification', date: '2025-04-30', status: 'pending' },
      { name: 'Customer Handover', date: '2025-06-30', status: 'pending' }
    ]
  },
  {
    id: 3,
    name: 'Falcon 8X Luxury',
    client: 'Dassault',
    clientLogo: 'DA',
    aircraft: 'Falcon 8X',
    status: 'Planning',
    year: '2025',
    startDate: '2025-02-01',
    endDate: '2026-04-30',
    products: [2, 3, 4, 5, 7, 8, 11],
    budget: 1900000,
    description: 'Elegant cabin experience for Dassault Falcon 8X with focus on ambiance and refined entertainment.',
    fullDescription: 'Dassault\'s Falcon 8X demands an equally refined cabin solution. This project emphasizes the sophisticated French design philosophy with our mood lighting system, premium displays, and intuitive cabin management. The minimalist crew interface and passenger experience prioritize elegance and ease of use.',
    highlights: [
      'French-inspired UI design',
      'Advanced mood lighting scenes',
      'Whisper-quiet audio zones',
      'Minimalist crew interface',
      'Custom leather-wrapped displays'
    ],
    team: {
      projectManager: 'Philippe Dubois',
      leadEngineer: 'Anna Schmidt',
      teamSize: 14
    },
    milestones: [
      { name: 'Contract Signed', date: '2025-02-01', status: 'pending' },
      { name: 'Design Approval', date: '2025-05-15', status: 'pending' },
      { name: 'Hardware Installation', date: '2025-10-01', status: 'pending' },
      { name: 'Software Integration', date: '2026-01-15', status: 'pending' },
      { name: 'Testing & Certification', date: '2026-03-30', status: 'pending' },
      { name: 'Customer Handover', date: '2026-04-30', status: 'pending' }
    ]
  },
  {
    id: 4,
    name: 'Challenger 650 Refresh',
    client: 'Bombardier',
    clientLogo: 'BBD',
    aircraft: 'Challenger 650',
    status: 'Completed',
    year: '2022',
    startDate: '2021-08-01',
    endDate: '2022-11-15',
    products: [2, 3, 5, 6, 8, 11],
    budget: 1200000,
    description: 'Mid-size jet entertainment solution with essential features and reliable performance.',
    fullDescription: 'A practical yet premium solution for Bombardier\'s popular Challenger 650. This project focused on delivering core NICE functionality with an emphasis on reliability and ease of maintenance. The streamlined installation reduces weight and complexity while providing an excellent passenger experience.',
    highlights: [
      'Optimized for quick turnaround maintenance',
      'Weight-saving installation design',
      'Reliable core entertainment features',
      'Simplified crew interface',
      'Cost-effective upgrade path'
    ],
    team: {
      projectManager: 'Thomas Miller',
      leadEngineer: 'Lisa Wang',
      teamSize: 12
    },
    milestones: [
      { name: 'Contract Signed', date: '2021-08-01', status: 'completed' },
      { name: 'Design Approval', date: '2021-10-15', status: 'completed' },
      { name: 'Hardware Installation', date: '2022-04-20', status: 'completed' },
      { name: 'Software Integration', date: '2022-08-10', status: 'completed' },
      { name: 'Testing & Certification', date: '2022-10-25', status: 'completed' },
      { name: 'Customer Handover', date: '2022-11-15', status: 'completed' }
    ]
  },
  {
    id: 5,
    name: 'ACJ320neo VIP',
    client: 'Airbus',
    clientLogo: 'AIR',
    aircraft: 'ACJ320neo',
    status: 'In Progress',
    year: '2024',
    startDate: '2023-11-01',
    endDate: '2024-12-20',
    products: [2, 3, 5, 6, 8, 9, 11, 12],
    budget: 4200000,
    description: 'Head-of-state configuration with maximum security, redundancy, and premium features.',
    fullDescription: 'A government VIP configuration for the Airbus ACJ320neo requiring the highest levels of security, redundancy, and operational reliability. This project includes encrypted communications, multiple backup systems, and integration with secure ground networks. All installations meet enhanced security protocols and government certification requirements.',
    highlights: [
      'Enhanced security protocols',
      'Encrypted satellite communications',
      'Triple-redundant core systems',
      'Secure ground network integration',
      'Government certification compliance'
    ],
    team: {
      projectManager: 'Robert KÃ¶nig',
      leadEngineer: 'David Nguyen',
      teamSize: 28
    },
    milestones: [
      { name: 'Contract Signed', date: '2023-11-01', status: 'completed' },
      { name: 'Security Review', date: '2024-02-15', status: 'completed' },
      { name: 'Design Approval', date: '2024-04-01', status: 'completed' },
      { name: 'Hardware Installation', date: '2024-08-15', status: 'completed' },
      { name: 'Software Integration', date: '2024-10-30', status: 'in-progress' },
      { name: 'Customer Handover', date: '2024-12-20', status: 'pending' }
    ]
  }
];

// ============================================
// TEAM MEMBERS DATA
// ============================================
const teamMembersData = [
  {
    id: 1,
    name: 'Marcus Weber',
    email: 'marcus.weber@lht.com',
    role: 'Project Manager',
    department: 'Program Management',
    avatar: 'MW',
    products: [1, 2, 5, 9],
    projects: [1, 3],
    skills: ['Project Planning', 'Stakeholder Management', 'Agile/Scrum'],
    joinDate: '2019-03-15',
    contributions: [
      { date: '2024-10-15', type: 'milestone', description: 'Completed CMS v5.0 release planning', product: 5 },
      { date: '2024-10-10', type: 'task', description: 'Updated project timeline for G700 delivery', project: 3 },
      { date: '2024-09-28', type: 'review', description: 'Approved BT Connect certification package', product: 1 }
    ]
  },
  {
    id: 2,
    name: 'Sarah Chen',
    email: 'sarah.chen@lht.com',
    role: 'Lead Software Engineer',
    department: 'Software Development',
    avatar: 'SC',
    products: [1, 5, 7, 8, 10],
    projects: [1, 2, 3],
    skills: ['React', 'Python', 'System Architecture', 'DO-178C'],
    joinDate: '2018-06-01',
    contributions: [
      { date: '2024-10-14', type: 'code', description: 'Implemented new streaming protocol for StreamX', product: 7 },
      { date: '2024-10-12', type: 'code', description: 'Fixed memory leak in CMS core module', product: 5 },
      { date: '2024-10-08', type: 'review', description: 'Code review for FlightInfo update', product: 8 }
    ]
  },
  {
    id: 3,
    name: 'Thomas MÃ¼ller',
    email: 'thomas.mueller@lht.com',
    role: 'Hardware Engineer',
    department: 'Hardware Development',
    avatar: 'TM',
    products: [2, 3, 6, 9, 11, 12],
    projects: [1, 4, 5],
    skills: ['PCB Design', 'EMC Testing', 'DO-160G', 'Thermal Management'],
    joinDate: '2017-09-01',
    contributions: [
      { date: '2024-10-13', type: 'design', description: 'Completed PDU 4K thermal analysis', product: 3 },
      { date: '2024-10-09', type: 'testing', description: 'EMC pre-compliance testing for WAP Module', product: 2 },
      { date: '2024-10-05', type: 'milestone', description: 'SatComm hardware revision approved', product: 9 }
    ]
  },
  {
    id: 4,
    name: 'Emma Schmidt',
    email: 'emma.schmidt@lht.com',
    role: 'QA Lead',
    department: 'Quality Assurance',
    avatar: 'ES',
    products: [1, 2, 3, 5, 7, 10],
    projects: [2, 3, 4],
    skills: ['Test Automation', 'Certification Testing', 'Requirements Tracing'],
    joinDate: '2020-01-15',
    contributions: [
      { date: '2024-10-14', type: 'testing', description: 'Completed regression testing for VoiceAI alpha', product: 10 },
      { date: '2024-10-11', type: 'document', description: 'Updated test plan for StreamX beta', product: 7 },
      { date: '2024-10-07', type: 'bug', description: 'Identified critical bug in BT Connect pairing', product: 1 }
    ]
  },
  {
    id: 5,
    name: 'David Park',
    email: 'david.park@lht.com',
    role: 'Certification Expert',
    department: 'Certification & Compliance',
    avatar: 'DP',
    products: [2, 5, 6, 9],
    projects: [1, 3, 5],
    skills: ['EASA Certification', 'FAA Compliance', 'DO-178C', 'DO-160G'],
    joinDate: '2016-04-01',
    contributions: [
      { date: '2024-10-15', type: 'certification', description: 'Submitted EASA approval package for CMS v5', product: 5 },
      { date: '2024-10-10', type: 'review', description: 'DER review for Media Server certification', product: 6 },
      { date: '2024-10-03', type: 'document', description: 'Updated compliance matrix for SatComm', product: 9 }
    ]
  },
  {
    id: 6,
    name: 'Lisa Johnson',
    email: 'lisa.johnson@lht.com',
    role: 'UI/UX Designer',
    department: 'Design',
    avatar: 'LJ',
    products: [3, 7, 8, 11],
    projects: [2, 3, 4],
    skills: ['UI Design', 'User Research', 'Prototyping', 'Design Systems'],
    joinDate: '2021-02-01',
    contributions: [
      { date: '2024-10-14', type: 'design', description: 'Completed StreamX player interface redesign', product: 7 },
      { date: '2024-10-09', type: 'design', description: 'Updated CrewPanel dashboard layout', product: 11 },
      { date: '2024-10-04', type: 'research', description: 'User testing sessions for FlightInfo', product: 8 }
    ]
  },
  {
    id: 7,
    name: 'Michael Brown',
    email: 'michael.brown@lht.com',
    role: 'Systems Architect',
    department: 'Architecture',
    avatar: 'MB',
    products: [5, 6, 9, 10],
    projects: [1, 3, 5],
    skills: ['System Design', 'Integration', 'ARINC 429', 'Network Architecture'],
    joinDate: '2015-08-01',
    contributions: [
      { date: '2024-10-13', type: 'architecture', description: 'Designed VoiceAI integration architecture', product: 10 },
      { date: '2024-10-08', type: 'review', description: 'Architecture review for G700 project', project: 3 },
      { date: '2024-10-02', type: 'document', description: 'Updated CMS integration specifications', product: 5 }
    ]
  },
  {
    id: 8,
    name: 'Anna Kowalski',
    email: 'anna.kowalski@lht.com',
    role: 'ML Engineer',
    department: 'AI & Machine Learning',
    avatar: 'AK',
    products: [10, 7],
    projects: [3],
    skills: ['Machine Learning', 'NLP', 'TensorFlow', 'Voice Recognition'],
    joinDate: '2022-06-15',
    contributions: [
      { date: '2024-10-15', type: 'code', description: 'Improved VoiceAI noise cancellation model', product: 10 },
      { date: '2024-10-11', type: 'research', description: 'Evaluated new NLU model architectures', product: 10 },
      { date: '2024-10-06', type: 'code', description: 'Implemented content recommendation engine for StreamX', product: 7 }
    ]
  }
];

// ============================================
// STYLES
// ============================================

const styles = `
  @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap');
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  :root {
    --primary: #0a1628;
    --primary-light: #1a2d47;
    --accent: #f0ab00;
    --accent-hover: #ffc933;
    --accent-muted: rgba(240, 171, 0, 0.15);
    --blue: #3b82f6;
    --blue-muted: rgba(59, 130, 246, 0.15);
    --purple: #8b5cf6;
    --purple-muted: rgba(139, 92, 246, 0.15);
    --green: #10b981;
    --green-muted: rgba(16, 185, 129, 0.15);
    --red: #ef4444;
    --red-muted: rgba(239, 68, 68, 0.15);
    --orange: #f97316;
    --orange-muted: rgba(249, 115, 22, 0.15);
    --cyan: #06b6d4;
    --cyan-muted: rgba(6, 182, 212, 0.15);
    
    --bg-dark: #050a12;
    --bg-card: #0d1520;
    --bg-elevated: #121d2e;
    --bg-hover: #182536;
    
    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;
    --text-muted: #64748b;
    --text-dim: #475569;
    
    --border: #1e293b;
    --border-light: #334155;
    
    --gradient-gold: linear-gradient(135deg, #f0ab00 0%, #ffd700 50%, #f0ab00 100%);
    --gradient-blue: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
    --gradient-dark: linear-gradient(180deg, #0d1520 0%, #050a12 100%);
  }
  
  body {
    font-family: 'Plus Jakarta Sans', -apple-system, sans-serif;
    background: var(--bg-dark);
    color: var(--text-primary);
    min-height: 100vh;
    line-height: 1.6;
  }
  
  .app {
    min-height: 100vh;
    background: var(--bg-dark);
  }

  /* ============ NAVIGATION ============ */
  .nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 72px;
    background: rgba(5, 10, 18, 0.85);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    z-index: 1000;
    display: flex;
    align-items: center;
    padding: 0 2rem;
  }
  
  .nav-inner {
    max-width: 1600px;
    width: 100%;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .logo {
    display: flex;
    align-items: center;
    gap: 1rem;
    cursor: pointer;
  }
  
  .logo-mark {
    width: 44px;
    height: 44px;
    background: var(--gradient-gold);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 1rem;
    color: var(--primary);
    letter-spacing: -0.5px;
  }
  
  .logo-text {
    display: flex;
    flex-direction: column;
  }
  
  .logo-title {
    font-size: 1.1rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--text-primary);
  }
  
  .logo-subtitle {
    font-size: 0.7rem;
    font-weight: 500;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.15em;
  }
  
  .nav-links {
    display: flex;
    gap: 0.5rem;
  }
  
  .nav-link {
    padding: 0.6rem 1.25rem;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-family: inherit;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.2s ease;
  }
  
  .nav-link:hover {
    color: var(--text-primary);
    background: var(--bg-elevated);
  }
  
  .nav-link.active {
    color: var(--accent);
    background: var(--accent-muted);
  }
  
  .nav-search {
    position: relative;
    width: 320px;
  }
  
  .nav-search input {
    width: 100%;
    padding: 0.65rem 1rem 0.65rem 2.75rem;
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: var(--text-primary);
    font-family: inherit;
    font-size: 0.875rem;
    outline: none;
    transition: all 0.2s ease;
  }
  
  .nav-search input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-muted);
  }
  
  .nav-search input::placeholder {
    color: var(--text-muted);
  }
  
  .nav-search-icon {
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
  }

  /* ============ MAIN LAYOUT ============ */
  .main {
    padding-top: 72px;
    min-height: 100vh;
  }
  
  .page {
    max-width: 1600px;
    margin: 0 auto;
    padding: 2.5rem 2rem;
  }

  /* ============ HOME PAGE ============ */
  .hero {
    text-align: center;
    padding: 4rem 0 3rem;
    position: relative;
  }
  
  .hero::before {
    content: '';
    position: absolute;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    width: 800px;
    height: 400px;
    background: radial-gradient(ellipse, rgba(240, 171, 0, 0.08) 0%, transparent 70%);
    pointer-events: none;
  }
  
  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--accent-muted);
    border: 1px solid rgba(240, 171, 0, 0.3);
    border-radius: 50px;
    color: var(--accent);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 1.5rem;
  }
  
  .hero h1 {
    font-size: 3.25rem;
    font-weight: 800;
    letter-spacing: -0.03em;
    line-height: 1.1;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .hero p {
    font-size: 1.125rem;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  /* Stats Grid */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.25rem;
    margin: 3rem 0;
  }
  
  .stat-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem;
    position: relative;
    overflow: hidden;
  }
  
  .stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
  }
  
  .stat-card.gold::before { background: var(--accent); }
  .stat-card.blue::before { background: var(--blue); }
  .stat-card.purple::before { background: var(--purple); }
  .stat-card.green::before { background: var(--green); }
  
  .stat-label {
    font-size: 0.8rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 0.75rem;
  }
  
  .stat-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  
  .stat-card.gold .stat-value { color: var(--accent); }
  .stat-card.blue .stat-value { color: var(--blue); }
  .stat-card.purple .stat-value { color: var(--purple); }
  .stat-card.green .stat-value { color: var(--green); }
  
  .stat-detail {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-top: 0.5rem;
  }

  /* Section Headers */
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border);
  }
  
  .section-title {
    font-size: 1.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  
  .section-subtitle {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-top: 0.25rem;
  }
  
  .section-actions {
    display: flex;
    gap: 0.5rem;
  }
  
  .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.6rem 1.25rem;
    border-radius: 8px;
    font-family: inherit;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
  }
  
  .btn-secondary {
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    color: var(--text-secondary);
  }
  
  .btn-secondary:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
    border-color: var(--border-light);
  }
  
  .btn-secondary.active {
    background: var(--accent-muted);
    border-color: var(--accent);
    color: var(--accent);
  }
  
  .btn-primary {
    background: var(--accent);
    color: var(--primary);
    font-weight: 600;
  }
  
  .btn-primary:hover {
    background: var(--accent-hover);
  }

  /* Product Grid - Home */
  .product-grid-home {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
  }
  
  .product-card-mini {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.25rem;
    cursor: pointer;
    transition: all 0.25s ease;
    position: relative;
  }
  
  .product-card-mini:hover {
    background: var(--bg-elevated);
    border-color: var(--border-light);
    transform: translateY(-2px);
  }
  
  .product-card-mini-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 0.75rem;
  }
  
  .product-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .product-icon.software {
    background: var(--purple-muted);
    color: var(--purple);
  }
  
  .product-icon.hardware {
    background: var(--green-muted);
    color: var(--green);
  }
  
  .product-status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--green);
  }
  
  .product-status-dot.dev {
    background: var(--accent);
  }
  
  .product-card-mini h3 {
    font-size: 0.95rem;
    font-weight: 600;
    margin-bottom: 0.35rem;
    letter-spacing: -0.01em;
  }
  
  .product-card-mini-cat {
    font-size: 0.75rem;
    color: var(--text-muted);
  }
  
  .product-card-mini-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1rem;
    padding-top: 0.75rem;
    border-top: 1px solid var(--border);
  }
  
  .product-card-mini-stat {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    color: var(--text-secondary);
  }

  /* Project Cards - Home */
  .project-grid-home {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25rem;
    margin-top: 1.5rem;
  }
  
  .project-card-home {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem;
    cursor: pointer;
    transition: all 0.25s ease;
  }
  
  .project-card-home:hover {
    background: var(--bg-elevated);
    border-color: var(--accent);
    transform: translateY(-3px);
    box-shadow: 0 12px 40px -12px rgba(240, 171, 0, 0.15);
  }
  
  .project-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
  }
  
  .client-logo {
    width: 48px;
    height: 48px;
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
    color: var(--text-secondary);
  }
  
  .project-status-badge {
    padding: 0.35rem 0.75rem;
    border-radius: 6px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .project-status-badge.completed {
    background: var(--green-muted);
    color: var(--green);
  }
  
  .project-status-badge.in-progress {
    background: var(--accent-muted);
    color: var(--accent);
  }
  
  .project-status-badge.planning {
    background: var(--blue-muted);
    color: var(--blue);
  }
  
  .project-card-home h3 {
    font-size: 1.15rem;
    font-weight: 600;
    margin-bottom: 0.35rem;
  }
  
  .project-card-client {
    font-size: 0.85rem;
    color: var(--text-muted);
  }
  
  .project-card-meta {
    display: flex;
    gap: 1.5rem;
    margin-top: 1.25rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border);
  }
  
  .project-meta-item {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
  }
  
  .project-meta-label {
    font-size: 0.7rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }
  
  .project-meta-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-primary);
  }

  /* ============ PRODUCTS LIST PAGE ============ */
  .products-page-header {
    margin-bottom: 2rem;
  }
  
  .products-page-header h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }
  
  .products-page-header p {
    color: var(--text-secondary);
  }
  
  .products-filters {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    align-items: center;
  }
  
  .filter-group {
    display: flex;
    gap: 0.5rem;
  }
  
  .products-table {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
  }
  
  .products-table-header {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr 1fr 100px;
    gap: 1rem;
    padding: 1rem 1.5rem;
    background: var(--bg-elevated);
    border-bottom: 1px solid var(--border);
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }
  
  .products-table-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr 1fr 100px;
    gap: 1rem;
    padding: 1.25rem 1.5rem;
    border-bottom: 1px solid var(--border);
    align-items: center;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  
  .products-table-row:hover {
    background: var(--bg-elevated);
  }
  
  .products-table-row:last-child {
    border-bottom: none;
  }
  
  .product-name-cell {
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  
  .product-name-cell h4 {
    font-size: 0.95rem;
    font-weight: 600;
    margin-bottom: 0.15rem;
  }
  
  .product-name-cell span {
    font-size: 0.8rem;
    color: var(--text-muted);
  }
  
  .category-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem 0.75rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
  }
  
  .category-badge.software {
    background: var(--purple-muted);
    color: var(--purple);
  }
  
  .category-badge.hardware {
    background: var(--green-muted);
    color: var(--green);
  }
  
  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem 0.75rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
  }
  
  .status-badge.available {
    background: var(--green-muted);
    color: var(--green);
  }
  
  .status-badge.in-development {
    background: var(--accent-muted);
    color: var(--accent);
  }
  
  .dev-time {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    color: var(--text-secondary);
  }
  
  .price-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-primary);
  }
  
  .view-btn {
    padding: 0.5rem 1rem;
    background: transparent;
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-secondary);
    font-family: inherit;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .view-btn:hover {
    background: var(--accent);
    border-color: var(--accent);
    color: var(--primary);
  }

  /* ============ PRODUCT DETAIL PAGE ============ */
  .detail-page {
    padding: 2rem;
  }
  
  .back-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text-secondary);
    font-family: inherit;
    font-size: 0.85rem;
    cursor: pointer;
    margin-bottom: 2rem;
    transition: all 0.2s ease;
  }
  
  .back-btn:hover {
    background: var(--bg-elevated);
    color: var(--text-primary);
  }
  
  .detail-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid var(--border);
  }
  
  .detail-header-left {
    display: flex;
    gap: 1.5rem;
  }
  
  .detail-icon {
    width: 80px;
    height: 80px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .detail-icon.software {
    background: var(--purple-muted);
    color: var(--purple);
  }
  
  .detail-icon.hardware {
    background: var(--green-muted);
    color: var(--green);
  }
  
  .detail-title-section h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    letter-spacing: -0.02em;
  }
  
  .detail-badges {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }
  
  .version-badge {
    padding: 0.35rem 0.75rem;
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 6px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--text-secondary);
  }
  
  .detail-meta {
    font-size: 0.85rem;
    color: var(--text-muted);
  }
  
  .detail-header-right {
    text-align: right;
  }
  
  .price-display {
    margin-bottom: 1rem;
  }
  
  .price-label {
    font-size: 0.75rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 0.25rem;
  }
  
  .price-amount {
    font-family: 'JetBrains Mono', monospace;
    font-size: 2rem;
    font-weight: 700;
    color: var(--accent);
  }
  
  .price-breakdown {
    font-size: 0.8rem;
    color: var(--text-muted);
  }
  
  .detail-content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
  }
  
  .detail-main {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  
  .detail-sidebar {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }
  
  .detail-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem;
  }
  
  .detail-card-title {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--border);
  }
  
  .detail-description {
    font-size: 1rem;
    line-height: 1.7;
    color: var(--text-secondary);
  }
  
  /* Timeline */
  .timeline-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .timeline-item {
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  
  .timeline-marker {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--accent);
    position: relative;
    flex-shrink: 0;
  }
  
  .timeline-marker.completed {
    background: var(--green);
  }
  
  .timeline-marker.in-progress {
    background: var(--accent);
    animation: pulse 2s infinite;
  }
  
  .timeline-marker.pending {
    background: var(--bg-elevated);
    border: 2px solid var(--border);
  }
  
  @keyframes pulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(240, 171, 0, 0.4); }
    50% { box-shadow: 0 0 0 8px rgba(240, 171, 0, 0); }
  }
  
  .timeline-bar {
    flex: 1;
    height: 36px;
    background: var(--bg-elevated);
    border-radius: 8px;
    overflow: hidden;
    position: relative;
  }
  
  .timeline-fill {
    height: 100%;
    border-radius: 8px;
    display: flex;
    align-items: center;
    padding: 0 1rem;
    min-width: fit-content;
  }
  
  .timeline-fill.completed {
    background: linear-gradient(90deg, var(--green) 0%, rgba(16, 185, 129, 0.7) 100%);
  }
  
  .timeline-fill.in-progress {
    background: linear-gradient(90deg, var(--accent) 0%, rgba(240, 171, 0, 0.7) 100%);
  }
  
  .timeline-fill.pending {
    background: var(--bg-hover);
  }
  
  .timeline-phase-name {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-primary);
    white-space: nowrap;
  }
  
  .timeline-fill.pending .timeline-phase-name {
    color: var(--text-muted);
  }
  
  .timeline-duration {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    color: var(--text-muted);
    min-width: 90px;
    text-align: right;
  }
  
  /* Specs Grid */
  .specs-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }
  
  .spec-item {
    padding: 1rem;
    background: var(--bg-elevated);
    border-radius: 10px;
  }
  
  .spec-label {
    font-size: 0.7rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 0.35rem;
  }
  
  .spec-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-primary);
  }
  
  /* Dependencies */
  .dependency-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .dependency-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--bg-elevated);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .dependency-item:hover {
    background: var(--bg-hover);
  }
  
  .dependency-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
  }
  
  .dependency-info h4 {
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 0.15rem;
  }
  
  .dependency-info span {
    font-size: 0.75rem;
    color: var(--text-muted);
  }
  
  .no-deps {
    color: var(--text-muted);
    font-size: 0.9rem;
    font-style: italic;
  }
  
  /* Certifications */
  .cert-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  
  .cert-badge {
    padding: 0.4rem 0.75rem;
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-secondary);
  }
  
  /* Compatible Aircraft */
  .aircraft-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .aircraft-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: var(--bg-elevated);
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--text-secondary);
  }
  
  .aircraft-check {
    color: var(--green);
  }
  
  /* Documents */
  .doc-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .doc-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: var(--bg-elevated);
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .doc-item:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
  }
  
  .doc-icon {
    color: var(--blue);
  }

  /* ============ PROJECT DETAIL PAGE ============ */
  .project-detail-header {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid var(--border);
  }
  
  .project-detail-logo {
    width: 100px;
    height: 100px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-muted);
    flex-shrink: 0;
  }
  
  .project-detail-info {
    flex: 1;
  }
  
  .project-detail-info h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }
  
  .project-client-aircraft {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
  }
  
  .project-detail-badges {
    display: flex;
    gap: 0.75rem;
  }
  
  .project-detail-stats {
    display: flex;
    gap: 2rem;
    padding-left: 2rem;
    border-left: 1px solid var(--border);
  }
  
  .project-stat {
    text-align: center;
  }
  
  .project-stat-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--accent);
  }
  
  .project-stat-label {
    font-size: 0.75rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }
  
  .project-detail-content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
  }
  
  /* Milestones */
  .milestone-list {
    display: flex;
    flex-direction: column;
    gap: 0;
  }
  
  .milestone-item {
    display: flex;
    gap: 1.25rem;
    padding: 1.25rem 0;
    border-bottom: 1px solid var(--border);
    position: relative;
  }
  
  .milestone-item:last-child {
    border-bottom: none;
  }
  
  .milestone-marker {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    flex-shrink: 0;
    margin-top: 0.2rem;
  }
  
  .milestone-marker.completed {
    background: var(--green);
  }
  
  .milestone-marker.in-progress {
    background: var(--accent);
    animation: pulse 2s infinite;
  }
  
  .milestone-marker.pending {
    background: var(--bg-elevated);
    border: 2px solid var(--border);
  }
  
  .milestone-content {
    flex: 1;
  }
  
  .milestone-name {
    font-size: 1rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
  }
  
  .milestone-date {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    color: var(--text-muted);
  }
  
  .milestone-status {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    text-transform: uppercase;
    font-weight: 600;
  }
  
  .milestone-status.completed {
    background: var(--green-muted);
    color: var(--green);
  }
  
  .milestone-status.in-progress {
    background: var(--accent-muted);
    color: var(--accent);
  }
  
  .milestone-status.pending {
    background: var(--bg-elevated);
    color: var(--text-muted);
  }
  
  /* Project Products */
  .project-products-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }
  
  .project-product-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--bg-elevated);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .project-product-card:hover {
    background: var(--bg-hover);
  }
  
  .project-product-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .project-product-info h4 {
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 0.15rem;
  }
  
  .project-product-info span {
    font-size: 0.75rem;
    color: var(--text-muted);
  }
  
  /* Highlights */
  .highlight-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .highlight-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    font-size: 0.9rem;
    color: var(--text-secondary);
  }
  
  .highlight-icon {
    color: var(--accent);
    margin-top: 0.2rem;
    flex-shrink: 0;
  }
  
  /* Team Info */
  .team-info {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .team-member {
    display: flex;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    background: var(--bg-elevated);
    border-radius: 8px;
  }
  
  .team-role {
    font-size: 0.85rem;
    color: var(--text-muted);
  }
  
  .team-name {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-primary);
  }

  /* ============ RESPONSIVE ============ */
  @media (max-width: 1200px) {
    .stats-grid {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .product-grid-home {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .project-grid-home {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .detail-content {
      grid-template-columns: 1fr;
    }
    
    .project-detail-content {
      grid-template-columns: 1fr;
    }
  }
  
  @media (max-width: 768px) {
    .nav-search {
      display: none;
    }
    
    .hero h1 {
      font-size: 2.25rem;
    }
    
    .stats-grid {
      grid-template-columns: 1fr;
    }
    
    .product-grid-home {
      grid-template-columns: 1fr;
    }
    
    .project-grid-home {
      grid-template-columns: 1fr;
    }
    
    .products-table-header,
    .products-table-row {
      grid-template-columns: 1fr;
      gap: 0.5rem;
    }
  }
  
  /* Modal Styles */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 2rem;
    animation: fadeIn 0.2s ease;
  }
  
  .modal {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 20px;
    max-width: 600px;
    width: 100%;
    max-height: 80vh;
    overflow-y: auto;
    animation: slideUp 0.3s ease;
  }
  
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .modal-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    position: sticky;
    top: 0;
    background: var(--bg-card);
    z-index: 1;
  }
  
  .modal-title { font-size: 1.25rem; font-weight: 700; }
  .modal-subtitle { font-size: 0.85rem; color: var(--text-muted); margin-top: 0.25rem; }
  
  .modal-close {
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 8px;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--text-muted);
    font-size: 1.25rem;
    transition: all 0.2s ease;
  }
  
  .modal-close:hover { background: var(--red-muted); color: var(--red); border-color: var(--red); }
  .modal-body { padding: 1.5rem; }
  
  /* Team Page Styles */
  .team-login-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 2rem;
    max-width: 500px;
    margin: 0 auto;
  }
  
  .team-member-select { display: grid; gap: 0.75rem; margin-top: 1rem; }
  
  .team-member-option {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .team-member-option:hover { border-color: var(--accent); background: var(--accent-muted); }
  
  .team-avatar {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: var(--accent);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1rem;
  }
  
  .team-member-details h4 { font-size: 1rem; font-weight: 600; }
  .team-member-details span { font-size: 0.8rem; color: var(--text-muted); }
  
  .contribution-list { display: flex; flex-direction: column; gap: 0.75rem; }
  
  .contribution-item {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: var(--bg-elevated);
    border-radius: 10px;
  }
  
  .contribution-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: var(--text-primary);
  }
  
  .contribution-icon.code { background: var(--purple-muted); color: var(--purple); }
  .contribution-icon.testing { background: var(--orange-muted); color: var(--orange); }
  .contribution-icon.design { background: var(--cyan-muted); color: var(--cyan); }
  .contribution-icon.milestone { background: var(--green-muted); color: var(--green); }
  .contribution-icon.document { background: var(--blue-muted); color: var(--blue); }
  .contribution-icon.review { background: var(--accent-muted); color: var(--accent); }
  .contribution-icon.bug { background: var(--red-muted); color: var(--red); }
  .contribution-icon.certification { background: var(--green-muted); color: var(--green); }
  .contribution-icon.architecture { background: var(--purple-muted); color: var(--purple); }
  .contribution-icon.research { background: var(--cyan-muted); color: var(--cyan); }
  .contribution-icon.task { background: var(--blue-muted); color: var(--blue); }
  
  .contribution-content { flex: 1; }
  .contribution-description { font-size: 0.9rem; margin-bottom: 0.25rem; }
  .contribution-meta { font-size: 0.75rem; color: var(--text-muted); }
  
  .form-group { margin-bottom: 1rem; }
  .form-group label { display: block; font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em; }
  .form-group select, .form-group textarea { width: 100%; padding: 0.75rem 1rem; background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 8px; color: var(--text-primary); font-size: 0.9rem; font-family: inherit; }
  .form-group select:focus, .form-group textarea:focus { outline: none; border-color: var(--accent); }
  .form-group textarea { min-height: 80px; resize: vertical; }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.2); }
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
`;

// ============================================
// ICONS
// ============================================

const SearchIcon = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <circle cx="11" cy="11" r="8"/>
    <path d="M21 21l-4.35-4.35"/>
  </svg>
);

const SoftwareIcon = ({ size = 20 }) => (
  <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <rect x="3" y="3" width="18" height="18" rx="2"/>
    <path d="M9 9l3 3-3 3"/>
    <path d="M15 15h3"/>
  </svg>
);

const HardwareIcon = ({ size = 20 }) => (
  <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <rect x="4" y="4" width="16" height="16" rx="2"/>
    <rect x="9" y="9" width="6" height="6"/>
    <path d="M9 2v2M15 2v2M9 20v2M15 20v2M2 9h2M2 15h2M20 9h2M20 15h2"/>
  </svg>
);

const ArrowLeft = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <path d="M19 12H5M12 19l-7-7 7-7"/>
  </svg>
);

const CheckIcon = () => (
  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5">
    <polyline points="20 6 9 17 4 12"/>
  </svg>
);

const StarIcon = () => (
  <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
  </svg>
);

const FileIcon = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
    <polyline points="14 2 14 8 20 8"/>
  </svg>
);

const ChevronRight = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <polyline points="9 18 15 12 9 6"/>
  </svg>
);

// ============================================
// MAIN COMPONENT
// ============================================

function LufthansaPlatform() {
  const [currentPage, setCurrentPage] = useState('home');
  const [selectedProduct, setSelectedProduct] = useState(null);
  const [selectedProject, setSelectedProject] = useState(null);
  const [categoryFilter, setCategoryFilter] = useState('all');
  const [statusFilter, setStatusFilter] = useState('all');
  const [searchQuery, setSearchQuery] = useState('');
  const [roadmapFilter, setRoadmapFilter] = useState('all');
  
  // Project Configurator State
  const [configuredProducts, setConfiguredProducts] = useState([]);
  const [projectName, setProjectName] = useState('');
  const [clientName, setClientName] = useState('');
  const [aircraftType, setAircraftType] = useState('');
  const [configView, setConfigView] = useState('builder');

  // Roadmap Modal State
  const [showScheduleModal, setShowScheduleModal] = useState(false);
  const [selectedScheduleProduct, setSelectedScheduleProduct] = useState(null);

  // Team/Contribution State
  const [loggedInTeamMember, setLoggedInTeamMember] = useState(null);
  const [contributions, setContributions] = useState([]);
  const [newContribution, setNewContribution] = useState({ type: 'task', productId: '', description: '' });

  const getProductById = (id) => productsData.find(p => p.id === id);
  const getProjectById = (id) => projectsData.find(p => p.id === id);
  const getTeamMemberById = (id) => teamMembersData.find(m => m.id === id);

  // Handle schedule modal
  const openScheduleModal = (product) => {
    setSelectedScheduleProduct(product);
    setShowScheduleModal(true);
  };

  const closeScheduleModal = () => {
    setShowScheduleModal(false);
    setSelectedScheduleProduct(null);
  };

  // Add contribution
  const addContribution = () => {
    if (!newContribution.description || !newContribution.productId) return;
    
    const contribution = {
      id: Date.now(),
      date: new Date().toISOString().split('T')[0],
      type: newContribution.type,
      description: newContribution.description,
      product: parseInt(newContribution.productId),
      memberId: loggedInTeamMember.id
    };
    
    setContributions([contribution, ...contributions]);
    setNewContribution({ type: 'task', productId: '', description: '' });
  };

  const filteredProducts = useMemo(() => {
    return productsData.filter(product => {
      const matchesCategory = categoryFilter === 'all' || product.category.toLowerCase() === categoryFilter;
      const matchesStatus = statusFilter === 'all' || 
        (statusFilter === 'available' && product.status === 'Available') ||
        (statusFilter === 'development' && product.status === 'In Development');
      const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                           product.description.toLowerCase().includes(searchQuery.toLowerCase());
      return matchesCategory && matchesStatus && matchesSearch;
    });
  }, [categoryFilter, statusFilter, searchQuery]);

  const navigateToProduct = (product) => {
    setSelectedProduct(product);
    setCurrentPage('product-detail');
  };

  const navigateToProject = (project) => {
    setSelectedProject(project);
    setCurrentPage('project-detail');
  };

  const formatCurrency = (amount) => {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'EUR',
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(amount);
  };

  // ============ HOME PAGE ============
  const HomePage = () => (
    <div className="page" style={{ padding: 0, maxWidth: '100%' }}>
      {/* Luxury Hero Section */}
      <div style={{
        position: 'relative',
        minHeight: '70vh',
        display: 'flex',
        alignItems: 'center',
        overflow: 'hidden',
        background: 'linear-gradient(135deg, #0a1628 0%, #122a4a 40%, #0d1929 100%)',
        borderRadius: '0 0 40px 40px',
        marginBottom: '3rem'
      }}>
        {/* Animated Background Elements */}
        <div style={{ position: 'absolute', inset: 0, overflow: 'hidden' }}>
          {/* Subtle grid pattern */}
          <svg style={{ position: 'absolute', width: '100%', height: '100%', opacity: 0.03 }}>
            <defs>
              <pattern id="luxuryGrid" width="60" height="60" patternUnits="userSpaceOnUse">
                <path d="M 60 0 L 0 0 0 60" fill="none" stroke="white" strokeWidth="0.5"/>
              </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#luxuryGrid)" />
          </svg>
          
          {/* Private Jet Silhouette - Main */}
          <svg style={{ position: 'absolute', right: '-8%', top: '50%', transform: 'translateY(-50%)', width: '65%', opacity: 0.08 }} viewBox="0 0 800 300">
            <path fill="var(--accent)" d="M750 150c0-15-10-28-25-32l-280-45c-5-1-10 0-14 3l-85 55-180-30c-8-1-15 3-18 10l-15 35c-3 8 2 16 10 18l120 25-45 30-60-15c-5-1-10 0-14 4l-25 25c-5 5-3 14 4 17l100 35c5 2 11 1 15-3l70-55 180 25c15 2 28-5 35-18l15-30 190-25c15-2 22-15 22-29z"/>
          </svg>
          
          {/* Secondary Jet - smaller, different angle */}
          <svg style={{ position: 'absolute', left: '5%', bottom: '15%', width: '25%', opacity: 0.05, transform: 'scaleX(-1) rotate(-5deg)' }} viewBox="0 0 800 300">
            <path fill="white" d="M750 150c0-15-10-28-25-32l-280-45c-5-1-10 0-14 3l-85 55-180-30c-8-1-15 3-18 10l-15 35c-3 8 2 16 10 18l120 25-45 30-60-15c-5-1-10 0-14 4l-25 25c-5 5-3 14 4 17l100 35c5 2 11 1 15-3l70-55 180 25c15 2 28-5 35-18l15-30 190-25c15-2 22-15 22-29z"/>
          </svg>
          
          {/* Decorative circles - radar/luxury feel */}
          <div style={{ position: 'absolute', right: '15%', top: '20%', width: 400, height: 400, border: '1px solid rgba(240,171,0,0.1)', borderRadius: '50%' }}></div>
          <div style={{ position: 'absolute', right: '10%', top: '15%', width: 500, height: 500, border: '1px solid rgba(240,171,0,0.05)', borderRadius: '50%' }}></div>
          <div style={{ position: 'absolute', left: '-5%', bottom: '-20%', width: 300, height: 300, border: '1px solid rgba(255,255,255,0.05)', borderRadius: '50%' }}></div>
          
          {/* Gradient overlay for depth */}
          <div style={{ position: 'absolute', inset: 0, background: 'radial-gradient(ellipse at 30% 50%, transparent 0%, rgba(10,22,40,0.7) 70%)' }}></div>
        </div>

        {/* Hero Content */}
        <div style={{ position: 'relative', zIndex: 10, padding: '4rem', maxWidth: 700 }}>
          <div style={{ 
            display: 'inline-flex', 
            alignItems: 'center', 
            gap: '0.75rem',
            padding: '0.5rem 1rem',
            background: 'rgba(240,171,0,0.1)',
            border: '1px solid rgba(240,171,0,0.2)',
            borderRadius: 30,
            marginBottom: '1.5rem'
          }}>
            <div style={{ width: 8, height: 8, background: 'var(--accent)', borderRadius: '50%', animation: 'pulse 2s infinite' }}></div>
            <span style={{ fontSize: '0.8rem', color: 'var(--accent)', letterSpacing: '0.1em', textTransform: 'uppercase' }}>Lufthansa Technik NICE</span>
          </div>
          
          <h1 style={{ 
            fontSize: '3.5rem', 
            fontWeight: 300, 
            color: 'white',
            lineHeight: 1.1,
            marginBottom: '1.5rem'
          }}>
            <span style={{ display: 'block', fontWeight: 700 }}>Premium Cabin</span>
            <span style={{ display: 'block', color: 'var(--accent)' }}>Solutions</span>
          </h1>
          
          <p style={{ 
            fontSize: '1.15rem', 
            color: 'rgba(255,255,255,0.7)', 
            lineHeight: 1.7,
            marginBottom: '2rem',
            maxWidth: 500
          }}>
            Elevating the private aviation experience with cutting-edge in-flight entertainment, 
            connectivity, and cabin management systems for the world's most discerning travelers.
          </p>
          
          <div style={{ display: 'flex', gap: '1rem' }}>
            <button 
              className="btn btn-primary"
              onClick={() => setCurrentPage('products')}
              style={{ padding: '1rem 2rem', fontSize: '0.95rem' }}
            >
              Explore Products
            </button>
            <button 
              className="btn btn-secondary"
              onClick={() => setCurrentPage('configurator')}
              style={{ padding: '1rem 2rem', fontSize: '0.95rem', background: 'rgba(255,255,255,0.05)', borderColor: 'rgba(255,255,255,0.2)' }}
            >
              Configure System
            </button>
          </div>
        </div>

        {/* Floating Stats on Hero */}
        <div style={{ 
          position: 'absolute', 
          right: '5%', 
          bottom: '10%',
          display: 'flex',
          gap: '1rem',
          zIndex: 10
        }}>
          {[
            { value: productsData.length, label: 'Products', color: 'var(--accent)' },
            { value: projectsData.length, label: 'Projects', color: 'var(--blue)' },
            { value: '100+', label: 'Aircraft', color: 'var(--green)' }
          ].map((stat, idx) => (
            <div key={idx} style={{
              padding: '1.25rem 1.5rem',
              background: 'rgba(255,255,255,0.03)',
              backdropFilter: 'blur(10px)',
              border: '1px solid rgba(255,255,255,0.08)',
              borderRadius: 16,
              textAlign: 'center',
              minWidth: 100
            }}>
              <div style={{ fontSize: '2rem', fontWeight: 700, color: stat.color }}>{stat.value}</div>
              <div style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.5)', textTransform: 'uppercase', letterSpacing: '0.05em' }}>{stat.label}</div>
            </div>
          ))}
        </div>
      </div>

      {/* Main Content */}
      <div style={{ padding: '0 2rem', maxWidth: 1400, margin: '0 auto' }}>
        
        {/* Premium Stats Bar */}
        <div style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(4, 1fr)',
          gap: '1.5rem',
          marginBottom: '4rem',
          marginTop: '-2rem'
        }}>
          {[
            { label: 'Total Products', value: productsData.length, detail: `${productsData.filter(p => p.category === 'Software').length} Software â€¢ ${productsData.filter(p => p.category === 'Hardware').length} Hardware`, color: 'var(--accent)', icon: 'M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z' },
            { label: 'Active Projects', value: projectsData.filter(p => p.status === 'In Progress').length, detail: `${projectsData.length} total implementations`, color: 'var(--blue)', icon: 'M22 11.08V12a10 10 0 1 1-5.93-9.14M22 4L12 14.01l-3-3' },
            { label: 'In Development', value: productsData.filter(p => p.status === 'In Development').length, detail: 'Launching Q1 2025', color: 'var(--purple)', icon: 'M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83' },
            { label: 'Portfolio Value', value: 'â‚¬1.2M', detail: 'Average per project', color: 'var(--green)', icon: 'M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6' }
          ].map((stat, idx) => (
            <div key={idx} style={{
              background: 'var(--bg-card)',
              border: '1px solid var(--border)',
              borderRadius: 20,
              padding: '1.75rem',
              position: 'relative',
              overflow: 'hidden'
            }}>
              <div style={{ position: 'absolute', top: -20, right: -20, width: 100, height: 100, background: `linear-gradient(135deg, ${stat.color}20, transparent)`, borderRadius: '50%' }}></div>
              <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '0.75rem' }}>
                <div style={{ 
                  width: 44, height: 44, 
                  background: `${stat.color}15`, 
                  borderRadius: 12,
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center'
                }}>
                  <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke={stat.color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <path d={stat.icon} />
                  </svg>
                </div>
              </div>
              <div style={{ fontSize: '2.25rem', fontWeight: 700, color: 'var(--text-primary)', marginBottom: '0.25rem' }}>{stat.value}</div>
              <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.25rem' }}>{stat.label}</div>
              <div style={{ fontSize: '0.75rem', color: stat.color }}>{stat.detail}</div>
            </div>
          ))}
        </div>

        {/* Featured Aircraft Partners */}
        <div style={{ marginBottom: '4rem' }}>
          <div style={{ textAlign: 'center', marginBottom: '2rem' }}>
            <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', textTransform: 'uppercase', letterSpacing: '0.15em', marginBottom: '1rem' }}>Trusted by Leading Manufacturers</p>
            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '4rem', flexWrap: 'wrap' }}>
              {['Bombardier', 'Gulfstream', 'Dassault', 'Embraer', 'Airbus ACJ'].map((brand, idx) => (
                <div key={idx} style={{ 
                  fontSize: '1.1rem', 
                  fontWeight: 600, 
                  color: 'var(--text-dim)',
                  opacity: 0.5,
                  letterSpacing: '0.05em'
                }}>{brand}</div>
              ))}
            </div>
          </div>
        </div>

        {/* Products Section */}
        <div className="section-header">
          <div>
            <h2 className="section-title" style={{ fontSize: '1.75rem' }}>Products & Services</h2>
            <p className="section-subtitle">Premium in-flight entertainment and cabin management solutions</p>
          </div>
          <div className="section-actions">
            <button className="btn btn-primary" onClick={() => setCurrentPage('products')}>
              View All Products <ChevronRight />
            </button>
          </div>
        </div>

        <div style={{ 
          display: 'grid', 
          gridTemplateColumns: 'repeat(4, 1fr)', 
          gap: '1.25rem',
          marginBottom: '4rem'
        }}>
          {productsData.slice(0, 8).map(product => (
            <div 
              key={product.id} 
              onClick={() => navigateToProduct(product)}
              style={{
                background: 'var(--bg-card)',
                border: '1px solid var(--border)',
                borderRadius: 16,
                padding: '1.5rem',
                cursor: 'pointer',
                transition: 'all 0.3s ease',
                position: 'relative',
                overflow: 'hidden'
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.borderColor = product.category === 'Software' ? 'var(--purple)' : 'var(--green)';
                e.currentTarget.style.transform = 'translateY(-4px)';
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.borderColor = 'var(--border)';
                e.currentTarget.style.transform = 'translateY(0)';
              }}
            >
              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                <div style={{
                  width: 48, height: 48, borderRadius: 12,
                  background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)',
                  color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                  display: 'flex', alignItems: 'center', justifyContent: 'center'
                }}>
                  {product.category === 'Software' ? <SoftwareIcon size={24} /> : <HardwareIcon size={24} />}
                </div>
                <div style={{
                  width: 10, height: 10, borderRadius: '50%',
                  background: product.status === 'Available' ? 'var(--green)' : 'var(--accent)'
                }}></div>
              </div>
              <h3 style={{ fontSize: '1.05rem', fontWeight: 600, marginBottom: '0.35rem' }}>{product.shortName}</h3>
              <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '1rem' }}>{product.subcategory}</p>
              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', paddingTop: '0.75rem', borderTop: '1px solid var(--border)' }}>
                <span style={{ fontSize: '0.75rem', color: 'var(--text-dim)' }}>{product.developmentTime}</span>
                <span style={{ fontSize: '0.85rem', fontWeight: 600, color: 'var(--accent)' }}>{formatCurrency(product.price.base)}</span>
              </div>
            </div>
          ))}
        </div>

        {/* Projects Section */}
        <div className="section-header">
          <div>
            <h2 className="section-title" style={{ fontSize: '1.75rem' }}>Client Projects</h2>
            <p className="section-subtitle">Bespoke installations for elite private aviation</p>
          </div>
          <div className="section-actions">
            <button className="btn btn-primary" onClick={() => setCurrentPage('projects')}>
              View All Projects <ChevronRight />
            </button>
          </div>
        </div>

        <div style={{ 
          display: 'grid', 
          gridTemplateColumns: 'repeat(3, 1fr)', 
          gap: '1.5rem',
          marginBottom: '3rem'
        }}>
          {projectsData.slice(0, 3).map(project => (
            <div 
              key={project.id}
              onClick={() => navigateToProject(project)}
              style={{
                background: 'linear-gradient(145deg, var(--bg-card) 0%, var(--bg-elevated) 100%)',
                border: '1px solid var(--border)',
                borderRadius: 20,
                overflow: 'hidden',
                cursor: 'pointer',
                transition: 'all 0.3s ease'
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.borderColor = 'var(--accent)';
                e.currentTarget.style.transform = 'translateY(-4px)';
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.borderColor = 'var(--border)';
                e.currentTarget.style.transform = 'translateY(0)';
              }}
            >
              {/* Project Header with gradient */}
              <div style={{
                padding: '1.5rem',
                background: 'linear-gradient(135deg, rgba(240,171,0,0.1) 0%, transparent 100%)',
                borderBottom: '1px solid var(--border)'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                  <div style={{
                    width: 56, height: 56,
                    background: 'var(--bg-card)',
                    border: '2px solid var(--accent)',
                    borderRadius: 14,
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '1.1rem',
                    fontWeight: 700,
                    color: 'var(--accent)'
                  }}>{project.clientLogo}</div>
                  <span style={{
                    padding: '0.35rem 0.75rem',
                    borderRadius: 20,
                    fontSize: '0.7rem',
                    fontWeight: 600,
                    background: project.status === 'Completed' ? 'var(--green-muted)' : project.status === 'In Progress' ? 'var(--blue-muted)' : 'var(--accent-muted)',
                    color: project.status === 'Completed' ? 'var(--green)' : project.status === 'In Progress' ? 'var(--blue)' : 'var(--accent)'
                  }}>{project.status}</span>
                </div>
                <h3 style={{ fontSize: '1.15rem', fontWeight: 700, marginBottom: '0.25rem' }}>{project.name}</h3>
                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)' }}>{project.client} â€¢ {project.aircraft}</p>
              </div>
              
              {/* Project Stats */}
              <div style={{ padding: '1.25rem 1.5rem' }}>
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem' }}>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem' }}>Products</div>
                    <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--purple)' }}>{project.products.length}</div>
                  </div>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem' }}>Budget</div>
                    <div style={{ fontSize: '1rem', fontWeight: 700, color: 'var(--green)' }}>{formatCurrency(project.budget)}</div>
                  </div>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem' }}>Year</div>
                    <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--text-primary)' }}>{project.year}</div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>

        {/* Bottom CTA */}
        <div style={{
          background: 'linear-gradient(135deg, #0a1628 0%, #1a2d47 100%)',
          borderRadius: 24,
          padding: '3rem',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'space-between',
          marginBottom: '2rem',
          position: 'relative',
          overflow: 'hidden'
        }}>
          {/* Background aircraft */}
          <svg style={{ position: 'absolute', right: 0, top: '50%', transform: 'translateY(-50%)', width: '40%', opacity: 0.05 }} viewBox="0 0 800 300">
            <path fill="white" d="M750 150c0-15-10-28-25-32l-280-45c-5-1-10 0-14 3l-85 55-180-30c-8-1-15 3-18 10l-15 35c-3 8 2 16 10 18l120 25-45 30-60-15c-5-1-10 0-14 4l-25 25c-5 5-3 14 4 17l100 35c5 2 11 1 15-3l70-55 180 25c15 2 28-5 35-18l15-30 190-25c15-2 22-15 22-29z"/>
          </svg>
          
          <div style={{ position: 'relative', zIndex: 1 }}>
            <h3 style={{ fontSize: '1.5rem', fontWeight: 700, color: 'white', marginBottom: '0.5rem' }}>Ready to elevate your cabin experience?</h3>
            <p style={{ fontSize: '0.95rem', color: 'rgba(255,255,255,0.6)' }}>Configure a custom NICE system tailored to your aircraft specifications.</p>
          </div>
          <button 
            className="btn btn-primary"
            onClick={() => setCurrentPage('configurator')}
            style={{ padding: '1rem 2rem', fontSize: '1rem', position: 'relative', zIndex: 1 }}
          >
            Start Configuration
          </button>
        </div>
      </div>
    </div>
  );

  // ============ PRODUCTS LIST PAGE ============
  const ProductsPage = () => (
    <div className="page" style={{ padding: 0, maxWidth: '100%' }}>
      {/* Hero Header */}
      <div style={{
        position: 'relative',
        padding: '4rem 2rem 3rem',
        background: 'linear-gradient(135deg, #0a1628 0%, #1a2d47 100%)',
        marginBottom: '2rem',
        overflow: 'hidden'
      }}>
        {/* Background elements */}
        <div style={{ position: 'absolute', inset: 0, overflow: 'hidden' }}>
          <svg style={{ position: 'absolute', width: '100%', height: '100%', opacity: 0.03 }}>
            <defs>
              <pattern id="prodGrid" width="40" height="40" patternUnits="userSpaceOnUse">
                <path d="M 40 0 L 0 0 0 40" fill="none" stroke="white" strokeWidth="0.5"/>
              </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#prodGrid)" />
          </svg>
          <div style={{ position: 'absolute', right: '10%', top: '50%', transform: 'translateY(-50%)', width: 300, height: 300, border: '1px solid rgba(240,171,0,0.1)', borderRadius: '50%' }}></div>
          <div style={{ position: 'absolute', right: '5%', top: '40%', transform: 'translateY(-50%)', width: 400, height: 400, border: '1px solid rgba(240,171,0,0.05)', borderRadius: '50%' }}></div>
        </div>
        
        <div style={{ position: 'relative', zIndex: 1, maxWidth: 1400, margin: '0 auto' }}>
          <div style={{ 
            display: 'inline-flex', 
            alignItems: 'center', 
            gap: '0.5rem',
            padding: '0.4rem 0.8rem',
            background: 'rgba(240,171,0,0.1)',
            border: '1px solid rgba(240,171,0,0.2)',
            borderRadius: 20,
            marginBottom: '1rem'
          }}>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" strokeWidth="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            </svg>
            <span style={{ fontSize: '0.75rem', color: 'var(--accent)', letterSpacing: '0.1em', textTransform: 'uppercase' }}>Product Catalog</span>
          </div>
          
          <h1 style={{ fontSize: '2.5rem', fontWeight: 700, color: 'white', marginBottom: '0.75rem' }}>Products & Services</h1>
          <p style={{ fontSize: '1.1rem', color: 'rgba(255,255,255,0.6)', maxWidth: 600 }}>
            Complete catalog of NICE system components with specifications and pricing for premium cabin solutions
          </p>
          
          {/* Quick Stats */}
          <div style={{ display: 'flex', gap: '2rem', marginTop: '2rem' }}>
            {[
              { value: productsData.length, label: 'Total Products' },
              { value: productsData.filter(p => p.category === 'Software').length, label: 'Software' },
              { value: productsData.filter(p => p.category === 'Hardware').length, label: 'Hardware' },
              { value: productsData.filter(p => p.status === 'Available').length, label: 'Available Now' }
            ].map((stat, idx) => (
              <div key={idx} style={{ textAlign: 'center' }}>
                <div style={{ fontSize: '1.75rem', fontWeight: 700, color: 'var(--accent)' }}>{stat.value}</div>
                <div style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.5)', textTransform: 'uppercase', letterSpacing: '0.05em' }}>{stat.label}</div>
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* Main Content */}
      <div style={{ padding: '0 2rem', maxWidth: 1400, margin: '0 auto' }}>
        {/* Filters */}
        <div style={{
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          padding: '1.25rem 1.5rem',
          background: 'var(--bg-card)',
          border: '1px solid var(--border)',
          borderRadius: 16,
          marginBottom: '1.5rem'
        }}>
          <div style={{ display: 'flex', gap: '0.5rem' }}>
            <span style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginRight: '0.5rem', alignSelf: 'center' }}>Category:</span>
            {['all', 'software', 'hardware'].map(cat => (
              <button 
                key={cat}
                onClick={() => setCategoryFilter(cat)}
                style={{
                  padding: '0.5rem 1rem',
                  background: categoryFilter === cat ? 'var(--accent)' : 'var(--bg-elevated)',
                  color: categoryFilter === cat ? 'var(--primary)' : 'var(--text-secondary)',
                  border: 'none',
                  borderRadius: 8,
                  fontSize: '0.85rem',
                  fontWeight: 500,
                  cursor: 'pointer',
                  transition: 'all 0.2s ease',
                  textTransform: 'capitalize'
                }}
              >
                {cat === 'all' ? 'All Products' : cat}
              </button>
            ))}
          </div>
          <div style={{ display: 'flex', gap: '0.5rem' }}>
            <span style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginRight: '0.5rem', alignSelf: 'center' }}>Status:</span>
            {['all', 'available', 'development'].map(status => (
              <button 
                key={status}
                onClick={() => setStatusFilter(status)}
                style={{
                  padding: '0.5rem 1rem',
                  background: statusFilter === status ? (status === 'available' ? 'var(--green)' : status === 'development' ? 'var(--purple)' : 'var(--accent)') : 'var(--bg-elevated)',
                  color: statusFilter === status ? (status === 'all' ? 'var(--primary)' : 'white') : 'var(--text-secondary)',
                  border: 'none',
                  borderRadius: 8,
                  fontSize: '0.85rem',
                  fontWeight: 500,
                  cursor: 'pointer',
                  transition: 'all 0.2s ease'
                }}
              >
                {status === 'all' ? 'All' : status === 'available' ? 'Available' : 'In Development'}
              </button>
            ))}
          </div>
        </div>

        {/* Products Grid */}
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1.25rem', marginBottom: '2rem' }}>
          {filteredProducts.map(product => (
            <div 
              key={product.id}
              onClick={() => navigateToProduct(product)}
              style={{
                background: 'var(--bg-card)',
                border: '1px solid var(--border)',
                borderRadius: 20,
                overflow: 'hidden',
                cursor: 'pointer',
                transition: 'all 0.3s ease'
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.borderColor = product.category === 'Software' ? 'var(--purple)' : 'var(--green)';
                e.currentTarget.style.transform = 'translateY(-4px)';
                e.currentTarget.style.boxShadow = '0 12px 40px rgba(0,0,0,0.3)';
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.borderColor = 'var(--border)';
                e.currentTarget.style.transform = 'translateY(0)';
                e.currentTarget.style.boxShadow = 'none';
              }}
            >
              {/* Product Header */}
              <div style={{
                padding: '1.5rem',
                background: product.category === 'Software' ? 'linear-gradient(135deg, rgba(139,92,246,0.1) 0%, transparent 100%)' : 'linear-gradient(135deg, rgba(34,197,94,0.1) 0%, transparent 100%)',
                borderBottom: '1px solid var(--border)'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                  <div style={{
                    width: 56, height: 56, borderRadius: 14,
                    background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)',
                    color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                    display: 'flex', alignItems: 'center', justifyContent: 'center'
                  }}>
                    {product.category === 'Software' ? <SoftwareIcon size={28} /> : <HardwareIcon size={28} />}
                  </div>
                  <span style={{
                    padding: '0.35rem 0.75rem',
                    borderRadius: 20,
                    fontSize: '0.7rem',
                    fontWeight: 600,
                    background: product.status === 'Available' ? 'var(--green-muted)' : 'var(--accent-muted)',
                    color: product.status === 'Available' ? 'var(--green)' : 'var(--accent)'
                  }}>{product.status}</span>
                </div>
                <h3 style={{ fontSize: '1.15rem', fontWeight: 700, marginBottom: '0.25rem' }}>{product.name}</h3>
                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)' }}>{product.subcategory}</p>
              </div>
              
              {/* Product Details */}
              <div style={{ padding: '1.25rem 1.5rem' }}>
                <p style={{ fontSize: '0.85rem', color: 'var(--text-secondary)', lineHeight: 1.6, marginBottom: '1rem', display: '-webkit-box', WebkitLineClamp: 2, WebkitBoxOrient: 'vertical', overflow: 'hidden' }}>
                  {product.description}
                </p>
                
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', paddingTop: '1rem', borderTop: '1px solid var(--border)' }}>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Dev Time</div>
                    <div style={{ fontSize: '0.9rem', fontWeight: 600, color: 'var(--text-primary)' }}>{product.developmentTime}</div>
                  </div>
                  <div style={{ textAlign: 'right' }}>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Base Price</div>
                    <div style={{ fontSize: '1.1rem', fontWeight: 700, color: 'var(--accent)' }}>{formatCurrency(product.price.base)}</div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );

  // ============ PROJECTS LIST PAGE ============
  const ProjectsPage = () => (
    <div className="page" style={{ padding: 0, maxWidth: '100%' }}>
      {/* Hero Header */}
      <div style={{
        position: 'relative',
        padding: '4rem 2rem 3rem',
        background: 'linear-gradient(135deg, #0a1628 0%, #122a4a 100%)',
        marginBottom: '2rem',
        overflow: 'hidden'
      }}>
        {/* Background elements */}
        <div style={{ position: 'absolute', inset: 0, overflow: 'hidden' }}>
          <svg style={{ position: 'absolute', width: '100%', height: '100%', opacity: 0.03 }}>
            <defs>
              <pattern id="projGrid" width="40" height="40" patternUnits="userSpaceOnUse">
                <path d="M 40 0 L 0 0 0 40" fill="none" stroke="white" strokeWidth="0.5"/>
              </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#projGrid)" />
          </svg>
          {/* Private jet silhouette */}
          <svg style={{ position: 'absolute', right: '-5%', top: '50%', transform: 'translateY(-50%)', width: '45%', opacity: 0.06 }} viewBox="0 0 800 300">
            <path fill="var(--accent)" d="M750 150c0-15-10-28-25-32l-280-45c-5-1-10 0-14 3l-85 55-180-30c-8-1-15 3-18 10l-15 35c-3 8 2 16 10 18l120 25-45 30-60-15c-5-1-10 0-14 4l-25 25c-5 5-3 14 4 17l100 35c5 2 11 1 15-3l70-55 180 25c15 2 28-5 35-18l15-30 190-25c15-2 22-15 22-29z"/>
          </svg>
        </div>
        
        <div style={{ position: 'relative', zIndex: 1, maxWidth: 1400, margin: '0 auto' }}>
          <div style={{ 
            display: 'inline-flex', 
            alignItems: 'center', 
            gap: '0.5rem',
            padding: '0.4rem 0.8rem',
            background: 'rgba(59,130,246,0.1)',
            border: '1px solid rgba(59,130,246,0.2)',
            borderRadius: 20,
            marginBottom: '1rem'
          }}>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--blue)" strokeWidth="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
            <span style={{ fontSize: '0.75rem', color: 'var(--blue)', letterSpacing: '0.1em', textTransform: 'uppercase' }}>Client Portfolio</span>
          </div>
          
          <h1 style={{ fontSize: '2.5rem', fontWeight: 700, color: 'white', marginBottom: '0.75rem' }}>Client Projects</h1>
          <p style={{ fontSize: '1.1rem', color: 'rgba(255,255,255,0.6)', maxWidth: 600 }}>
            Bespoke NICE system implementations for the world's premier private aviation fleet
          </p>
          
          {/* Quick Stats */}
          <div style={{ display: 'flex', gap: '2rem', marginTop: '2rem' }}>
            {[
              { value: projectsData.length, label: 'Total Projects', color: 'var(--accent)' },
              { value: projectsData.filter(p => p.status === 'Completed').length, label: 'Completed', color: 'var(--green)' },
              { value: projectsData.filter(p => p.status === 'In Progress').length, label: 'In Progress', color: 'var(--blue)' },
              { value: formatCurrency(projectsData.reduce((sum, p) => sum + p.budget, 0)), label: 'Total Value', color: 'var(--purple)' }
            ].map((stat, idx) => (
              <div key={idx} style={{ textAlign: 'center' }}>
                <div style={{ fontSize: '1.75rem', fontWeight: 700, color: stat.color }}>{stat.value}</div>
                <div style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.5)', textTransform: 'uppercase', letterSpacing: '0.05em' }}>{stat.label}</div>
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* Main Content */}
      <div style={{ padding: '0 2rem', maxWidth: 1400, margin: '0 auto' }}>
        {/* Aircraft Manufacturers Bar */}
        <div style={{
          display: 'flex',
          justifyContent: 'center',
          alignItems: 'center',
          gap: '3rem',
          padding: '1.5rem',
          background: 'var(--bg-card)',
          border: '1px solid var(--border)',
          borderRadius: 16,
          marginBottom: '2rem'
        }}>
          <span style={{ fontSize: '0.75rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.1em' }}>Aircraft Partners:</span>
          {['Bombardier', 'Gulfstream', 'Dassault', 'Embraer', 'Airbus'].map((brand, idx) => (
            <span key={idx} style={{ fontSize: '0.95rem', fontWeight: 600, color: 'var(--text-muted)' }}>{brand}</span>
          ))}
        </div>

        {/* Projects Grid */}
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1.5rem', marginBottom: '2rem' }}>
          {projectsData.map(project => (
            <div 
              key={project.id}
              onClick={() => navigateToProject(project)}
              style={{
                background: 'var(--bg-card)',
                border: '1px solid var(--border)',
                borderRadius: 24,
                overflow: 'hidden',
                cursor: 'pointer',
                transition: 'all 0.3s ease'
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.borderColor = 'var(--accent)';
                e.currentTarget.style.transform = 'translateY(-4px)';
                e.currentTarget.style.boxShadow = '0 16px 48px rgba(0,0,0,0.3)';
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.borderColor = 'var(--border)';
                e.currentTarget.style.transform = 'translateY(0)';
                e.currentTarget.style.boxShadow = 'none';
              }}
            >
              {/* Project Header */}
              <div style={{
                padding: '2rem',
                background: 'linear-gradient(135deg, rgba(240,171,0,0.08) 0%, transparent 100%)',
                borderBottom: '1px solid var(--border)',
                position: 'relative'
              }}>
                {/* Decorative aircraft */}
                <svg style={{ position: 'absolute', right: 20, top: '50%', transform: 'translateY(-50%)', width: 120, opacity: 0.05 }} viewBox="0 0 800 300">
                  <path fill="currentColor" d="M750 150c0-15-10-28-25-32l-280-45c-5-1-10 0-14 3l-85 55-180-30c-8-1-15 3-18 10l-15 35c-3 8 2 16 10 18l120 25-45 30-60-15c-5-1-10 0-14 4l-25 25c-5 5-3 14 4 17l100 35c5 2 11 1 15-3l70-55 180 25c15 2 28-5 35-18l15-30 190-25c15-2 22-15 22-29z"/>
                </svg>
                
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1.25rem', position: 'relative' }}>
                  <div style={{
                    width: 64, height: 64,
                    background: 'var(--bg-elevated)',
                    border: '2px solid var(--accent)',
                    borderRadius: 16,
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '1.25rem',
                    fontWeight: 800,
                    color: 'var(--accent)'
                  }}>{project.clientLogo}</div>
                  <span style={{
                    padding: '0.5rem 1rem',
                    borderRadius: 25,
                    fontSize: '0.75rem',
                    fontWeight: 600,
                    background: project.status === 'Completed' ? 'var(--green-muted)' : project.status === 'In Progress' ? 'var(--blue-muted)' : 'var(--accent-muted)',
                    color: project.status === 'Completed' ? 'var(--green)' : project.status === 'In Progress' ? 'var(--blue)' : 'var(--accent)'
                  }}>{project.status}</span>
                </div>
                
                <h3 style={{ fontSize: '1.35rem', fontWeight: 700, marginBottom: '0.35rem' }}>{project.name}</h3>
                <p style={{ fontSize: '0.9rem', color: 'var(--accent)' }}>{project.client} â€¢ {project.aircraft}</p>
              </div>
              
              {/* Project Details */}
              <div style={{ padding: '1.5rem 2rem' }}>
                <p style={{ fontSize: '0.9rem', color: 'var(--text-secondary)', lineHeight: 1.7, marginBottom: '1.5rem' }}>
                  {project.description}
                </p>
                
                {/* Stats Grid */}
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '1rem', paddingTop: '1.25rem', borderTop: '1px solid var(--border)' }}>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem' }}>Products</div>
                    <div style={{ fontSize: '1.35rem', fontWeight: 700, color: 'var(--purple)' }}>{project.products.length}</div>
                  </div>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem' }}>Budget</div>
                    <div style={{ fontSize: '1.1rem', fontWeight: 700, color: 'var(--green)' }}>{formatCurrency(project.budget)}</div>
                  </div>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem' }}>Team Size</div>
                    <div style={{ fontSize: '1.35rem', fontWeight: 700, color: 'var(--blue)' }}>{project.team.teamSize}</div>
                  </div>
                  <div>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem' }}>Year</div>
                    <div style={{ fontSize: '1.35rem', fontWeight: 700, color: 'var(--text-primary)' }}>{project.year}</div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );

  // ============ ROADMAP PAGE ============
  const RoadmapPage = () => {
    const filteredProducts = roadmapFilter === 'all' 
      ? productsData 
      : productsData.filter(p => p.category.toLowerCase() === roadmapFilter);

    const quarterLabels = [];
    for (let year = 2023; year <= 2026; year++) {
      for (let q = 1; q <= 4; q++) {
        quarterLabels.push({ year, quarter: q, label: `Q${q} ${year}` });
      }
    }

    const getQuarterIndex = (year, quarter) => (year - 2023) * 4 + (quarter - 1);
    const currentQuarterIndex = getQuarterIndex(2024, 4); // Q4 2024

    return (
      <div className="page" style={{ padding: 0, maxWidth: '100%' }}>
        {/* Hero Header */}
        <div style={{
          position: 'relative',
          padding: '3rem 2rem 2.5rem',
          background: 'linear-gradient(135deg, #0a1628 0%, #1a2d47 100%)',
          marginBottom: '2rem',
          overflow: 'hidden'
        }}>
          {/* Background elements */}
          <div style={{ position: 'absolute', inset: 0, overflow: 'hidden' }}>
            <svg style={{ position: 'absolute', width: '100%', height: '100%', opacity: 0.03 }}>
              <defs>
                <pattern id="roadGrid" width="40" height="40" patternUnits="userSpaceOnUse">
                  <path d="M 40 0 L 0 0 0 40" fill="none" stroke="white" strokeWidth="0.5"/>
                </pattern>
              </defs>
              <rect width="100%" height="100%" fill="url(#roadGrid)" />
            </svg>
            {/* Timeline decorative element */}
            <div style={{ position: 'absolute', right: '5%', top: '50%', transform: 'translateY(-50)', display: 'flex', alignItems: 'center', gap: '1rem', opacity: 0.1 }}>
              {[1,2,3,4,5].map(i => (
                <div key={i} style={{ width: 80, height: 8, background: 'var(--accent)', borderRadius: 4 }}></div>
              ))}
            </div>
          </div>
          
          <div style={{ position: 'relative', zIndex: 1, maxWidth: 1400, margin: '0 auto', display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>
            <div>
              <div style={{ 
                display: 'inline-flex', 
                alignItems: 'center', 
                gap: '0.5rem',
                padding: '0.4rem 0.8rem',
                background: 'rgba(139,92,246,0.1)',
                border: '1px solid rgba(139,92,246,0.2)',
                borderRadius: 20,
                marginBottom: '1rem'
              }}>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--purple)" strokeWidth="2">
                  <line x1="4" y1="21" x2="4" y2="14"/>
                  <line x1="4" y1="10" x2="4" y2="3"/>
                  <line x1="12" y1="21" x2="12" y2="12"/>
                  <line x1="12" y1="8" x2="12" y2="3"/>
                  <line x1="20" y1="21" x2="20" y2="16"/>
                  <line x1="20" y1="12" x2="20" y2="3"/>
                </svg>
                <span style={{ fontSize: '0.75rem', color: 'var(--purple)', letterSpacing: '0.1em', textTransform: 'uppercase' }}>Development Timeline</span>
              </div>
              
              <h1 style={{ fontSize: '2.25rem', fontWeight: 700, color: 'white', marginBottom: '0.5rem' }}>Product Roadmap</h1>
              <p style={{ fontSize: '1rem', color: 'rgba(255,255,255,0.6)' }}>
                Interactive timeline showing development schedules and milestones â€¢ Current: Q4 2024
              </p>
            </div>
            
            {/* Filter Buttons */}
            <div style={{ display: 'flex', gap: '0.5rem' }}>
              {['all', 'software', 'hardware'].map(filter => (
                <button 
                  key={filter}
                  onClick={() => setRoadmapFilter(filter)}
                  style={{
                    padding: '0.6rem 1.25rem',
                    background: roadmapFilter === filter ? 'var(--accent)' : 'rgba(255,255,255,0.05)',
                    color: roadmapFilter === filter ? 'var(--primary)' : 'rgba(255,255,255,0.7)',
                    border: '1px solid',
                    borderColor: roadmapFilter === filter ? 'var(--accent)' : 'rgba(255,255,255,0.1)',
                    borderRadius: 8,
                    fontSize: '0.85rem',
                    fontWeight: 500,
                    cursor: 'pointer',
                    transition: 'all 0.2s ease',
                    textTransform: 'capitalize'
                  }}
                >
                  {filter === 'all' ? 'All Products' : filter}
                </button>
              ))}
            </div>
          </div>
        </div>

        {/* Main Content */}
        <div style={{ padding: '0 2rem', maxWidth: 1400, margin: '0 auto' }}>
          {/* Legend */}
          <div style={{ display: 'flex', gap: '2rem', marginBottom: '1.5rem', padding: '1rem 1.5rem', background: 'var(--bg-card)', borderRadius: 12, border: '1px solid var(--border)', flexWrap: 'wrap', alignItems: 'center' }}>
            <span style={{ fontSize: '0.8rem', fontWeight: 600, color: 'var(--text-muted)' }}>STATUS:</span>
            <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.8rem' }}>
              <span style={{ width: 16, height: 16, background: 'var(--green)', borderRadius: 4 }}></span> Available
            </span>
            <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.8rem' }}>
              <span style={{ width: 16, height: 16, background: 'var(--accent)', borderRadius: 4 }}></span> In Development
            </span>
            <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.8rem' }}>
              <span style={{ width: 16, height: 16, background: 'var(--purple)', borderRadius: 4 }}></span> Software
            </span>
            <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.8rem' }}>
              <span style={{ width: 16, height: 16, background: 'var(--blue)', borderRadius: 4 }}></span> Hardware
            </span>
            <span style={{ marginLeft: 'auto', display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.8rem', color: 'var(--accent)', fontWeight: 500 }}>
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
              Click any bar to see scheduling details
            </span>
          </div>

          {/* Roadmap Grid */}
          <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, overflow: 'hidden' }}>
            {/* Header Row - Years */}
            <div style={{ display: 'grid', gridTemplateColumns: '200px repeat(4, 1fr)', background: 'var(--bg-elevated)', borderBottom: '1px solid var(--border)' }}>
              <div style={{ padding: '0.75rem 1rem', fontWeight: 600, fontSize: '0.85rem', borderRight: '1px solid var(--border)' }}>Product</div>
              {[2023, 2024, 2025, 2026].map(year => (
                <div key={year} style={{ padding: '0.75rem', textAlign: 'center', fontWeight: 600, fontSize: '0.85rem', borderRight: '1px solid var(--border)', background: year === 2024 ? 'var(--accent-muted)' : 'transparent', color: year === 2024 ? 'var(--accent)' : 'var(--text-primary)' }}>
                  {year}
                </div>
              ))}
            </div>

            {/* Header Row - Quarters */}
            <div style={{ display: 'grid', gridTemplateColumns: '200px repeat(16, 1fr)', background: 'var(--bg-dark)', borderBottom: '1px solid var(--border)' }}>
              <div style={{ padding: '0.5rem 1rem', fontSize: '0.7rem', color: 'var(--text-muted)', borderRight: '1px solid var(--border)' }}></div>
              {quarterLabels.map((q, idx) => (
                <div key={idx} style={{ 
                  padding: '0.5rem 0.25rem', 
                  textAlign: 'center', 
                  fontSize: '0.65rem', 
                  fontWeight: 500,
                  color: idx === currentQuarterIndex ? 'var(--accent)' : 'var(--text-muted)', 
                  borderRight: '1px solid var(--border)',
                  background: idx === currentQuarterIndex ? 'var(--accent-muted)' : 'transparent'
                }}>
                  Q{q.quarter}
                </div>
              ))}
            </div>

          {/* Product Rows */}
          {filteredProducts.map((product, idx) => {
            const devMonths = product.developmentMonths || 6;
            const devQuarters = Math.ceil(devMonths / 3);
            
            // Calculate timeline position based on status
            let endIdx, startIdx;
            if (product.status === 'Available') {
              // Available products - randomly spread across 2023-2024
              endIdx = 4 + (product.id % 4); // Q1-Q4 2024
              startIdx = Math.max(0, endIdx - devQuarters + 1);
            } else {
              // In Development - end in Q1-Q2 2025
              endIdx = 8 + (product.id % 2); // Q1-Q2 2025
              startIdx = Math.max(0, endIdx - devQuarters + 1);
            }
            
            return (
              <div 
                key={product.id} 
                style={{ 
                  display: 'grid', 
                  gridTemplateColumns: '200px repeat(16, 1fr)', 
                  borderBottom: idx < filteredProducts.length - 1 ? '1px solid var(--border)' : 'none'
                }}
              >
                {/* Product Name */}
                <div 
                  onClick={() => navigateToProduct(product)}
                  style={{ 
                    padding: '0.75rem 1rem', 
                    display: 'flex', 
                    alignItems: 'center', 
                    gap: '0.75rem',
                    borderRight: '1px solid var(--border)',
                    cursor: 'pointer',
                    background: 'var(--bg-dark)'
                  }}
                >
                  <div style={{
                    width: 28, height: 28, borderRadius: 6, flexShrink: 0,
                    background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)',
                    color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                    display: 'flex', alignItems: 'center', justifyContent: 'center'
                  }}>
                    {product.category === 'Software' ? <SoftwareIcon size={14} /> : <HardwareIcon size={14} />}
                  </div>
                  <div style={{ minWidth: 0 }}>
                    <div style={{ fontSize: '0.8rem', fontWeight: 500, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{product.shortName}</div>
                    <div style={{ fontSize: '0.65rem', color: 'var(--text-muted)' }}>{product.developmentTime}</div>
                  </div>
                </div>

                {/* Timeline Cells */}
                {Array.from({ length: 16 }, (_, i) => {
                  const isInRange = i >= startIdx && i <= endIdx;
                  const isStart = i === startIdx;
                  const isEnd = i === endIdx;
                  const isCurrent = i === currentQuarterIndex;

                  return (
                    <div 
                      key={i} 
                      style={{ 
                        position: 'relative',
                        minHeight: 48,
                        borderRight: '1px solid var(--border)',
                        background: isCurrent ? 'rgba(240, 171, 0, 0.03)' : 'transparent'
                      }}
                    >
                      {isInRange && (
                        <div 
                          onClick={() => openScheduleModal(product)}
                          style={{
                          position: 'absolute',
                          top: '50%',
                          transform: 'translateY(-50%)',
                          left: isStart ? 4 : 0,
                          right: isEnd ? 4 : 0,
                          height: 20,
                          background: product.status === 'In Development' ? 'var(--accent)' : 
                                     product.category === 'Software' ? 'var(--purple)' : 'var(--blue)',
                          borderRadius: isStart && isEnd ? 4 : isStart ? '4px 0 0 4px' : isEnd ? '0 4px 4px 0' : 0,
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: isStart ? 'flex-start' : 'center',
                          paddingLeft: isStart ? 6 : 0,
                          overflow: 'hidden',
                          cursor: 'pointer',
                          transition: 'all 0.2s ease'
                        }}
                        onMouseEnter={(e) => { e.currentTarget.style.opacity = '0.8'; e.currentTarget.style.transform = 'translateY(-50%) scale(1.05)'; }}
                        onMouseLeave={(e) => { e.currentTarget.style.opacity = '1'; e.currentTarget.style.transform = 'translateY(-50%) scale(1)'; }}
                        >
                          {isStart && (
                            <span style={{ 
                              fontSize: '0.6rem', 
                              fontWeight: 600, 
                              color: product.status === 'In Development' ? 'var(--primary)' : 'white',
                              whiteSpace: 'nowrap'
                            }}>
                              {product.shortName}
                            </span>
                          )}
                        </div>
                      )}
                    </div>
                  );
                })}
              </div>
            );
          })}
        </div>

        {/* Summary Cards */}
        <div style={{ marginTop: '2rem' }}>
          <h3 style={{ fontSize: '1.25rem', fontWeight: 600, marginBottom: '1rem' }}>Development Summary</h3>
          <div className="stats-grid" style={{ gridTemplateColumns: 'repeat(4, 1fr)' }}>
            <div className="stat-card green">
              <div className="stat-label">Available</div>
              <div className="stat-value">{productsData.filter(p => p.status === 'Available').length}</div>
              <div className="stat-detail">Products released</div>
            </div>
            <div className="stat-card gold">
              <div className="stat-label">In Development</div>
              <div className="stat-value">{productsData.filter(p => p.status === 'In Development').length}</div>
              <div className="stat-detail">Coming Q1 2025</div>
            </div>
            <div className="stat-card purple">
              <div className="stat-label">Software</div>
              <div className="stat-value">{productsData.filter(p => p.category === 'Software').length}</div>
              <div className="stat-detail">Total software products</div>
            </div>
            <div className="stat-card blue">
              <div className="stat-label">Hardware</div>
              <div className="stat-value">{productsData.filter(p => p.category === 'Hardware').length}</div>
              <div className="stat-detail">Total hardware products</div>
            </div>
          </div>
        </div>

        {/* Upcoming Releases */}
        <div style={{ marginTop: '2rem' }}>
          <h3 style={{ fontSize: '1.25rem', fontWeight: 600, marginBottom: '1rem' }}>Coming Soon</h3>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1rem' }}>
            {productsData.filter(p => p.status === 'In Development').map(product => (
              <div 
                key={product.id} 
                onClick={() => navigateToProduct(product)}
                style={{
                  background: 'var(--bg-card)',
                  border: '1px solid var(--border)',
                  borderRadius: 12,
                  padding: '1.25rem',
                  cursor: 'pointer'
                }}
              >
                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '0.75rem' }}>
                  <div style={{
                    width: 40, height: 40, borderRadius: 10,
                    background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)',
                    color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                    display: 'flex', alignItems: 'center', justifyContent: 'center'
                  }}>
                    {product.category === 'Software' ? <SoftwareIcon size={20} /> : <HardwareIcon size={20} />}
                  </div>
                  <div>
                    <div style={{ fontWeight: 600 }}>{product.name}</div>
                    <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>{product.subcategory}</div>
                  </div>
                  <span style={{ marginLeft: 'auto', padding: '0.25rem 0.5rem', background: 'var(--accent-muted)', color: 'var(--accent)', borderRadius: 4, fontSize: '0.7rem', fontWeight: 600 }}>
                    Q1 2025
                  </span>
                </div>
                <p style={{ fontSize: '0.85rem', color: 'var(--text-secondary)', marginBottom: '0.75rem' }}>{product.description}</p>
                <div style={{ display: 'flex', gap: '1.5rem', fontSize: '0.8rem' }}>
                  <div>
                    <span style={{ color: 'var(--text-muted)' }}>Dev Time: </span>
                    <span style={{ fontWeight: 500 }}>{product.developmentTime}</span>
                  </div>
                  <div>
                    <span style={{ color: 'var(--text-muted)' }}>Price: </span>
                    <span style={{ fontWeight: 500, color: 'var(--accent)' }}>{formatCurrency(product.price.base)}</span>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
        </div>
      </div>
    );
  };

  // ============ SCHEDULE MODAL ============
  const ScheduleModal = () => {
    if (!showScheduleModal || !selectedScheduleProduct) return null;
    
    const product = selectedScheduleProduct;
    const reasons = product.schedulingReasons;
    
    if (!reasons) return null;
    
    const getConstraintColor = (type) => {
      const colors = {
        dependency: 'var(--purple)',
        hardware: 'var(--green)',
        resource: 'var(--blue)',
        certification: 'var(--orange)',
        strategic: 'var(--accent)',
        supply: 'var(--cyan)',
        tooling: 'var(--green)',
        design: 'var(--purple)',
        testing: 'var(--orange)',
        manufacturing: 'var(--blue)',
        architecture: 'var(--purple)',
        integration: 'var(--cyan)',
        software: 'var(--purple)',
        content: 'var(--accent)',
        data: 'var(--cyan)',
        training: 'var(--blue)',
        acoustic: 'var(--green)'
      };
      return colors[type] || 'var(--text-muted)';
    };

    const ConstraintIcon = ({ type }) => {
      const iconStyle = { width: 20, height: 20, color: getConstraintColor(type) };
      switch(type) {
        case 'dependency': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>;
        case 'hardware': case 'tooling': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>;
        case 'resource': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;
        case 'certification': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>;
        case 'strategic': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>;
        case 'supply': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>;
        case 'testing': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M9 15l2 2 4-4"/></svg>;
        case 'manufacturing': return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"/></svg>;
        default: return <svg style={iconStyle} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>;
      }
    };

    return (
      <div className="modal-overlay" onClick={closeScheduleModal}>
        <div className="modal" onClick={e => e.stopPropagation()}>
          <div className="modal-header">
            <div>
              <div className="modal-title">Schedule Details: {product.shortName}</div>
              <div className="modal-subtitle">{product.name}</div>
            </div>
            <button className="modal-close" onClick={closeScheduleModal}>Ã—</button>
          </div>
          
          <div className="modal-body">
            {/* Start Reason */}
            <div style={{ marginBottom: '1.5rem', padding: '1rem', background: 'var(--accent-muted)', borderRadius: 12, borderLeft: '4px solid var(--accent)' }}>
              <div style={{ fontSize: '0.75rem', color: 'var(--accent)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.5rem' }}>Why This Timeline?</div>
              <div style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '0.25rem' }}>{reasons.startReason}</div>
              <div style={{ fontSize: '0.85rem', color: 'var(--text-secondary)' }}>{reasons.startDetails}</div>
            </div>
            
            {/* Constraints */}
            <div style={{ marginBottom: '1.5rem' }}>
              <h4 style={{ fontSize: '0.9rem', fontWeight: 600, marginBottom: '1rem' }}>Constraints & Dependencies</h4>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                {reasons.constraints.map((constraint, idx) => (
                  <div key={idx} style={{ 
                    display: 'flex', 
                    gap: '1rem', 
                    padding: '1rem', 
                    background: 'var(--bg-elevated)', 
                    borderRadius: 10,
                    borderLeft: `3px solid ${getConstraintColor(constraint.type)}`,
                    alignItems: 'flex-start'
                  }}>
                    <div style={{ flexShrink: 0, marginTop: 2 }}><ConstraintIcon type={constraint.type} /></div>
                    <div style={{ flex: 1 }}>
                      <div style={{ fontWeight: 600, fontSize: '0.9rem', marginBottom: '0.25rem' }}>{constraint.title}</div>
                      <div style={{ fontSize: '0.8rem', color: 'var(--text-secondary)' }}>{constraint.description}</div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
            
            {/* Key Milestones */}
            <div>
              <h4 style={{ fontSize: '0.9rem', fontWeight: 600, marginBottom: '1rem' }}>Key Milestones</h4>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                {reasons.keyMilestones.map((milestone, idx) => (
                  <div key={idx} style={{ 
                    display: 'flex', 
                    alignItems: 'center', 
                    gap: '1rem',
                    padding: '0.75rem 1rem',
                    background: 'var(--bg-elevated)',
                    borderRadius: 8
                  }}>
                    <div style={{ 
                      width: 10, 
                      height: 10, 
                      borderRadius: '50%', 
                      background: milestone.status === 'completed' ? 'var(--green)' : 
                                 milestone.status === 'in-progress' ? 'var(--blue)' : 'var(--text-dim)'
                    }} />
                    <div style={{ fontFamily: 'JetBrains Mono', fontSize: '0.8rem', color: 'var(--accent)', minWidth: 70 }}>
                      {milestone.date}
                    </div>
                    <div style={{ flex: 1, fontSize: '0.85rem' }}>{milestone.event}</div>
                    <div style={{ 
                      fontSize: '0.7rem', 
                      padding: '0.2rem 0.5rem', 
                      borderRadius: 4,
                      background: milestone.status === 'completed' ? 'var(--green-muted)' : 
                                 milestone.status === 'in-progress' ? 'var(--blue-muted)' : 'var(--bg-card)',
                      color: milestone.status === 'completed' ? 'var(--green)' : 
                            milestone.status === 'in-progress' ? 'var(--blue)' : 'var(--text-muted)',
                      textTransform: 'capitalize'
                    }}>
                      {milestone.status.replace('-', ' ')}
                    </div>
                  </div>
                ))}
              </div>
            </div>
            
            {/* Product Info Footer */}
            <div style={{ marginTop: '1.5rem', paddingTop: '1rem', borderTop: '1px solid var(--border)', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div style={{ display: 'flex', gap: '1rem' }}>
                <span style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>
                  <strong style={{ color: 'var(--text-primary)' }}>{product.developmentTime}</strong> development
                </span>
                <span style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>
                  Status: <strong style={{ color: product.status === 'Available' ? 'var(--green)' : 'var(--accent)' }}>{product.status}</strong>
                </span>
              </div>
              <button 
                className="btn btn-primary"
                onClick={() => { closeScheduleModal(); navigateToProduct(product); }}
              >
                View Product
              </button>
            </div>
          </div>
        </div>
      </div>
    );
  };

  // ============ TEAM PAGE ============
  const TeamPage = () => {
    // Professional SVG icons for contribution types
    const ContributionTypeIcon = ({ type, size = 18 }) => {
      const style = { width: size, height: size };
      switch(type) {
        case 'code': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>;
        case 'testing': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M9 15l2 2 4-4"/></svg>;
        case 'design': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="13.5" cy="6.5" r="2.5"/><path d="M17.5 10.5L19 12l-7 7-4-4 7-7"/><path d="M3 21l1.5-1.5"/></svg>;
        case 'milestone': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>;
        case 'document': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>;
        case 'review': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>;
        case 'bug': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="8" y="6" width="8" height="14" rx="4"/><path d="M19 9h-3M8 9H5M19 15h-3M8 15H5M12 6V2"/></svg>;
        case 'certification': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89L17 22l-5-3-5 3 1.523-9.11"/></svg>;
        case 'architecture': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>;
        case 'research': return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>;
        default: return <svg style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>;
      }
    };

    // If not logged in, show professional login page
    if (!loggedInTeamMember) {
      return (
        <div className="page" style={{ padding: 0, maxWidth: '100%' }}>
          {/* Hero Section with Aircraft Background */}
          <div style={{
            position: 'relative',
            minHeight: '100vh',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            overflow: 'hidden',
            background: 'linear-gradient(135deg, #0a1628 0%, #1a2d47 50%, #0d1929 100%)'
          }}>
            {/* Animated Background Elements - Aircraft silhouettes and patterns */}
            <div style={{ position: 'absolute', inset: 0, overflow: 'hidden', opacity: 0.1 }}>
              {/* Geometric aviation pattern */}
              <svg style={{ position: 'absolute', width: '100%', height: '100%' }} viewBox="0 0 1000 600">
                <defs>
                  <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="white" strokeWidth="0.5"/>
                  </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#grid)" />
              </svg>
              {/* Aircraft silhouette */}
              <svg style={{ position: 'absolute', right: '-5%', top: '10%', width: '60%', opacity: 0.3 }} viewBox="0 0 640 512">
                <path fill="currentColor" d="M381 114.9L186.1 41.8c-16.7-6.2-35.2-5.3-51.1 2.7L89.1 67.4C78 73 80.3 89.7 92.6 92.1l82.4 15.1c1.8.3 3.5.9 5.1 1.7l74.4 37.2-148.8 65.8-82.2-34.1c-3.4-1.4-7.2-1.3-10.5.3L2.6 183.3c-12.3 5.6-12.6 22.8-.5 28.8l170.4 84.5 51.3 25.4c11.3 5.6 24.6 5 35.2-1.8l143.3-92.2L624 268.8c21.4 5.8 44.8-8.4 44.8-31.2 0-13.6-8.2-26.1-21.4-31.1L381 114.9z" style={{ color: 'var(--accent)' }}/>
              </svg>
              {/* Secondary aircraft */}
              <svg style={{ position: 'absolute', left: '5%', bottom: '20%', width: '30%', opacity: 0.15, transform: 'scaleX(-1)' }} viewBox="0 0 640 512">
                <path fill="currentColor" d="M381 114.9L186.1 41.8c-16.7-6.2-35.2-5.3-51.1 2.7L89.1 67.4C78 73 80.3 89.7 92.6 92.1l82.4 15.1c1.8.3 3.5.9 5.1 1.7l74.4 37.2-148.8 65.8-82.2-34.1c-3.4-1.4-7.2-1.3-10.5.3L2.6 183.3c-12.3 5.6-12.6 22.8-.5 28.8l170.4 84.5 51.3 25.4c11.3 5.6 24.6 5 35.2-1.8l143.3-92.2L624 268.8c21.4 5.8 44.8-8.4 44.8-31.2 0-13.6-8.2-26.1-21.4-31.1L381 114.9z" style={{ color: 'var(--accent)' }}/>
              </svg>
              {/* Decorative circles */}
              <div style={{ position: 'absolute', right: '20%', top: '15%', width: 300, height: 300, border: '1px solid rgba(240,171,0,0.2)', borderRadius: '50%' }}></div>
              <div style={{ position: 'absolute', right: '15%', top: '10%', width: 400, height: 400, border: '1px solid rgba(240,171,0,0.1)', borderRadius: '50%' }}></div>
            </div>

            {/* Login Card */}
            <div style={{
              position: 'relative',
              zIndex: 10,
              display: 'flex',
              flexDirection: 'column',
              alignItems: 'center',
              width: '100%',
              maxWidth: 480,
              padding: '2rem'
            }}>
              {/* Lufthansa Technik Logo/Branding */}
              <div style={{ marginBottom: '2rem', textAlign: 'center' }}>
                <div style={{ 
                  display: 'inline-flex', 
                  alignItems: 'center', 
                  gap: '1rem',
                  marginBottom: '1rem'
                }}>
                  <div style={{
                    width: 56, height: 56,
                    background: 'linear-gradient(135deg, var(--accent) 0%, #d4940a 100%)',
                    borderRadius: 12,
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '1.5rem',
                    fontWeight: 800,
                    color: 'var(--primary)',
                    boxShadow: '0 8px 32px rgba(240,171,0,0.3)'
                  }}>LT</div>
                  <div>
                    <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'white' }}>NICE Platform</div>
                    <div style={{ fontSize: '0.85rem', color: 'var(--accent)', letterSpacing: '0.1em' }}>LUFTHANSA TECHNIK</div>
                  </div>
                </div>
                <h1 style={{ 
                  fontSize: '2rem', 
                  fontWeight: 300, 
                  color: 'white',
                  marginBottom: '0.5rem'
                }}>Team Portal</h1>
                <p style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.95rem' }}>
                  Access your workspace to track contributions and assigned projects
                </p>
              </div>

              {/* Login Card */}
              <div style={{
                background: 'rgba(255,255,255,0.03)',
                backdropFilter: 'blur(20px)',
                border: '1px solid rgba(255,255,255,0.1)',
                borderRadius: 20,
                padding: '2rem',
                width: '100%'
              }}>
                <div style={{ 
                  fontSize: '0.8rem', 
                  color: 'rgba(255,255,255,0.5)', 
                  textTransform: 'uppercase', 
                  letterSpacing: '0.1em',
                  marginBottom: '1rem'
                }}>Select Your Profile</div>
                
                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                  {teamMembersData.map(member => (
                    <div 
                      key={member.id}
                      onClick={() => setLoggedInTeamMember(member)}
                      style={{
                        display: 'flex',
                        alignItems: 'center',
                        gap: '1rem',
                        padding: '0.875rem 1rem',
                        background: 'rgba(255,255,255,0.02)',
                        border: '1px solid rgba(255,255,255,0.08)',
                        borderRadius: 12,
                        cursor: 'pointer',
                        transition: 'all 0.2s ease'
                      }}
                      onMouseEnter={(e) => {
                        e.currentTarget.style.background = 'rgba(240,171,0,0.1)';
                        e.currentTarget.style.borderColor = 'rgba(240,171,0,0.3)';
                      }}
                      onMouseLeave={(e) => {
                        e.currentTarget.style.background = 'rgba(255,255,255,0.02)';
                        e.currentTarget.style.borderColor = 'rgba(255,255,255,0.08)';
                      }}
                    >
                      <div style={{
                        width: 44, height: 44,
                        background: 'linear-gradient(135deg, var(--accent) 0%, #d4940a 100%)',
                        borderRadius: 10,
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        fontWeight: 700,
                        fontSize: '0.9rem',
                        color: 'var(--primary)',
                        flexShrink: 0
                      }}>{member.avatar}</div>
                      <div style={{ flex: 1, minWidth: 0 }}>
                        <div style={{ fontWeight: 600, color: 'white', fontSize: '0.95rem' }}>{member.name}</div>
                        <div style={{ fontSize: '0.8rem', color: 'rgba(255,255,255,0.5)', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>
                          {member.role}
                        </div>
                      </div>
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.3)" strokeWidth="2">
                        <polyline points="9 18 15 12 9 6"/>
                      </svg>
                    </div>
                  ))}
                </div>
              </div>

              {/* Footer */}
              <div style={{ marginTop: '2rem', textAlign: 'center', color: 'rgba(255,255,255,0.4)', fontSize: '0.8rem' }}>
                Network In-flight Content & Entertainment
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Logged in view
    const member = loggedInTeamMember;
    const memberProducts = member.products.map(id => getProductById(id)).filter(Boolean);
    const memberProjects = member.projects.map(id => getProjectById(id)).filter(Boolean);
    const allContributions = [...member.contributions, ...contributions.filter(c => c.memberId === member.id)];

    return (
      <div className="page">
        <div className="section-header">
          <div>
            <h2 className="section-title">Team Portal</h2>
            <p className="section-subtitle">Track your contributions and assigned work</p>
          </div>
          <button className="btn btn-secondary" onClick={() => setLoggedInTeamMember(null)}>
            Switch User
          </button>
        </div>

        {/* User Profile Card */}
        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '1.5rem', marginBottom: '2rem' }}>
          <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '1rem' }}>
              <div className="team-avatar" style={{ width: 64, height: 64, fontSize: '1.5rem' }}>{member.avatar}</div>
              <div>
                <h3 style={{ fontSize: '1.25rem', fontWeight: 700 }}>{member.name}</h3>
                <p style={{ color: 'var(--text-muted)', fontSize: '0.9rem' }}>{member.role}</p>
                <p style={{ color: 'var(--accent)', fontSize: '0.8rem' }}>{member.department}</p>
              </div>
            </div>
            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
              {member.skills.map((skill, idx) => (
                <span key={idx} style={{ padding: '0.3rem 0.6rem', background: 'var(--bg-elevated)', borderRadius: 6, fontSize: '0.75rem', color: 'var(--text-secondary)' }}>
                  {skill}
                </span>
              ))}
            </div>
          </div>

          {/* Stats */}
          <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
            <h4 style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Your Impact</h4>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1rem' }}>
              <div style={{ textAlign: 'center', padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 10 }}>
                <div style={{ fontSize: '2rem', fontWeight: 700, color: 'var(--purple)' }}>{memberProducts.length}</div>
                <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Products</div>
              </div>
              <div style={{ textAlign: 'center', padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 10 }}>
                <div style={{ fontSize: '2rem', fontWeight: 700, color: 'var(--blue)' }}>{memberProjects.length}</div>
                <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Projects</div>
              </div>
              <div style={{ textAlign: 'center', padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 10 }}>
                <div style={{ fontSize: '2rem', fontWeight: 700, color: 'var(--green)' }}>{allContributions.length}</div>
                <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Contributions</div>
              </div>
              <div style={{ textAlign: 'center', padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 10 }}>
                <div style={{ fontSize: '2rem', fontWeight: 700, color: 'var(--accent)' }}>{new Date().getFullYear() - parseInt(member.joinDate.split('-')[0])}</div>
                <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Years</div>
              </div>
            </div>
          </div>

          {/* Add Contribution */}
          <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
            <h4 style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Add Contribution</h4>
            <div style={{ marginBottom: '0.75rem' }}>
              <select 
                value={newContribution.type} 
                onChange={(e) => setNewContribution({...newContribution, type: e.target.value})}
                style={{ width: '100%', padding: '0.6rem 1rem', fontSize: '0.85rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 8, color: 'var(--text-primary)' }}
              >
                <option value="task">Task Completed</option>
                <option value="code">Code Commit</option>
                <option value="testing">Testing</option>
                <option value="design">Design Work</option>
                <option value="milestone">Milestone</option>
                <option value="document">Documentation</option>
                <option value="review">Code Review</option>
                <option value="bug">Bug Fix</option>
              </select>
            </div>
            <div style={{ marginBottom: '0.75rem' }}>
              <select 
                value={newContribution.productId} 
                onChange={(e) => setNewContribution({...newContribution, productId: e.target.value})}
                style={{ width: '100%', padding: '0.6rem 1rem', fontSize: '0.85rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 8, color: 'var(--text-primary)' }}
              >
                <option value="">Select product...</option>
                {memberProducts.map(p => (
                  <option key={p.id} value={p.id}>{p.shortName}</option>
                ))}
              </select>
            </div>
            <div style={{ marginBottom: '0.75rem' }}>
              <textarea 
                placeholder="Describe your contribution..."
                value={newContribution.description}
                onChange={(e) => setNewContribution(prev => ({...prev, description: e.target.value}))}
                style={{ 
                  width: '100%', 
                  padding: '0.6rem 1rem', 
                  fontSize: '0.85rem', 
                  minHeight: '70px', 
                  background: 'var(--bg-elevated)', 
                  border: '1px solid var(--border)', 
                  borderRadius: 8, 
                  color: 'var(--text-primary)',
                  fontFamily: 'inherit',
                  resize: 'vertical'
                }}
              />
            </div>
            <button className="btn btn-primary" style={{ width: '100%' }} onClick={addContribution}>
              Add Contribution
            </button>
          </div>
        </div>

        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1.5rem' }}>
          {/* Assigned Products */}
          <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
            <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Your Products</h3>
            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
              {memberProducts.map(product => (
                <div 
                  key={product.id}
                  onClick={() => navigateToProduct(product)}
                  style={{ 
                    display: 'flex', 
                    alignItems: 'center', 
                    gap: '0.75rem', 
                    padding: '0.75rem', 
                    background: 'var(--bg-elevated)', 
                    borderRadius: 8,
                    cursor: 'pointer',
                    transition: 'all 0.2s ease'
                  }}
                >
                  <div style={{
                    width: 36, height: 36, borderRadius: 8,
                    background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)',
                    color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                    display: 'flex', alignItems: 'center', justifyContent: 'center'
                  }}>
                    {product.category === 'Software' ? <SoftwareIcon size={16} /> : <HardwareIcon size={16} />}
                  </div>
                  <div style={{ flex: 1 }}>
                    <div style={{ fontWeight: 500, fontSize: '0.9rem' }}>{product.shortName}</div>
                    <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>{product.subcategory}</div>
                  </div>
                  <span style={{ 
                    padding: '0.2rem 0.5rem', 
                    borderRadius: 4, 
                    fontSize: '0.7rem',
                    background: product.status === 'Available' ? 'var(--green-muted)' : 'var(--accent-muted)',
                    color: product.status === 'Available' ? 'var(--green)' : 'var(--accent)'
                  }}>
                    {product.status}
                  </span>
                </div>
              ))}
            </div>
          </div>

          {/* Recent Contributions */}
          <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
            <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Recent Contributions</h3>
            <div className="contribution-list">
              {allContributions.slice(0, 6).map((contribution, idx) => {
                const product = getProductById(contribution.product);
                return (
                  <div key={idx} className="contribution-item">
                    <div className={`contribution-icon ${contribution.type}`}>
                      <ContributionTypeIcon type={contribution.type} />
                    </div>
                    <div className="contribution-content">
                      <div className="contribution-description">{contribution.description}</div>
                      <div className="contribution-meta">
                        {contribution.date} â€¢ {product?.shortName || 'Project'}
                      </div>
                    </div>
                  </div>
                );
              })}
            </div>
          </div>
        </div>

        {/* Assigned Projects */}
        <div style={{ marginTop: '1.5rem' }}>
          <h3 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1rem' }}>Your Projects</h3>
          <div className="project-grid">
            {memberProjects.map(project => (
              <div key={project.id} className="project-card" onClick={() => navigateToProject(project)}>
                <div className="project-card-header">
                  <div className="project-client">
                    <div className="client-logo">{project.clientLogo}</div>
                    <div>
                      <h3 className="project-title">{project.name}</h3>
                      <span className="project-aircraft">{project.aircraft} â€¢ {project.client}</span>
                    </div>
                  </div>
                  <span className={`project-status ${project.status.toLowerCase().replace(' ', '-')}`}>
                    {project.status}
                  </span>
                </div>
                <p className="project-description">{project.description}</p>
                <div className="project-footer">
                  <span className="project-budget">{formatCurrency(project.budget)}</span>
                  <span className="project-year">{project.year}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    );
  };

  // ============ PROJECT CONFIGURATOR PAGE ============
  const ProjectConfiguratorPage = () => {
    // Get all dependencies recursively
    const getAllDependencies = (productId, visited = new Set()) => {
      if (visited.has(productId)) return [];
      visited.add(productId);
      
      const product = getProductById(productId);
      if (!product || !product.dependencies) return [];
      
      let allDeps = [...product.dependencies];
      product.dependencies.forEach(depId => {
        allDeps = [...allDeps, ...getAllDependencies(depId, visited)];
      });
      
      return [...new Set(allDeps)];
    };

    // Add product with all its dependencies
    const addProduct = (productId) => {
      if (configuredProducts.includes(productId)) return;
      
      const dependencies = getAllDependencies(productId);
      const newProducts = [productId, ...dependencies].filter(id => !configuredProducts.includes(id));
      setConfiguredProducts([...configuredProducts, ...newProducts]);
    };

    // Remove product (and warn if other products depend on it)
    const removeProduct = (productId) => {
      const dependentProducts = configuredProducts.filter(id => {
        const p = getProductById(id);
        return p && p.dependencies && p.dependencies.includes(productId);
      });
      
      if (dependentProducts.length > 0) {
        const toRemove = [productId, ...dependentProducts];
        setConfiguredProducts(configuredProducts.filter(id => !toRemove.includes(id)));
      } else {
        setConfiguredProducts(configuredProducts.filter(id => id !== productId));
      }
    };

    // Check if product is a dependency of another selected product
    const isDependencyOf = (productId) => {
      return configuredProducts.some(id => {
        const p = getProductById(id);
        return p && p.dependencies && p.dependencies.includes(productId);
      });
    };

    // Calculate costs
    const selectedProductsData = configuredProducts.map(id => getProductById(id)).filter(Boolean);
    const totalBaseCost = selectedProductsData.reduce((sum, p) => sum + p.price.base, 0);
    const totalInstallation = selectedProductsData.reduce((sum, p) => sum + p.price.installation, 0);
    const totalMaintenance = selectedProductsData.reduce((sum, p) => sum + p.price.maintenance, 0);
    const totalProjectCost = totalBaseCost + totalInstallation;
    
    // Calculate volume discount
    const volumeDiscount = selectedProductsData.length >= 5 ? 0.12 : selectedProductsData.length >= 3 ? 0.08 : 0;
    const discountAmount = totalBaseCost * volumeDiscount;
    const finalCost = totalProjectCost - discountAmount;

    // Calculate detailed timeline with phases
    const calculateDetailedTimeline = () => {
      if (selectedProductsData.length === 0) return { totalMonths: 0, products: [], phases: [], milestones: [] };
      
      // Assign each product a timeline
      const productTimelines = selectedProductsData.map(product => {
        const devMonths = product.developmentMonths || 6;
        const isAvailable = product.status === 'Available';
        
        // Define phases for each product
        const phases = isAvailable ? [
          { name: 'Integration', duration: 1, color: 'var(--blue)' },
          { name: 'Configuration', duration: 1, color: 'var(--purple)' },
          { name: 'Testing', duration: 1, color: 'var(--orange)' },
          { name: 'Deployment', duration: 0.5, color: 'var(--green)' }
        ] : [
          { name: 'Development', duration: Math.ceil(devMonths * 0.4), color: 'var(--purple)' },
          { name: 'Testing', duration: Math.ceil(devMonths * 0.25), color: 'var(--orange)' },
          { name: 'Certification', duration: Math.ceil(devMonths * 0.2), color: 'var(--cyan)' },
          { name: 'Integration', duration: Math.ceil(devMonths * 0.15), color: 'var(--green)' }
        ];
        
        return {
          product,
          isAvailable,
          totalDuration: isAvailable ? 3.5 : devMonths,
          phases
        };
      });

      // Sort by dependencies (products with no deps first)
      const sorted = [...productTimelines].sort((a, b) => {
        const aDeps = a.product.dependencies?.length || 0;
        const bDeps = b.product.dependencies?.length || 0;
        return aDeps - bDeps;
      });

      // Calculate start times considering dependencies
      const startTimes = new Map();
      sorted.forEach(item => {
        const deps = item.product.dependencies || [];
        const depEndTimes = deps
          .filter(depId => configuredProducts.includes(depId))
          .map(depId => {
            const depProduct = sorted.find(s => s.product.id === depId);
            const depStart = startTimes.get(depId) || 0;
            return depStart + (depProduct?.totalDuration || 0);
          });
        
        const startTime = depEndTimes.length > 0 ? Math.max(...depEndTimes) : 0;
        startTimes.set(item.product.id, startTime);
      });

      // Calculate total project duration
      const totalMonths = Math.max(...sorted.map(item => 
        (startTimes.get(item.product.id) || 0) + item.totalDuration
      ));

      // Generate milestones
      const milestones = [
        { name: 'Project Kickoff', month: 0, icon: 'ðŸš€' },
        { name: 'Core Systems Ready', month: Math.round(totalMonths * 0.3), icon: 'âš™ï¸' },
        { name: 'Integration Complete', month: Math.round(totalMonths * 0.6), icon: 'ðŸ”—' },
        { name: 'Testing Complete', month: Math.round(totalMonths * 0.85), icon: 'âœ…' },
        { name: 'Customer Handover', month: totalMonths, icon: 'ðŸŽ‰' }
      ];

      return {
        totalMonths: Math.ceil(totalMonths),
        products: sorted.map(item => ({
          ...item,
          startMonth: startTimes.get(item.product.id) || 0
        })),
        milestones
      };
    };

    const timeline = calculateDetailedTimeline();

    // Feasibility check
    const checkFeasibility = () => {
      const issues = [];
      const warnings = [];
      const strengths = [];
      
      const inDevProducts = selectedProductsData.filter(p => p.status === 'In Development');
      if (inDevProducts.length > 0) {
        warnings.push(`${inDevProducts.length} product(s) in development: ${inDevProducts.map(p => p.shortName).join(', ')}`);
      }
      
      if (aircraftType) {
        const incompatible = selectedProductsData.filter(p => 
          p.compatibleAircraft && !p.compatibleAircraft.some(a => aircraftType.toLowerCase().includes(a.toLowerCase().split(' ')[0]))
        );
        if (incompatible.length > 0) {
          issues.push(`Compatibility check needed for: ${incompatible.map(p => p.shortName).join(', ')}`);
        }
      }
      
      if (selectedProductsData.length > 3 && !configuredProducts.includes(5)) {
        warnings.push('Consider adding Cabin Management System (CMS) for better integration');
      }
      
      // Strengths
      if (configuredProducts.includes(5)) {
        strengths.push('CMS included - enables seamless system integration');
      }
      if (selectedProductsData.length >= 5) {
        strengths.push('Volume discount applicable (12% off base products)');
      }
      if (selectedProductsData.every(p => p.status === 'Available')) {
        strengths.push('All products are market-ready - faster deployment');
      }
      
      const certRequired = new Set();
      selectedProductsData.forEach(p => {
        if (p.certifications) {
          p.certifications.forEach(c => certRequired.add(c));
        }
      });
      
      return { issues, warnings, strengths, certifications: [...certRequired] };
    };

    const feasibility = checkFeasibility();

    // Resource calculation
    const calculateResources = () => {
      let totalFTE = 0;
      let engineers = 0;
      let testers = 0;
      let certExperts = 0;
      
      selectedProductsData.forEach(p => {
        if (p.team) {
          totalFTE += p.team.totalFTE || 0;
          engineers += (p.team.engineers || 0) + (p.team.developers || 0);
          testers += p.team.testers || 0;
          certExperts += p.team.certificationExperts || 0;
        }
      });
      
      return { totalFTE, engineers, testers, certExperts };
    };

    const resources = calculateResources();

    // Available products (not yet selected)
    const availableProducts = productsData.filter(p => !configuredProducts.includes(p.id));

    // Reset configurator
    const resetConfigurator = () => {
      setConfiguredProducts([]);
      setProjectName('');
      setClientName('');
      setAircraftType('');
    };

    // Generate quarters for timeline
    const generateQuartersForTimeline = (months) => {
      const numQuarters = Math.ceil(months / 3) + 1;
      const quarters = [];
      const startYear = 2025;
      for (let i = 0; i < numQuarters; i++) {
        const year = startYear + Math.floor(i / 4);
        const q = (i % 4) + 1;
        quarters.push({ year, quarter: q, label: `Q${q} ${year}`, monthStart: i * 3 });
      }
      return quarters;
    };

    const timelineQuarters = generateQuartersForTimeline(timeline.totalMonths);

    // ============ PDF EXPORT FUNCTION ============
    const exportToPDF = () => {
      // Create a new window with printable content
      const printWindow = window.open('', '_blank');
      
      const today = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
      const softwareCount = selectedProductsData.filter(p => p.category === 'Software').length;
      const hardwareCount = selectedProductsData.filter(p => p.category === 'Hardware').length;
      
      const htmlContent = `
<!DOCTYPE html>
<html>
<head>
  <title>NICE Proposal - ${projectName || 'Project'}</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      color: #1a1a2e;
      line-height: 1.5;
      padding: 0;
      background: white;
    }
    
    @media print {
      body { padding: 0; }
      .no-print { display: none !important; }
      .page-break { page-break-before: always; }
      @page { margin: 15mm; size: A4; }
    }
    
    .print-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #f0ab00;
      color: #002d50;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
    }
    
    .print-btn:hover { background: #d4960a; }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px;
    }
    
    /* Header */
    .header {
      background: linear-gradient(135deg, #f0ab00 0%, #d4960a 100%);
      padding: 30px 40px;
      margin: -40px -40px 30px -40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .logo-box {
      width: 50px;
      height: 50px;
      background: #002d50;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 18px;
    }
    
    .logo-text h1 {
      font-size: 22px;
      font-weight: 700;
      color: #002d50;
    }
    
    .logo-text p {
      font-size: 12px;
      color: #002d50;
      opacity: 0.8;
    }
    
    .header-date {
      text-align: right;
      color: #002d50;
    }
    
    .header-date .date {
      font-size: 14px;
      font-weight: 500;
    }
    
    .header-date .doc-id {
      font-size: 11px;
      opacity: 0.7;
    }
    
    /* Sections */
    .section {
      margin-bottom: 25px;
    }
    
    .section-title {
      font-size: 13px;
      font-weight: 700;
      color: #002d50;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 2px solid #f0ab00;
    }
    
    /* Project Details */
    .project-details {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }
    
    .detail-item label {
      font-size: 10px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: block;
      margin-bottom: 4px;
    }
    
    .detail-item span {
      font-size: 15px;
      font-weight: 600;
      color: #1a1a2e;
    }
    
    /* Summary Cards */
    .summary-cards {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
    }
    
    .summary-card {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 18px;
      border-left: 4px solid;
    }
    
    .summary-card.purple { border-left-color: #9333ea; }
    .summary-card.green { border-left-color: #22c55e; }
    .summary-card.blue { border-left-color: #3b82f6; }
    .summary-card.yellow { border-left-color: #f0ab00; }
    
    .summary-card .value {
      font-size: 24px;
      font-weight: 700;
    }
    
    .summary-card.purple .value { color: #9333ea; }
    .summary-card.green .value { color: #22c55e; }
    .summary-card.blue .value { color: #3b82f6; }
    .summary-card.yellow .value { color: #b8860b; }
    
    .summary-card .label {
      font-size: 11px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }
    
    /* Products Table */
    .products-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    
    .products-table th {
      background: #002d50;
      color: white;
      padding: 12px 15px;
      text-align: left;
      font-weight: 600;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }
    
    .products-table th:last-child { text-align: right; }
    
    .products-table td {
      padding: 12px 15px;
      border-bottom: 1px solid #eee;
    }
    
    .products-table td:last-child { 
      text-align: right;
      font-weight: 600;
      font-family: 'JetBrains Mono', monospace;
    }
    
    .products-table tr:nth-child(even) { background: #f8f9fa; }
    
    .badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
    }
    
    .badge.software { background: #f3e8ff; color: #9333ea; }
    .badge.hardware { background: #dcfce7; color: #22c55e; }
    .badge.ready { background: #dcfce7; color: #22c55e; }
    .badge.dev { background: #fef3c7; color: #b8860b; }
    
    /* Cost Breakdown */
    .cost-breakdown {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
    }
    
    .cost-row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #e5e5e5;
    }
    
    .cost-row:last-child { border-bottom: none; }
    
    .cost-row .label { color: #555; }
    .cost-row .value { font-weight: 600; font-family: 'JetBrains Mono', monospace; }
    
    .cost-row.discount .label { color: #22c55e; }
    .cost-row.discount .value { color: #22c55e; }
    
    .cost-total {
      background: #f0ab00;
      margin: 15px -20px -20px -20px;
      padding: 18px 20px;
      border-radius: 0 0 10px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .cost-total .label {
      font-weight: 700;
      color: #002d50;
      font-size: 14px;
    }
    
    .cost-total .value {
      font-size: 22px;
      font-weight: 700;
      color: #002d50;
      font-family: 'JetBrains Mono', monospace;
    }
    
    /* Timeline */
    .timeline {
      display: flex;
      justify-content: space-between;
      position: relative;
      padding: 20px 0;
    }
    
    .timeline::before {
      content: '';
      position: absolute;
      top: 35px;
      left: 30px;
      right: 30px;
      height: 3px;
      background: #e5e5e5;
    }
    
    .milestone {
      text-align: center;
      position: relative;
      z-index: 1;
      flex: 1;
    }
    
    .milestone-dot {
      width: 24px;
      height: 24px;
      background: #e5e5e5;
      border-radius: 50%;
      margin: 0 auto 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }
    
    .milestone:first-child .milestone-dot {
      background: #22c55e;
      color: white;
    }
    
    .milestone-name {
      font-size: 11px;
      font-weight: 600;
      color: #1a1a2e;
      margin-bottom: 4px;
    }
    
    .milestone-month {
      font-size: 10px;
      color: #888;
    }
    
    /* Certifications */
    .cert-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .cert-badge {
      background: #dcfce7;
      color: #166534;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
    }
    
    /* Payment Schedule */
    .payment-schedule {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
    }
    
    .payment-row {
      display: grid;
      grid-template-columns: 1fr 60px 100px 80px;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #e5e5e5;
      gap: 15px;
    }
    
    .payment-row:last-child { border-bottom: none; }
    
    .payment-row .milestone { text-align: left; font-size: 13px; }
    .payment-row .percent { font-weight: 600; text-align: center; }
    .payment-row .amount { font-weight: 600; font-family: 'JetBrains Mono', monospace; text-align: right; }
    
    .progress-bar {
      height: 6px;
      background: #e5e5e5;
      border-radius: 3px;
      overflow: hidden;
    }
    
    .progress-bar .fill {
      height: 100%;
      background: #f0ab00;
      border-radius: 3px;
    }
    
    /* Footer */
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #e5e5e5;
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: #888;
    }
    
    .footer .confidential {
      color: #dc2626;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    /* Two columns layout */
    .two-columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
    }
  </style>
</head>
<body>
  <button class="print-btn no-print" onclick="window.print()">
    ðŸ–¨ï¸ Print / Save as PDF
  </button>
  
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <div class="logo-box">LT</div>
        <div class="logo-text">
          <h1>NICE System Configuration</h1>
          <p>Lufthansa Technik - Project Proposal</p>
        </div>
      </div>
      <div class="header-date">
        <div class="date">${today}</div>
        <div class="doc-id">DOC-${Date.now().toString(36).toUpperCase()}</div>
      </div>
    </div>
    
    <!-- Project Details -->
    <div class="section">
      <div class="section-title">Project Details</div>
      <div class="project-details">
        <div class="detail-item">
          <label>Project Name</label>
          <span>${projectName || 'Untitled Project'}</span>
        </div>
        <div class="detail-item">
          <label>Client</label>
          <span>${clientName || 'To Be Determined'}</span>
        </div>
        <div class="detail-item">
          <label>Aircraft Type</label>
          <span>${aircraftType || 'To Be Determined'}</span>
        </div>
      </div>
    </div>
    
    <!-- Executive Summary -->
    <div class="section">
      <div class="section-title">Executive Summary</div>
      <div class="summary-cards">
        <div class="summary-card purple">
          <div class="value">${configuredProducts.length}</div>
          <div class="label">Products</div>
        </div>
        <div class="summary-card green">
          <div class="value">${timeline.totalMonths} mo</div>
          <div class="label">Duration</div>
        </div>
        <div class="summary-card blue">
          <div class="value">${resources.totalFTE} FTE</div>
          <div class="label">Team Size</div>
        </div>
        <div class="summary-card yellow">
          <div class="value">${formatCurrency(finalCost)}</div>
          <div class="label">Investment</div>
        </div>
      </div>
    </div>
    
    <!-- Products Table -->
    <div class="section">
      <div class="section-title">Included Products (${softwareCount} Software, ${hardwareCount} Hardware)</div>
      <table class="products-table">
        <thead>
          <tr>
            <th>Product Name</th>
            <th>Category</th>
            <th>Status</th>
            <th>Base Price</th>
          </tr>
        </thead>
        <tbody>
          ${selectedProductsData.map(p => `
            <tr>
              <td><strong>${p.name}</strong><br><span style="color:#888;font-size:11px">${p.subcategory}</span></td>
              <td><span class="badge ${p.category.toLowerCase()}">${p.category}</span></td>
              <td><span class="badge ${p.status === 'Available' ? 'ready' : 'dev'}">${p.status === 'Available' ? 'âœ“ Ready' : 'In Dev'}</span></td>
              <td>${formatCurrency(p.price.base)}</td>
            </tr>
          `).join('')}
        </tbody>
      </table>
    </div>
    
    <div class="two-columns">
      <!-- Cost Breakdown -->
      <div class="section">
        <div class="section-title">Cost Breakdown</div>
        <div class="cost-breakdown">
          <div class="cost-row">
            <span class="label">Base Products</span>
            <span class="value">${formatCurrency(totalBaseCost)}</span>
          </div>
          <div class="cost-row">
            <span class="label">Installation</span>
            <span class="value">${formatCurrency(totalInstallation)}</span>
          </div>
          ${volumeDiscount > 0 ? `
          <div class="cost-row discount">
            <span class="label">Volume Discount (${Math.round(volumeDiscount * 100)}%)</span>
            <span class="value">-${formatCurrency(discountAmount)}</span>
          </div>
          ` : ''}
          <div class="cost-row">
            <span class="label">Annual Maintenance</span>
            <span class="value">${formatCurrency(totalMaintenance)}/yr</span>
          </div>
          <div class="cost-total">
            <span class="label">TOTAL INVESTMENT</span>
            <span class="value">${formatCurrency(finalCost)}</span>
          </div>
        </div>
      </div>
      
      <!-- Certifications -->
      <div class="section">
        <div class="section-title">Required Certifications</div>
        <div class="cert-badges">
          ${feasibility.certifications.map(c => `<span class="cert-badge">${c}</span>`).join('')}
        </div>
        
        <div style="margin-top: 20px;">
          <div class="section-title" style="margin-top:15px">5-Year TCO</div>
          <div style="background:#f8f9fa;padding:15px;border-radius:8px;">
            <div style="font-size:24px;font-weight:700;color:#002d50;">${formatCurrency(finalCost + (totalMaintenance * 5))}</div>
            <div style="font-size:11px;color:#888;margin-top:5px;">Project + 5 years maintenance</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Timeline -->
    <div class="section">
      <div class="section-title">Project Timeline</div>
      <div class="timeline">
        ${timeline.milestones.map((m, i) => `
          <div class="milestone">
            <div class="milestone-dot">${m.icon}</div>
            <div class="milestone-name">${m.name}</div>
            <div class="milestone-month">Month ${m.month}</div>
          </div>
        `).join('')}
      </div>
    </div>
    
    <!-- Payment Schedule -->
    <div class="section">
      <div class="section-title">Payment Schedule</div>
      <div class="payment-schedule">
        ${[
          { milestone: 'Contract Signing', percent: 30 },
          { milestone: 'Hardware Delivery', percent: 30 },
          { milestone: 'Installation Complete', percent: 25 },
          { milestone: 'Final Acceptance', percent: 15 }
        ].map(p => `
          <div class="payment-row">
            <div class="milestone">${p.milestone}</div>
            <div class="percent">${p.percent}%</div>
            <div class="progress-bar"><div class="fill" style="width:${p.percent}%"></div></div>
            <div class="amount">${formatCurrency(finalCost * p.percent / 100)}</div>
          </div>
        `).join('')}
      </div>
    </div>
    
    <!-- Footer -->
    <div class="footer">
      <div>
        <strong>Lufthansa Technik AG</strong> - NICE In-Flight Entertainment Systems<br>
        This proposal is valid for 30 days from the date of issue.
      </div>
      <div class="confidential">CONFIDENTIAL</div>
    </div>
  </div>
  
  <script>
    // Auto-focus for immediate printing
    window.onload = function() {
      document.title = 'NICE_Proposal_${(projectName || 'Project').replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}';
    }
  </script>
</body>
</html>
      `;
      
      printWindow.document.write(htmlContent);
      printWindow.document.close();
    };

    return (
      <div className="page">
        <div className="section-header">
          <div>
            <h2 className="section-title">Project Configurator</h2>
            <p className="section-subtitle">
              {projectName || 'New Project'} {clientName && `â€¢ ${clientName}`} {aircraftType && `â€¢ ${aircraftType}`}
            </p>
          </div>
          <div className="section-actions">
            <button className="btn btn-secondary" onClick={resetConfigurator}>Reset</button>
            {configuredProducts.length > 0 && (
              <>
                <button className="btn btn-secondary" onClick={exportToPDF}>Export PDF</button>
                <button className="btn btn-primary">Save Project</button>
              </>
            )}
          </div>
        </div>

        {/* View Tabs */}
        <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1.5rem', padding: '0.5rem', background: 'var(--bg-card)', borderRadius: 12, border: '1px solid var(--border)' }}>
          {[
            { id: 'builder', label: 'Builder', desc: 'Select Products' },
            { id: 'architecture', label: 'Architecture', desc: 'System Map' },
            { id: 'timeline', label: 'Timeline', desc: 'Gantt View' },
            { id: 'budget', label: 'Budget', desc: 'Cost Analysis' },
            { id: 'summary', label: 'Summary', desc: 'Full Report' }
          ].map(tab => (
            <button
              key={tab.id}
              onClick={() => setConfigView(tab.id)}
              style={{
                flex: 1,
                padding: '0.875rem 1rem',
                background: configView === tab.id ? 'var(--accent-muted)' : 'transparent',
                border: configView === tab.id ? '1px solid rgba(240, 171, 0, 0.3)' : '1px solid transparent',
                borderRadius: 8,
                cursor: 'pointer',
                textAlign: 'center',
                transition: 'all 0.2s ease'
              }}
            >
              <div style={{ fontSize: '0.9rem', fontWeight: 600, marginBottom: '0.15rem', color: configView === tab.id ? 'var(--accent)' : 'var(--text-primary)' }}>{tab.label}</div>
              <div style={{ fontSize: '0.7rem', color: configView === tab.id ? 'var(--accent)' : 'var(--text-muted)' }}>{tab.desc}</div>
            </button>
          ))}
        </div>

        {/* Quick Stats Bar */}
        {configuredProducts.length > 0 && (
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(6, 1fr)', gap: '1rem', marginBottom: '1.5rem' }}>
            <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1rem', textAlign: 'center' }}>
              <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--accent)', fontFamily: 'JetBrains Mono' }}>{configuredProducts.length}</div>
              <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Products</div>
            </div>
            <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1rem', textAlign: 'center' }}>
              <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--green)', fontFamily: 'JetBrains Mono' }}>{timeline.totalMonths}</div>
              <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Months</div>
            </div>
            <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1rem', textAlign: 'center' }}>
              <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--purple)', fontFamily: 'JetBrains Mono' }}>{resources.totalFTE}</div>
              <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Team FTE</div>
            </div>
            <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1rem', textAlign: 'center' }}>
              <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--cyan)', fontFamily: 'JetBrains Mono' }}>{formatCurrency(finalCost)}</div>
              <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Total Cost</div>
            </div>
            <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1rem', textAlign: 'center' }}>
              <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--blue)', fontFamily: 'JetBrains Mono' }}>{formatCurrency(totalMaintenance)}</div>
              <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Annual Maint.</div>
            </div>
            <div style={{ background: feasibility.issues.length > 0 ? 'var(--red-muted)' : feasibility.warnings.length > 0 ? 'var(--accent-muted)' : 'var(--green-muted)', border: '1px solid var(--border)', borderRadius: 12, padding: '1rem', textAlign: 'center' }}>
              <div style={{ fontSize: '1.5rem' }}>{feasibility.issues.length > 0 ? 'âš ï¸' : feasibility.warnings.length > 0 ? 'ðŸ”¶' : 'âœ…'}</div>
              <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Status</div>
            </div>
          </div>
        )}

        {/* BUILDER VIEW */}
        {configView === 'builder' && (
          <div style={{ display: 'grid', gridTemplateColumns: '1fr 380px', gap: '1.5rem' }}>
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
              {/* Project Details */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Project Details</h3>
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem' }}>
                  <div>
                    <label style={{ display: 'block', fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.5rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Project Name *</label>
                    <input type="text" value={projectName} onChange={(e) => setProjectName(e.target.value)} placeholder="e.g., G700 Premium Experience"
                      style={{ width: '100%', padding: '0.75rem 1rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 8, color: 'var(--text-primary)', fontSize: '0.9rem' }} />
                  </div>
                  <div>
                    <label style={{ display: 'block', fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.5rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Client *</label>
                    <input type="text" value={clientName} onChange={(e) => setClientName(e.target.value)} placeholder="e.g., Gulfstream Aerospace"
                      style={{ width: '100%', padding: '0.75rem 1rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 8, color: 'var(--text-primary)', fontSize: '0.9rem' }} />
                  </div>
                  <div>
                    <label style={{ display: 'block', fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.5rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Aircraft Type</label>
                    <input type="text" value={aircraftType} onChange={(e) => setAircraftType(e.target.value)} placeholder="e.g., Gulfstream G700"
                      style={{ width: '100%', padding: '0.75rem 1rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 8, color: 'var(--text-primary)', fontSize: '0.9rem' }} />
                  </div>
                </div>
              </div>

              {/* Available Products */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>
                  Available Products
                  <span style={{ fontWeight: 400, color: 'var(--text-muted)', marginLeft: '0.5rem', fontSize: '0.85rem' }}>
                    ({availableProducts.length} available)
                  </span>
                </h3>
                
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '0.75rem', maxHeight: 400, overflowY: 'auto', paddingRight: '0.5rem' }}>
                  {availableProducts.map(product => (
                    <div key={product.id} onClick={() => addProduct(product.id)}
                      style={{ padding: '1rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 10, cursor: 'pointer', transition: 'all 0.2s ease' }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem' }}>
                        <div style={{ width: 32, height: 32, borderRadius: 8, background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)', color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                          {product.category === 'Software' ? <SoftwareIcon size={16} /> : <HardwareIcon size={16} />}
                        </div>
                        <div style={{ flex: 1, minWidth: 0 }}>
                          <div style={{ fontSize: '0.85rem', fontWeight: 500, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{product.shortName}</div>
                          <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>{product.subcategory}</div>
                        </div>
                        {product.status === 'In Development' && (
                          <span style={{ padding: '0.15rem 0.4rem', background: 'var(--accent-muted)', color: 'var(--accent)', borderRadius: 4, fontSize: '0.6rem', fontWeight: 600 }}>DEV</span>
                        )}
                      </div>
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                        <span style={{ fontSize: '0.75rem', color: 'var(--accent)', fontFamily: 'JetBrains Mono' }}>{formatCurrency(product.price.base)}</span>
                        {product.dependencies && product.dependencies.length > 0 && (
                          <span style={{ fontSize: '0.65rem', color: 'var(--text-dim)', background: 'var(--bg-dark)', padding: '0.15rem 0.4rem', borderRadius: 4 }}>
                            +{product.dependencies.length} deps
                          </span>
                        )}
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              {/* Selected Products */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>
                  Selected Products
                  <span style={{ fontWeight: 400, color: 'var(--accent)', marginLeft: '0.5rem' }}>({configuredProducts.length})</span>
                </h3>
                
                {selectedProductsData.length > 0 ? (
                  <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                    {selectedProductsData.map(product => {
                      const isDependent = isDependencyOf(product.id);
                      return (
                        <div key={product.id}
                          style={{ display: 'flex', alignItems: 'center', gap: '1rem', padding: '0.75rem 1rem', background: isDependent ? 'var(--bg-elevated)' : 'var(--accent-muted)', border: `1px solid ${isDependent ? 'var(--border)' : 'rgba(240, 171, 0, 0.3)'}`, borderRadius: 10 }}>
                          <div style={{ width: 32, height: 32, borderRadius: 8, background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)', color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                            {product.category === 'Software' ? <SoftwareIcon size={16} /> : <HardwareIcon size={16} />}
                          </div>
                          <div style={{ flex: 1 }}>
                            <div style={{ fontSize: '0.85rem', fontWeight: 500 }}>{product.name}</div>
                            <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>
                              {isDependent && 'ðŸ”— '}{product.status === 'Available' ? 'âœ“ Ready' : 'ðŸ”¨ In Development'} â€¢ {product.developmentMonths || 6}mo
                            </div>
                          </div>
                          <div style={{ textAlign: 'right' }}>
                            <div style={{ fontSize: '0.8rem', fontFamily: 'JetBrains Mono', fontWeight: 600, color: 'var(--accent)' }}>{formatCurrency(product.price.base)}</div>
                          </div>
                          <button onClick={() => removeProduct(product.id)}
                            style={{ width: 28, height: 28, background: 'var(--bg-dark)', border: '1px solid var(--border)', borderRadius: 6, color: 'var(--text-muted)', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '1.2rem', lineHeight: 1 }}>Ã—</button>
                        </div>
                      );
                    })}
                  </div>
                ) : (
                  <div style={{ textAlign: 'center', padding: '3rem 2rem', color: 'var(--text-muted)', background: 'var(--bg-elevated)', borderRadius: 10, border: '2px dashed var(--border)' }}>
                    <div style={{ width: 48, height: 48, margin: '0 auto 0.75rem', background: 'var(--bg-dark)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" strokeWidth="1.5">
                        <rect x="3" y="3" width="18" height="18" rx="2" />
                        <path d="M12 8v8M8 12h8" />
                      </svg>
                    </div>
                    <div>Click on products above to add them</div>
                    <div style={{ fontSize: '0.8rem', marginTop: '0.5rem' }}>Dependencies will be added automatically</div>
                  </div>
                )}
              </div>
            </div>

            {/* Right Sidebar */}
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
              {/* Cost Summary */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Cost Breakdown</h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem 0', borderBottom: '1px solid var(--border)' }}>
                    <span style={{ color: 'var(--text-secondary)', fontSize: '0.85rem' }}>Base Products</span>
                    <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 500 }}>{formatCurrency(totalBaseCost)}</span>
                  </div>
                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem 0', borderBottom: '1px solid var(--border)' }}>
                    <span style={{ color: 'var(--text-secondary)', fontSize: '0.85rem' }}>Installation</span>
                    <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 500 }}>{formatCurrency(totalInstallation)}</span>
                  </div>
                  {volumeDiscount > 0 && (
                    <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem 0', borderBottom: '1px solid var(--border)', background: 'var(--green-muted)', margin: '0 -1rem', padding: '0.5rem 1rem' }}>
                      <span style={{ color: 'var(--green)', fontSize: '0.85rem' }}>Volume Discount ({Math.round(volumeDiscount * 100)}%)</span>
                      <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 500, color: 'var(--green)' }}>-{formatCurrency(discountAmount)}</span>
                    </div>
                  )}
                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '1rem 0', marginTop: '0.5rem' }}>
                    <span style={{ color: 'var(--accent)', fontWeight: 600 }}>Total Project</span>
                    <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 700, fontSize: '1.25rem', color: 'var(--accent)' }}>{formatCurrency(finalCost)}</span>
                  </div>
                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem 0', background: 'var(--bg-elevated)', margin: '0 -1rem', padding: '0.75rem 1rem', borderRadius: '0 0 8px 8px' }}>
                    <span style={{ color: 'var(--text-muted)', fontSize: '0.8rem' }}>Annual Maintenance</span>
                    <span style={{ fontFamily: 'JetBrains Mono', fontSize: '0.9rem' }}>{formatCurrency(totalMaintenance)}/yr</span>
                  </div>
                </div>
              </div>

              {/* Feasibility */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Feasibility Analysis</h3>
                {configuredProducts.length > 0 ? (
                  <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                    {feasibility.strengths.map((s, idx) => (
                      <div key={idx} style={{ padding: '0.6rem 0.75rem', background: 'var(--green-muted)', borderRadius: 8, fontSize: '0.8rem', color: 'var(--green)' }}>âœ“ {s}</div>
                    ))}
                    {feasibility.warnings.map((w, idx) => (
                      <div key={idx} style={{ padding: '0.6rem 0.75rem', background: 'var(--accent-muted)', borderRadius: 8, fontSize: '0.8rem', color: 'var(--accent)' }}>âš  {w}</div>
                    ))}
                    {feasibility.issues.map((i, idx) => (
                      <div key={idx} style={{ padding: '0.6rem 0.75rem', background: 'var(--red-muted)', borderRadius: 8, fontSize: '0.8rem', color: 'var(--red)' }}>âŒ {i}</div>
                    ))}
                  </div>
                ) : (
                  <div style={{ textAlign: 'center', padding: '1.5rem', color: 'var(--text-muted)', fontSize: '0.85rem' }}>Add products to see analysis</div>
                )}
              </div>

              {/* Team Requirements */}
              {configuredProducts.length > 0 && (
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Team Requirements</h3>
                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '0.75rem' }}>
                    <div style={{ background: 'var(--bg-elevated)', borderRadius: 8, padding: '0.75rem', textAlign: 'center' }}>
                      <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--purple)' }}>{resources.engineers}</div>
                      <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Engineers</div>
                    </div>
                    <div style={{ background: 'var(--bg-elevated)', borderRadius: 8, padding: '0.75rem', textAlign: 'center' }}>
                      <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--orange)' }}>{resources.testers}</div>
                      <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>QA/Testers</div>
                    </div>
                    <div style={{ background: 'var(--bg-elevated)', borderRadius: 8, padding: '0.75rem', textAlign: 'center' }}>
                      <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--cyan)' }}>{resources.certExperts}</div>
                      <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Cert. Experts</div>
                    </div>
                    <div style={{ background: 'var(--accent-muted)', borderRadius: 8, padding: '0.75rem', textAlign: 'center' }}>
                      <div style={{ fontSize: '1.25rem', fontWeight: 700, color: 'var(--accent)' }}>{resources.totalFTE}</div>
                      <div style={{ fontSize: '0.7rem', color: 'var(--accent)' }}>Total FTE</div>
                    </div>
                  </div>
                </div>
              )}
            </div>
          </div>
        )}

        {/* ARCHITECTURE VIEW - Visual Dependency Map */}
        {configView === 'architecture' && (
          <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
            {configuredProducts.length > 0 ? (
              <>
                {/* Architecture Diagram */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>
                    <div>
                      <h3 style={{ fontSize: '1.1rem', fontWeight: 600 }}>System Architecture Map</h3>
                      <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginTop: '0.25rem' }}>Visual representation of component dependencies and connections</p>
                    </div>
                    <div style={{ display: 'flex', gap: '1.5rem', fontSize: '0.75rem' }}>
                      <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                        <span style={{ width: 14, height: 14, background: 'var(--purple)', borderRadius: 4 }}></span> Software
                      </span>
                      <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                        <span style={{ width: 14, height: 14, background: 'var(--green)', borderRadius: 4 }}></span> Hardware
                      </span>
                      <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                        <span style={{ width: 2, height: 14, background: 'var(--accent)' }}></span> Dependency
                      </span>
                    </div>
                  </div>

                  {/* SVG Architecture Diagram */}
                  {(() => {
                    // Calculate node positions based on dependency depth
                    const getDepth = (product, visited = new Set()) => {
                      if (visited.has(product.id)) return 0;
                      visited.add(product.id);
                      if (!product.dependencies || product.dependencies.length === 0) return 0;
                      const depProducts = product.dependencies
                        .filter(d => configuredProducts.includes(d))
                        .map(d => getProductById(d))
                        .filter(Boolean);
                      if (depProducts.length === 0) return 0;
                      return 1 + Math.max(...depProducts.map(p => getDepth(p, visited)));
                    };

                    // Categorize products by depth
                    const productsByDepth = { 0: [], 1: [], 2: [] };
                    selectedProductsData.forEach(p => {
                      const depth = Math.min(getDepth(p), 2);
                      productsByDepth[depth].push(p);
                    });

                    // Calculate positions
                    const nodePositions = {};
                    const containerWidth = 900;
                    const leftMargin = 80;
                    const usableWidth = containerWidth - leftMargin - 40;

                    // Layer Y positions
                    const layerY = { 0: 400, 1: 250, 2: 100 };

                    Object.entries(productsByDepth).forEach(([depth, products]) => {
                      const y = layerY[depth];
                      const spacing = usableWidth / (products.length + 1);
                      products.forEach((p, i) => {
                        nodePositions[p.id] = { 
                          x: leftMargin + spacing * (i + 1), 
                          y: y 
                        };
                      });
                    });

                    return (
                      <div style={{ position: 'relative', minHeight: 500, background: 'var(--bg-dark)', borderRadius: 12, overflow: 'hidden' }}>
                        {/* Layer Labels */}
                        <div style={{ position: 'absolute', left: 16, top: 100, transform: 'translateY(-50%)', writingMode: 'vertical-rl', textOrientation: 'mixed', fontSize: '0.65rem', color: 'var(--text-dim)', fontWeight: 600, letterSpacing: '0.1em' }}>
                          APPLICATION
                        </div>
                        <div style={{ position: 'absolute', left: 16, top: 250, transform: 'translateY(-50%)', writingMode: 'vertical-rl', textOrientation: 'mixed', fontSize: '0.65rem', color: 'var(--text-dim)', fontWeight: 600, letterSpacing: '0.1em' }}>
                          SERVICE
                        </div>
                        <div style={{ position: 'absolute', left: 16, top: 400, transform: 'translateY(-50%)', writingMode: 'vertical-rl', textOrientation: 'mixed', fontSize: '0.65rem', color: 'var(--text-dim)', fontWeight: 600, letterSpacing: '0.1em' }}>
                          INFRASTRUCTURE
                        </div>
                        
                        {/* Horizontal dividers */}
                        <div style={{ position: 'absolute', left: 60, right: 20, top: 175, height: 1, background: 'var(--border)', opacity: 0.3 }} />
                        <div style={{ position: 'absolute', left: 60, right: 20, top: 325, height: 1, background: 'var(--border)', opacity: 0.3 }} />
                        
                        {/* SVG for connection lines */}
                        <svg width="100%" height="500" style={{ position: 'absolute', top: 0, left: 0, pointerEvents: 'none' }}>
                          <defs>
                            <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                              <polygon points="0 0, 8 3, 0 6" fill="#f0ab00" />
                            </marker>
                          </defs>
                          
                          {/* Draw connection lines */}
                          {selectedProductsData.map(product => {
                            if (!product.dependencies) return null;
                            return product.dependencies
                              .filter(depId => configuredProducts.includes(depId))
                              .map(depId => {
                                const fromPos = nodePositions[product.id];
                                const toPos = nodePositions[depId];
                                if (!fromPos || !toPos) return null;
                                
                                // Calculate control points for curved line
                                // Line goes FROM dependent (higher up) TO dependency (lower down)
                                const startY = fromPos.y + 30; // Bottom of source node
                                const endY = toPos.y - 30; // Top of target node
                                const midY = (startY + endY) / 2;
                                
                                return (
                                  <path
                                    key={`${product.id}-${depId}`}
                                    d={`M ${fromPos.x} ${startY} 
                                        C ${fromPos.x} ${midY}, ${toPos.x} ${midY}, ${toPos.x} ${endY}`}
                                    fill="none"
                                    stroke="#f0ab00"
                                    strokeWidth="2"
                                    strokeOpacity="0.7"
                                    markerEnd="url(#arrowhead)"
                                  />
                                );
                              });
                          })}
                        </svg>
                        
                        {/* Product Nodes */}
                        {selectedProductsData.map(product => {
                          const pos = nodePositions[product.id];
                          if (!pos) return null;
                          
                          const dependentCount = selectedProductsData.filter(p => p.dependencies?.includes(product.id)).length;
                          
                          return (
                            <div
                              key={product.id}
                              onClick={() => navigateToProduct(product)}
                              style={{
                                position: 'absolute',
                                left: pos.x,
                                top: pos.y,
                                transform: 'translate(-50%, -50%)',
                                background: product.category === 'Software' 
                                  ? 'linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(139, 92, 246, 0.05) 100%)' 
                                  : 'linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.05) 100%)',
                                border: `2px solid ${product.category === 'Software' ? '#8b5cf6' : '#10b981'}`,
                                borderRadius: 10,
                                padding: '0.6rem 1rem',
                                minWidth: 130,
                                cursor: 'pointer',
                                transition: 'all 0.2s ease',
                                boxShadow: dependentCount > 0 
                                  ? `0 0 20px ${product.category === 'Software' ? 'rgba(139, 92, 246, 0.4)' : 'rgba(16, 185, 129, 0.4)'}` 
                                  : '0 4px 12px rgba(0,0,0,0.3)',
                                zIndex: 10
                              }}
                            >
                              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                <div style={{
                                  width: 22, height: 22, borderRadius: 5,
                                  background: product.category === 'Software' ? '#8b5cf6' : '#10b981',
                                  display: 'flex', alignItems: 'center', justifyContent: 'center',
                                  flexShrink: 0
                                }}>
                                  {product.category === 'Software' ? <SoftwareIcon size={11} /> : <HardwareIcon size={11} />}
                                </div>
                                <div>
                                  <div style={{ fontSize: '0.8rem', fontWeight: 600, color: '#f8fafc', lineHeight: 1.2 }}>{product.shortName}</div>
                                  <div style={{ fontSize: '0.65rem', color: '#64748b' }}>{product.subcategory}</div>
                                </div>
                              </div>
                              {dependentCount > 0 && (
                                <div style={{
                                  position: 'absolute', top: -10, right: -10,
                                  width: 22, height: 22, borderRadius: '50%',
                                  background: '#f0ab00', color: '#0a1628',
                                  fontSize: '0.7rem', fontWeight: 700,
                                  display: 'flex', alignItems: 'center', justifyContent: 'center',
                                  boxShadow: '0 2px 8px rgba(240, 171, 0, 0.5)'
                                }}>
                                  {dependentCount}
                                </div>
                              )}
                            </div>
                          );
                        })}
                        
                        {/* Empty layer indicators */}
                        {productsByDepth[2].length === 0 && (
                          <div style={{ position: 'absolute', left: '50%', top: 100, transform: 'translate(-50%, -50%)', color: 'var(--text-dim)', fontSize: '0.75rem', fontStyle: 'italic' }}>
                            No application layer components
                          </div>
                        )}
                        {productsByDepth[1].length === 0 && (
                          <div style={{ position: 'absolute', left: '50%', top: 250, transform: 'translate(-50%, -50%)', color: 'var(--text-dim)', fontSize: '0.75rem', fontStyle: 'italic' }}>
                            No service layer components
                          </div>
                        )}
                        {productsByDepth[0].length === 0 && (
                          <div style={{ position: 'absolute', left: '50%', top: 400, transform: 'translate(-50%, -50%)', color: 'var(--text-dim)', fontSize: '0.75rem', fontStyle: 'italic' }}>
                            No infrastructure components
                          </div>
                        )}
                      </div>
                    );
                  })()}
                </div>

                {/* Component Details Grid */}
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem' }}>
                  {(() => {
                    // Calculate depth for each product
                    const getDepth = (product, visited = new Set()) => {
                      if (visited.has(product.id)) return 0;
                      visited.add(product.id);
                      if (!product.dependencies || product.dependencies.length === 0) return 0;
                      const depProducts = product.dependencies
                        .filter(d => configuredProducts.includes(d))
                        .map(d => getProductById(d))
                        .filter(Boolean);
                      if (depProducts.length === 0) return 0;
                      return 1 + Math.max(...depProducts.map(p => getDepth(p, visited)));
                    };

                    const infraProducts = selectedProductsData.filter(p => getDepth(p) === 0);
                    const serviceProducts = selectedProductsData.filter(p => getDepth(p) === 1);
                    const appProducts = selectedProductsData.filter(p => getDepth(p) >= 2);

                    return (
                      <>
                        {/* Core Infrastructure */}
                        <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1.25rem' }}>
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '1rem' }}>
                            <div style={{ width: 8, height: 8, borderRadius: '50%', background: 'var(--green)' }} />
                            <h4 style={{ fontSize: '0.85rem', fontWeight: 600 }}>Infrastructure Layer</h4>
                            <span style={{ marginLeft: 'auto', fontSize: '0.75rem', color: 'var(--text-muted)' }}>{infraProducts.length}</span>
                          </div>
                          <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.75rem' }}>
                            Foundation components with no dependencies
                          </div>
                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                            {infraProducts.map(p => (
                              <div key={p.id} style={{ padding: '0.5rem 0.75rem', background: 'var(--bg-elevated)', borderRadius: 6, fontSize: '0.8rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                  <span style={{ width: 6, height: 6, borderRadius: 2, background: p.category === 'Software' ? 'var(--purple)' : 'var(--green)' }} />
                                  {p.shortName}
                                </span>
                                <span style={{ color: 'var(--text-dim)', fontSize: '0.7rem' }}>{p.category}</span>
                              </div>
                            ))}
                            {infraProducts.length === 0 && (
                              <div style={{ padding: '1rem', textAlign: 'center', color: 'var(--text-muted)', fontSize: '0.8rem', fontStyle: 'italic' }}>No infrastructure components</div>
                            )}
                          </div>
                        </div>

                        {/* Service Components */}
                        <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1.25rem' }}>
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '1rem' }}>
                            <div style={{ width: 8, height: 8, borderRadius: '50%', background: 'var(--blue)' }} />
                            <h4 style={{ fontSize: '0.85rem', fontWeight: 600 }}>Service Layer</h4>
                            <span style={{ marginLeft: 'auto', fontSize: '0.75rem', color: 'var(--text-muted)' }}>{serviceProducts.length}</span>
                          </div>
                          <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.75rem' }}>
                            Middleware depending on infrastructure
                          </div>
                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                            {serviceProducts.map(p => (
                              <div key={p.id} style={{ padding: '0.5rem 0.75rem', background: 'var(--bg-elevated)', borderRadius: 6, fontSize: '0.8rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                  <span style={{ width: 6, height: 6, borderRadius: 2, background: p.category === 'Software' ? 'var(--purple)' : 'var(--green)' }} />
                                  {p.shortName}
                                </span>
                                <span style={{ color: 'var(--accent)', fontSize: '0.7rem' }}>{p.dependencies?.filter(d => configuredProducts.includes(d)).length || 0} deps</span>
                              </div>
                            ))}
                            {serviceProducts.length === 0 && (
                              <div style={{ padding: '1rem', textAlign: 'center', color: 'var(--text-muted)', fontSize: '0.8rem', fontStyle: 'italic' }}>No service components</div>
                            )}
                          </div>
                        </div>

                        {/* Application Components */}
                        <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 12, padding: '1.25rem' }}>
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '1rem' }}>
                            <div style={{ width: 8, height: 8, borderRadius: '50%', background: 'var(--purple)' }} />
                            <h4 style={{ fontSize: '0.85rem', fontWeight: 600 }}>Application Layer</h4>
                            <span style={{ marginLeft: 'auto', fontSize: '0.75rem', color: 'var(--text-muted)' }}>{appProducts.length}</span>
                          </div>
                          <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.75rem' }}>
                            End-user facing applications
                          </div>
                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                            {appProducts.map(p => (
                              <div key={p.id} style={{ padding: '0.5rem 0.75rem', background: 'var(--bg-elevated)', borderRadius: 6, fontSize: '0.8rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                  <span style={{ width: 6, height: 6, borderRadius: 2, background: p.category === 'Software' ? 'var(--purple)' : 'var(--green)' }} />
                                  {p.shortName}
                                </span>
                                <span style={{ color: 'var(--accent)', fontSize: '0.7rem' }}>{p.dependencies?.filter(d => configuredProducts.includes(d)).length || 0} deps</span>
                              </div>
                            ))}
                            {appProducts.length === 0 && (
                              <div style={{ padding: '1rem', textAlign: 'center', color: 'var(--text-muted)', fontSize: '0.8rem', fontStyle: 'italic' }}>No application components</div>
                            )}
                          </div>
                        </div>
                      </>
                    );
                  })()}
                </div>

                {/* Dependency Matrix */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Dependency Matrix</h3>
                  <div style={{ overflowX: 'auto' }}>
                    <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '0.75rem' }}>
                      <thead>
                        <tr>
                          <th style={{ padding: '0.75rem', textAlign: 'left', borderBottom: '1px solid var(--border)', background: 'var(--bg-elevated)', position: 'sticky', left: 0 }}>Component</th>
                          {selectedProductsData.map(p => (
                            <th key={p.id} style={{ padding: '0.5rem', textAlign: 'center', borderBottom: '1px solid var(--border)', background: 'var(--bg-elevated)', minWidth: 60, writingMode: 'vertical-rl', height: 80 }}>
                              {p.shortName}
                            </th>
                          ))}
                        </tr>
                      </thead>
                      <tbody>
                        {selectedProductsData.map(product => (
                          <tr key={product.id}>
                            <td style={{ padding: '0.75rem', borderBottom: '1px solid var(--border)', background: 'var(--bg-dark)', position: 'sticky', left: 0, fontWeight: 500 }}>
                              {product.shortName}
                            </td>
                            {selectedProductsData.map(p => {
                              const isDep = product.dependencies?.includes(p.id);
                              const isReverseDep = p.dependencies?.includes(product.id);
                              const isSame = product.id === p.id;
                              
                              return (
                                <td key={p.id} style={{ padding: '0.5rem', textAlign: 'center', borderBottom: '1px solid var(--border)', background: isSame ? 'var(--bg-elevated)' : 'transparent' }}>
                                  {isSame ? (
                                    <span style={{ color: 'var(--text-dim)' }}>â€”</span>
                                  ) : isDep ? (
                                    <span style={{ display: 'inline-flex', width: 20, height: 20, borderRadius: 4, background: 'var(--accent)', color: 'var(--primary)', alignItems: 'center', justifyContent: 'center', fontWeight: 700 }}>â†’</span>
                                  ) : isReverseDep ? (
                                    <span style={{ display: 'inline-flex', width: 20, height: 20, borderRadius: 4, background: 'var(--blue-muted)', color: 'var(--blue)', alignItems: 'center', justifyContent: 'center', fontWeight: 700 }}>â†</span>
                                  ) : (
                                    <span style={{ color: 'var(--text-dim)' }}>Â·</span>
                                  )}
                                </td>
                              );
                            })}
                          </tr>
                        ))}
                      </tbody>
                    </table>
                  </div>
                  <div style={{ display: 'flex', gap: '2rem', marginTop: '1rem', paddingTop: '1rem', borderTop: '1px solid var(--border)', fontSize: '0.75rem', color: 'var(--text-muted)' }}>
                    <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                      <span style={{ display: 'inline-flex', width: 18, height: 18, borderRadius: 4, background: 'var(--accent)', color: 'var(--primary)', alignItems: 'center', justifyContent: 'center', fontSize: '0.7rem' }}>â†’</span>
                      Depends on (row requires column)
                    </span>
                    <span style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                      <span style={{ display: 'inline-flex', width: 18, height: 18, borderRadius: 4, background: 'var(--blue-muted)', color: 'var(--blue)', alignItems: 'center', justifyContent: 'center', fontSize: '0.7rem' }}>â†</span>
                      Required by (column depends on row)
                    </span>
                  </div>
                </div>
              </>
            ) : (
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '4rem', textAlign: 'center' }}>
                <div style={{ width: 80, height: 80, margin: '0 auto 1.5rem', background: 'var(--bg-elevated)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                  <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" strokeWidth="1.5">
                    <circle cx="5" cy="12" r="3" />
                    <circle cx="19" cy="6" r="3" />
                    <circle cx="19" cy="18" r="3" />
                    <path d="M8 12h5l3-6M13 12l3 6" />
                  </svg>
                </div>
                <h3 style={{ fontSize: '1.25rem', marginBottom: '0.5rem' }}>No Components Selected</h3>
                <p style={{ color: 'var(--text-muted)', maxWidth: 400, margin: '0 auto' }}>Add products in the Builder tab to visualize the system architecture and component dependencies</p>
                <button onClick={() => setConfigView('builder')} style={{ marginTop: '1.5rem', padding: '0.75rem 2rem', background: 'var(--accent)', color: 'var(--primary)', border: 'none', borderRadius: 8, fontWeight: 600, cursor: 'pointer' }}>
                  Go to Builder
                </button>
              </div>
            )}
          </div>
        )}

        {/* TIMELINE VIEW */}
        {configView === 'timeline' && (
          <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
            {configuredProducts.length > 0 ? (
              <>
                {/* Milestones */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Project Milestones</h3>
                  <div style={{ display: 'flex', justifyContent: 'space-between', position: 'relative', padding: '0 1rem' }}>
                    <div style={{ position: 'absolute', top: '50%', left: '3rem', right: '3rem', height: 4, background: 'var(--bg-elevated)', borderRadius: 2, transform: 'translateY(-50%)' }}>
                      <div style={{ height: '100%', width: '30%', background: 'linear-gradient(90deg, var(--green), var(--accent))', borderRadius: 2 }} />
                    </div>
                    {timeline.milestones.map((milestone, idx) => (
                      <div key={idx} style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', position: 'relative', zIndex: 1 }}>
                        <div style={{ width: 48, height: 48, borderRadius: '50%', background: idx === 0 ? 'var(--green)' : 'var(--bg-elevated)', border: '3px solid var(--bg-card)', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '1.25rem', marginBottom: '0.5rem' }}>
                          {milestone.icon}
                        </div>
                        <div style={{ fontSize: '0.75rem', fontWeight: 600, textAlign: 'center', maxWidth: 100 }}>{milestone.name}</div>
                        <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)', fontFamily: 'JetBrains Mono' }}>Month {milestone.month}</div>
                      </div>
                    ))}
                  </div>
                </div>

                {/* Gantt Chart */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, overflow: 'hidden' }}>
                  <div style={{ padding: '1.25rem 1.5rem', borderBottom: '1px solid var(--border)', background: 'var(--bg-elevated)', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                    <div>
                      <h3 style={{ fontSize: '1rem', fontWeight: 600 }}>Development Timeline</h3>
                      <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginTop: '0.25rem' }}>Total Duration: {timeline.totalMonths} months â€¢ Start: Q1 2025</p>
                    </div>
                    <div style={{ display: 'flex', gap: '1rem', fontSize: '0.75rem' }}>
                      <span style={{ display: 'flex', alignItems: 'center', gap: '0.35rem' }}><span style={{ width: 12, height: 12, background: 'var(--purple)', borderRadius: 3 }}></span> Development</span>
                      <span style={{ display: 'flex', alignItems: 'center', gap: '0.35rem' }}><span style={{ width: 12, height: 12, background: 'var(--orange)', borderRadius: 3 }}></span> Testing</span>
                      <span style={{ display: 'flex', alignItems: 'center', gap: '0.35rem' }}><span style={{ width: 12, height: 12, background: 'var(--cyan)', borderRadius: 3 }}></span> Certification</span>
                      <span style={{ display: 'flex', alignItems: 'center', gap: '0.35rem' }}><span style={{ width: 12, height: 12, background: 'var(--green)', borderRadius: 3 }}></span> Deployment</span>
                    </div>
                  </div>

                  {/* Quarter Headers */}
                  <div style={{ display: 'grid', gridTemplateColumns: '220px 1fr', borderBottom: '1px solid var(--border)' }}>
                    <div style={{ padding: '0.75rem 1rem', background: 'var(--bg-dark)', borderRight: '1px solid var(--border)', fontWeight: 600, fontSize: '0.8rem' }}>Product</div>
                    <div style={{ display: 'grid', gridTemplateColumns: `repeat(${Math.max(timelineQuarters.length, 4)}, 1fr)`, background: 'var(--bg-dark)' }}>
                      {timelineQuarters.map((q, idx) => (
                        <div key={idx} style={{ padding: '0.75rem 0.5rem', textAlign: 'center', fontSize: '0.75rem', fontWeight: 600, color: 'var(--text-muted)', borderRight: '1px solid var(--border)' }}>
                          {q.label}
                        </div>
                      ))}
                    </div>
                  </div>

                  {/* Product Rows */}
                  {timeline.products.map((item, idx) => {
                    const monthWidth = 100 / (timeline.totalMonths + 3);
                    
                    return (
                      <div key={item.product.id} style={{ display: 'grid', gridTemplateColumns: '220px 1fr', borderBottom: idx < timeline.products.length - 1 ? '1px solid var(--border)' : 'none' }}>
                        {/* Product Info */}
                        <div style={{ padding: '1rem', display: 'flex', alignItems: 'center', gap: '0.75rem', borderRight: '1px solid var(--border)', background: 'var(--bg-dark)' }}>
                          <div style={{ width: 32, height: 32, borderRadius: 8, background: item.product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)', color: item.product.category === 'Software' ? 'var(--purple)' : 'var(--green)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                            {item.product.category === 'Software' ? <SoftwareIcon size={16} /> : <HardwareIcon size={16} />}
                          </div>
                          <div>
                            <div style={{ fontSize: '0.85rem', fontWeight: 500 }}>{item.product.shortName}</div>
                            <div style={{ fontSize: '0.7rem', color: item.isAvailable ? 'var(--green)' : 'var(--accent)' }}>
                              {item.isAvailable ? 'âœ“ Ready' : 'ðŸ”¨ In Dev'} â€¢ {item.totalDuration}mo
                            </div>
                          </div>
                        </div>

                        {/* Timeline Bar */}
                        <div style={{ position: 'relative', minHeight: 60, background: 'var(--bg-card)' }}>
                          {/* Quarter grid lines */}
                          <div style={{ position: 'absolute', inset: 0, display: 'grid', gridTemplateColumns: `repeat(${Math.max(timelineQuarters.length, 4)}, 1fr)` }}>
                            {timelineQuarters.map((_, i) => (
                              <div key={i} style={{ borderRight: '1px solid var(--border)' }} />
                            ))}
                          </div>
                          
                          {/* Progress bar with phases */}
                          <div style={{
                            position: 'absolute',
                            top: '50%',
                            transform: 'translateY(-50%)',
                            left: `${item.startMonth * monthWidth}%`,
                            width: `${item.totalDuration * monthWidth}%`,
                            height: 28,
                            display: 'flex',
                            borderRadius: 6,
                            overflow: 'hidden'
                          }}>
                            {item.phases.map((phase, pIdx) => {
                              const phaseWidth = (phase.duration / item.totalDuration) * 100;
                              return (
                                <div key={pIdx} style={{
                                  width: `${phaseWidth}%`,
                                  background: phase.color,
                                  display: 'flex',
                                  alignItems: 'center',
                                  justifyContent: 'center',
                                  fontSize: '0.6rem',
                                  fontWeight: 600,
                                  color: 'white',
                                  borderRight: pIdx < item.phases.length - 1 ? '1px solid rgba(255,255,255,0.2)' : 'none'
                                }}>
                                  {phaseWidth > 20 ? phase.name : ''}
                                </div>
                              );
                            })}
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>

                {/* Dependencies Visualization */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Dependency Map</h3>
                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '1rem' }}>
                    {selectedProductsData.map(product => {
                      const deps = product.dependencies?.filter(d => configuredProducts.includes(d)) || [];
                      return (
                        <div key={product.id} style={{ background: 'var(--bg-elevated)', borderRadius: 10, padding: '1rem', minWidth: 200 }}>
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>
                            <div style={{ width: 24, height: 24, borderRadius: 6, background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)', color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                              {product.category === 'Software' ? <SoftwareIcon size={12} /> : <HardwareIcon size={12} />}
                            </div>
                            <span style={{ fontWeight: 500, fontSize: '0.85rem' }}>{product.shortName}</span>
                          </div>
                          {deps.length > 0 ? (
                            <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>
                              Requires: {deps.map(d => getProductById(d)?.shortName).join(', ')}
                            </div>
                          ) : (
                            <div style={{ fontSize: '0.75rem', color: 'var(--green)' }}>âœ“ No dependencies</div>
                          )}
                        </div>
                      );
                    })}
                  </div>
                </div>
              </>
            ) : (
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '4rem', textAlign: 'center' }}>
                <div style={{ width: 80, height: 80, margin: '0 auto 1.5rem', background: 'var(--bg-elevated)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                  <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" strokeWidth="1.5">
                    <rect x="3" y="4" width="18" height="18" rx="2" />
                    <path d="M3 10h18" />
                    <path d="M8 2v4M16 2v4" />
                  </svg>
                </div>
                <h3 style={{ fontSize: '1.25rem', marginBottom: '0.5rem' }}>No Products Selected</h3>
                <p style={{ color: 'var(--text-muted)' }}>Add products in the Builder tab to see the development timeline</p>
                <button onClick={() => setConfigView('builder')} style={{ marginTop: '1rem', padding: '0.75rem 1.5rem', background: 'var(--accent)', color: 'var(--primary)', border: 'none', borderRadius: 8, fontWeight: 600, cursor: 'pointer' }}>
                  Go to Builder
                </button>
              </div>
            )}
          </div>
        )}

        {/* BUDGET VIEW */}
        {configView === 'budget' && (
          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1.5rem' }}>
            {configuredProducts.length > 0 ? (
              <>
                {/* Cost Breakdown Chart */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1.5rem' }}>Cost Distribution</h3>
                  <div style={{ display: 'flex', gap: '2rem', alignItems: 'center' }}>
                    {/* Pie Chart Visualization */}
                    <div style={{ position: 'relative', width: 160, height: 160 }}>
                      <svg viewBox="0 0 100 100" style={{ transform: 'rotate(-90deg)' }}>
                        <circle cx="50" cy="50" r="40" fill="none" stroke="var(--purple)" strokeWidth="20" strokeDasharray={`${(totalBaseCost / totalProjectCost) * 251.2} 251.2`} />
                        <circle cx="50" cy="50" r="40" fill="none" stroke="var(--green)" strokeWidth="20" strokeDasharray={`${(totalInstallation / totalProjectCost) * 251.2} 251.2`} strokeDashoffset={`-${(totalBaseCost / totalProjectCost) * 251.2}`} />
                      </svg>
                      <div style={{ position: 'absolute', inset: 0, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>
                        <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>Total</div>
                        <div style={{ fontSize: '1rem', fontWeight: 700, color: 'var(--accent)', fontFamily: 'JetBrains Mono' }}>{formatCurrency(totalProjectCost)}</div>
                      </div>
                    </div>
                    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>
                        <span style={{ width: 16, height: 16, background: 'var(--purple)', borderRadius: 4 }}></span>
                        <span style={{ flex: 1, fontSize: '0.85rem' }}>Products</span>
                        <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 600 }}>{formatCurrency(totalBaseCost)}</span>
                        <span style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>({Math.round(totalBaseCost / totalProjectCost * 100)}%)</span>
                      </div>
                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>
                        <span style={{ width: 16, height: 16, background: 'var(--green)', borderRadius: 4 }}></span>
                        <span style={{ flex: 1, fontSize: '0.85rem' }}>Installation</span>
                        <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 600 }}>{formatCurrency(totalInstallation)}</span>
                        <span style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>({Math.round(totalInstallation / totalProjectCost * 100)}%)</span>
                      </div>
                      {volumeDiscount > 0 && (
                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', padding: '0.5rem 0.75rem', background: 'var(--green-muted)', borderRadius: 6, marginTop: '0.5rem' }}>
                          <span style={{ flex: 1, fontSize: '0.85rem', color: 'var(--green)' }}>ðŸ’° Volume Discount</span>
                          <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 600, color: 'var(--green)' }}>-{formatCurrency(discountAmount)}</span>
                        </div>
                      )}
                    </div>
                  </div>
                </div>

                {/* Per-Product Costs */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Per-Product Breakdown</h3>
                  <div style={{ maxHeight: 300, overflowY: 'auto' }}>
                    {selectedProductsData.sort((a, b) => b.price.base - a.price.base).map(product => (
                      <div key={product.id} style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', padding: '0.75rem 0', borderBottom: '1px solid var(--border)' }}>
                        <div style={{ width: 28, height: 28, borderRadius: 6, background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)', color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                          {product.category === 'Software' ? <SoftwareIcon size={14} /> : <HardwareIcon size={14} />}
                        </div>
                        <div style={{ flex: 1 }}>
                          <div style={{ fontSize: '0.85rem', fontWeight: 500 }}>{product.shortName}</div>
                          <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>+{formatCurrency(product.price.installation)} install</div>
                        </div>
                        <div style={{ textAlign: 'right' }}>
                          <div style={{ fontFamily: 'JetBrains Mono', fontWeight: 600, color: 'var(--accent)' }}>{formatCurrency(product.price.base)}</div>
                          <div style={{ fontSize: '0.65rem', color: 'var(--text-muted)' }}>{formatCurrency(product.price.maintenance)}/yr</div>
                        </div>
                        {/* Cost bar */}
                        <div style={{ width: 60, height: 6, background: 'var(--bg-elevated)', borderRadius: 3, overflow: 'hidden' }}>
                          <div style={{ height: '100%', width: `${(product.price.base / Math.max(...selectedProductsData.map(p => p.price.base))) * 100}%`, background: product.category === 'Software' ? 'var(--purple)' : 'var(--green)', borderRadius: 3 }} />
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                {/* ROI Analysis */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>ROI Projection</h3>
                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem' }}>
                    <div style={{ background: 'var(--bg-elevated)', borderRadius: 10, padding: '1rem', textAlign: 'center' }}>
                      <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--green)' }}>18-24</div>
                      <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Months Payback</div>
                    </div>
                    <div style={{ background: 'var(--bg-elevated)', borderRadius: 10, padding: '1rem', textAlign: 'center' }}>
                      <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--purple)' }}>+45%</div>
                      <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Customer Satisfaction</div>
                    </div>
                    <div style={{ background: 'var(--bg-elevated)', borderRadius: 10, padding: '1rem', textAlign: 'center' }}>
                      <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--cyan)' }}>-22%</div>
                      <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Maintenance Costs</div>
                    </div>
                  </div>
                  <div style={{ marginTop: '1rem', padding: '1rem', background: 'var(--accent-muted)', borderRadius: 10 }}>
                    <div style={{ fontSize: '0.85rem', marginBottom: '0.5rem' }}>5-Year Total Cost of Ownership</div>
                    <div style={{ fontFamily: 'JetBrains Mono', fontSize: '1.5rem', fontWeight: 700, color: 'var(--accent)' }}>
                      {formatCurrency(finalCost + (totalMaintenance * 5))}
                    </div>
                    <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>
                      Project: {formatCurrency(finalCost)} + Maintenance: {formatCurrency(totalMaintenance * 5)}
                    </div>
                  </div>
                </div>

                {/* Payment Schedule */}
                <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Suggested Payment Schedule</h3>
                  <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                    {[
                      { milestone: 'Contract Signing', percent: 30, icon: 'ðŸ“' },
                      { milestone: 'Hardware Delivery', percent: 30, icon: 'ðŸ“¦' },
                      { milestone: 'Installation Complete', percent: 25, icon: 'ðŸ”§' },
                      { milestone: 'Final Acceptance', percent: 15, icon: 'âœ…' }
                    ].map((item, idx) => (
                      <div key={idx} style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                        <span style={{ fontSize: '1.25rem' }}>{item.icon}</span>
                        <div style={{ flex: 1 }}>
                          <div style={{ fontSize: '0.85rem', fontWeight: 500 }}>{item.milestone}</div>
                          <div style={{ height: 6, background: 'var(--bg-elevated)', borderRadius: 3, marginTop: '0.35rem', overflow: 'hidden' }}>
                            <div style={{ height: '100%', width: `${item.percent}%`, background: 'var(--accent)', borderRadius: 3 }} />
                          </div>
                        </div>
                        <div style={{ textAlign: 'right' }}>
                          <div style={{ fontFamily: 'JetBrains Mono', fontWeight: 600 }}>{formatCurrency(finalCost * item.percent / 100)}</div>
                          <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>{item.percent}%</div>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </>
            ) : (
              <div style={{ gridColumn: 'span 2', background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '4rem', textAlign: 'center' }}>
                <div style={{ width: 80, height: 80, margin: '0 auto 1.5rem', background: 'var(--bg-elevated)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                  <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" strokeWidth="1.5">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 6v6l4 2" />
                  </svg>
                </div>
                <h3 style={{ fontSize: '1.25rem', marginBottom: '0.5rem' }}>No Products Selected</h3>
                <p style={{ color: 'var(--text-muted)' }}>Add products in the Builder tab to see budget analysis</p>
              </div>
            )}
          </div>
        )}

        {/* SUMMARY VIEW */}
        {configView === 'summary' && (
          <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
            {configuredProducts.length > 0 ? (
              <>
                {/* Executive Summary Header */}
                <div style={{ background: 'linear-gradient(135deg, var(--bg-card) 0%, var(--bg-elevated) 100%)', border: '1px solid var(--border)', borderRadius: 16, padding: '2rem', position: 'relative', overflow: 'hidden' }}>
                  <div style={{ position: 'absolute', top: -50, right: -50, width: 200, height: 200, background: 'var(--accent)', opacity: 0.05, borderRadius: '50%' }} />
                  <div style={{ position: 'relative' }}>
                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>
                      <div>
                        <div style={{ fontSize: '0.75rem', color: 'var(--accent)', textTransform: 'uppercase', letterSpacing: '0.1em', marginBottom: '0.5rem' }}>Executive Summary</div>
                        <h2 style={{ fontSize: '1.75rem', fontWeight: 700, marginBottom: '0.25rem' }}>{projectName || 'NICE System Configuration'}</h2>
                        <p style={{ color: 'var(--text-muted)' }}>{clientName || 'Client TBD'} â€¢ {aircraftType || 'Aircraft TBD'}</p>
                      </div>
                      <div style={{ textAlign: 'right' }}>
                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.25rem' }}>Total Investment</div>
                        <div style={{ fontSize: '2rem', fontWeight: 700, color: 'var(--accent)', fontFamily: 'JetBrains Mono' }}>{formatCurrency(finalCost)}</div>
                      </div>
                    </div>
                    
                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(5, 1fr)', gap: '1.5rem', marginTop: '2rem', paddingTop: '1.5rem', borderTop: '1px solid var(--border)' }}>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--purple)' }}>{selectedProductsData.filter(p => p.category === 'Software').length}</div>
                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Software Products</div>
                      </div>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--green)' }}>{selectedProductsData.filter(p => p.category === 'Hardware').length}</div>
                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Hardware Products</div>
                      </div>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--blue)' }}>{timeline.totalMonths}</div>
                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Months Duration</div>
                      </div>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--orange)' }}>{resources.totalFTE}</div>
                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Team Members</div>
                      </div>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700, color: 'var(--cyan)' }}>{feasibility.certifications.length}</div>
                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Certifications</div>
                      </div>
                    </div>
                  </div>
                </div>

                <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '1.5rem' }}>
                  {/* Products List */}
                  <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                    <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Included Products</h3>
                    <table style={{ width: '100%', borderCollapse: 'collapse' }}>
                      <thead>
                        <tr style={{ borderBottom: '1px solid var(--border)' }}>
                          <th style={{ textAlign: 'left', padding: '0.75rem', fontSize: '0.75rem', color: 'var(--text-muted)', fontWeight: 500 }}>Product</th>
                          <th style={{ textAlign: 'center', padding: '0.75rem', fontSize: '0.75rem', color: 'var(--text-muted)', fontWeight: 500 }}>Type</th>
                          <th style={{ textAlign: 'center', padding: '0.75rem', fontSize: '0.75rem', color: 'var(--text-muted)', fontWeight: 500 }}>Status</th>
                          <th style={{ textAlign: 'right', padding: '0.75rem', fontSize: '0.75rem', color: 'var(--text-muted)', fontWeight: 500 }}>Price</th>
                        </tr>
                      </thead>
                      <tbody>
                        {selectedProductsData.map(product => (
                          <tr key={product.id} style={{ borderBottom: '1px solid var(--border)' }}>
                            <td style={{ padding: '0.75rem' }}>
                              <div style={{ fontWeight: 500, fontSize: '0.9rem' }}>{product.name}</div>
                              <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>{product.subcategory}</div>
                            </td>
                            <td style={{ textAlign: 'center', padding: '0.75rem' }}>
                              <span style={{ padding: '0.25rem 0.5rem', background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)', color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)', borderRadius: 4, fontSize: '0.7rem', fontWeight: 500 }}>
                                {product.category}
                              </span>
                            </td>
                            <td style={{ textAlign: 'center', padding: '0.75rem' }}>
                              <span style={{ padding: '0.25rem 0.5rem', background: product.status === 'Available' ? 'var(--green-muted)' : 'var(--accent-muted)', color: product.status === 'Available' ? 'var(--green)' : 'var(--accent)', borderRadius: 4, fontSize: '0.7rem', fontWeight: 500 }}>
                                {product.status}
                              </span>
                            </td>
                            <td style={{ textAlign: 'right', padding: '0.75rem', fontFamily: 'JetBrains Mono', fontWeight: 500 }}>{formatCurrency(product.price.base)}</td>
                          </tr>
                        ))}
                      </tbody>
                      <tfoot>
                        <tr style={{ background: 'var(--bg-elevated)' }}>
                          <td colSpan="3" style={{ padding: '0.75rem', fontWeight: 600 }}>Total</td>
                          <td style={{ textAlign: 'right', padding: '0.75rem', fontFamily: 'JetBrains Mono', fontWeight: 700, color: 'var(--accent)' }}>{formatCurrency(finalCost)}</td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>

                  {/* Key Info */}
                  <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                    <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                      <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Certifications Required</h3>
                      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
                        {feasibility.certifications.map((cert, idx) => (
                          <span key={idx} style={{ padding: '0.35rem 0.75rem', background: 'var(--green-muted)', color: 'var(--green)', borderRadius: 6, fontSize: '0.75rem', fontWeight: 500 }}>{cert}</span>
                        ))}
                      </div>
                    </div>

                    <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                      <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Key Dates</h3>
                      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                          <span style={{ fontSize: '0.85rem', color: 'var(--text-secondary)' }}>Project Start</span>
                          <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 500 }}>Q1 2025</span>
                        </div>
                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                          <span style={{ fontSize: '0.85rem', color: 'var(--text-secondary)' }}>Estimated Completion</span>
                          <span style={{ fontFamily: 'JetBrains Mono', fontWeight: 500 }}>Q{Math.ceil((timeline.totalMonths % 12) / 3) || 4} {2025 + Math.floor(timeline.totalMonths / 12)}</span>
                        </div>
                      </div>
                    </div>

                    <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '1.5rem' }}>
                      <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Key Benefits</h3>
                      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                        {feasibility.strengths.map((s, idx) => (
                          <div key={idx} style={{ fontSize: '0.85rem', color: 'var(--green)', display: 'flex', alignItems: 'flex-start', gap: '0.5rem' }}>
                            <span>âœ“</span> {s}
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>
                </div>

                {/* Print/Export Actions */}
                <div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', padding: '1rem' }}>
                  <button onClick={() => window.print()} style={{ padding: '0.75rem 2rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 8, color: 'var(--text-primary)', fontWeight: 500, cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 9V2h12v7M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2M6 14h12v8H6z"/></svg>
                    Print Summary
                  </button>
                  <button onClick={exportToPDF} style={{ padding: '0.75rem 2rem', background: 'var(--bg-elevated)', border: '1px solid var(--border)', borderRadius: 8, color: 'var(--text-primary)', fontWeight: 500, cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="12" y2="12"/><line x1="15" y1="15" x2="12" y2="12"/></svg>
                    Export PDF
                  </button>
                </div>
              </>
            ) : (
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 16, padding: '4rem', textAlign: 'center' }}>
                <div style={{ width: 80, height: 80, margin: '0 auto 1.5rem', background: 'var(--bg-elevated)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                  <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" strokeWidth="1.5">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                    <polyline points="14 2 14 8 20 8" />
                    <line x1="16" y1="13" x2="8" y2="13" />
                    <line x1="16" y1="17" x2="8" y2="17" />
                    <polyline points="10 9 9 9 8 9" />
                  </svg>
                </div>
                <h3 style={{ fontSize: '1.25rem', marginBottom: '0.5rem' }}>No Configuration Yet</h3>
                <p style={{ color: 'var(--text-muted)' }}>Add products in the Builder tab to generate a summary report</p>
              </div>
            )}
          </div>
        )}
      </div>
    );
  };

  // ============ PRODUCT DETAIL PAGE ============
  const ProductDetailPage = () => {
    if (!selectedProduct) return null;
    const product = selectedProduct;

    return (
      <div className="page" style={{ padding: 0, maxWidth: '100%' }}>
        {/* Luxury Hero Header */}
        <div style={{
          position: 'relative',
          padding: '3rem 2rem',
          background: product.category === 'Software' 
            ? 'linear-gradient(135deg, #0a1628 0%, #1a1040 50%, #0d1929 100%)'
            : 'linear-gradient(135deg, #0a1628 0%, #0d2818 50%, #0d1929 100%)',
          overflow: 'hidden'
        }}>
          {/* Background elements */}
          <div style={{ position: 'absolute', inset: 0, overflow: 'hidden' }}>
            <svg style={{ position: 'absolute', width: '100%', height: '100%', opacity: 0.03 }}>
              <defs>
                <pattern id="detailGrid" width="40" height="40" patternUnits="userSpaceOnUse">
                  <path d="M 40 0 L 0 0 0 40" fill="none" stroke="white" strokeWidth="0.5"/>
                </pattern>
              </defs>
              <rect width="100%" height="100%" fill="url(#detailGrid)" />
            </svg>
            <div style={{ position: 'absolute', right: '10%', top: '50%', transform: 'translateY(-50%)', width: 300, height: 300, border: `1px solid ${product.category === 'Software' ? 'rgba(139,92,246,0.1)' : 'rgba(34,197,94,0.1)'}`, borderRadius: '50%' }}></div>
            <div style={{ position: 'absolute', right: '5%', top: '40%', transform: 'translateY(-50%)', width: 400, height: 400, border: `1px solid ${product.category === 'Software' ? 'rgba(139,92,246,0.05)' : 'rgba(34,197,94,0.05)'}`, borderRadius: '50%' }}></div>
          </div>
          
          <div style={{ position: 'relative', zIndex: 1, maxWidth: 1400, margin: '0 auto' }}>
            {/* Back Button */}
            <button 
              onClick={() => setCurrentPage('products')}
              style={{
                display: 'inline-flex',
                alignItems: 'center',
                gap: '0.5rem',
                padding: '0.6rem 1rem',
                background: 'rgba(255,255,255,0.05)',
                border: '1px solid rgba(255,255,255,0.1)',
                borderRadius: 8,
                color: 'rgba(255,255,255,0.7)',
                fontSize: '0.85rem',
                cursor: 'pointer',
                marginBottom: '1.5rem',
                transition: 'all 0.2s ease'
              }}
            >
              <ArrowLeft size={16} /> Back to Products
            </button>
            
            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: '3rem' }}>
              <div style={{ flex: 1 }}>
                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '1.5rem' }}>
                  <div style={{
                    width: 72, height: 72, borderRadius: 18,
                    background: product.category === 'Software' ? 'rgba(139,92,246,0.2)' : 'rgba(34,197,94,0.2)',
                    border: `2px solid ${product.category === 'Software' ? 'var(--purple)' : 'var(--green)'}`,
                    color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                    display: 'flex', alignItems: 'center', justifyContent: 'center'
                  }}>
                    {product.category === 'Software' ? <SoftwareIcon size={36} /> : <HardwareIcon size={36} />}
                  </div>
                  <div>
                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem' }}>
                      <span style={{
                        padding: '0.35rem 0.75rem',
                        background: product.category === 'Software' ? 'rgba(139,92,246,0.2)' : 'rgba(34,197,94,0.2)',
                        color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                        borderRadius: 20,
                        fontSize: '0.75rem',
                        fontWeight: 600
                      }}>{product.category}</span>
                      <span style={{
                        padding: '0.35rem 0.75rem',
                        background: product.status === 'Available' ? 'rgba(34,197,94,0.2)' : 'rgba(240,171,0,0.2)',
                        color: product.status === 'Available' ? 'var(--green)' : 'var(--accent)',
                        borderRadius: 20,
                        fontSize: '0.75rem',
                        fontWeight: 600
                      }}>{product.status}</span>
                      <span style={{
                        padding: '0.35rem 0.75rem',
                        background: 'rgba(255,255,255,0.1)',
                        color: 'rgba(255,255,255,0.7)',
                        borderRadius: 20,
                        fontSize: '0.75rem',
                        fontFamily: 'JetBrains Mono'
                      }}>v{product.version}</span>
                    </div>
                    <div style={{ fontSize: '0.85rem', color: 'rgba(255,255,255,0.5)' }}>
                      {product.subcategory} â€¢ Updated: {product.lastUpdated}
                    </div>
                  </div>
                </div>
                <h1 style={{ fontSize: '2.5rem', fontWeight: 700, color: 'white', marginBottom: '1rem' }}>{product.name}</h1>
                <p style={{ fontSize: '1.1rem', color: 'rgba(255,255,255,0.6)', lineHeight: 1.7, maxWidth: 700 }}>{product.description}</p>
              </div>
              
              {/* Price Card */}
              <div style={{
                padding: '2rem',
                background: 'rgba(255,255,255,0.03)',
                backdropFilter: 'blur(10px)',
                border: '1px solid rgba(255,255,255,0.1)',
                borderRadius: 20,
                minWidth: 280
              }}>
                <div style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.5)', textTransform: 'uppercase', letterSpacing: '0.1em', marginBottom: '0.5rem' }}>Base Price</div>
                <div style={{ fontSize: '2.5rem', fontWeight: 700, color: 'var(--accent)', marginBottom: '1rem' }}>{formatCurrency(product.price.base)}</div>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem', paddingTop: '1rem', borderTop: '1px solid rgba(255,255,255,0.1)' }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.85rem' }}>
                    <span style={{ color: 'rgba(255,255,255,0.5)' }}>Installation</span>
                    <span style={{ color: 'white', fontWeight: 500 }}>{formatCurrency(product.price.installation)}</span>
                  </div>
                  <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.85rem' }}>
                    <span style={{ color: 'rgba(255,255,255,0.5)' }}>Annual Maintenance</span>
                    <span style={{ color: 'white', fontWeight: 500 }}>{formatCurrency(product.price.maintenance)}</span>
                  </div>
                </div>
                <button 
                  className="btn btn-primary"
                  onClick={() => { setConfiguredProducts([product.id]); setCurrentPage('configurator'); }}
                  style={{ width: '100%', marginTop: '1.5rem', padding: '0.875rem' }}
                >
                  Add to Configuration
                </button>
              </div>
            </div>
          </div>
        </div>
        
        {/* Main Content */}
        <div style={{ padding: '2rem', maxWidth: 1400, margin: '0 auto' }}>
          <div style={{ display: 'grid', gridTemplateColumns: '1fr 380px', gap: '2rem' }}>
            {/* Main Column */}
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
              {/* Full Description */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '2rem' }}>
                <h3 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                  Product Overview
                </h3>
                <p style={{ fontSize: '0.95rem', color: 'var(--text-secondary)', lineHeight: 1.8 }}>{product.fullDescription}</p>
              </div>
              
              {/* Development Timeline */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '2rem' }}>
                <h3 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                  Development Timeline ({product.developmentTime})
                </h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                  {product.timeline.map((phase, index) => (
                    <div key={index} style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                      <div style={{
                        width: 12, height: 12, borderRadius: '50%', flexShrink: 0,
                        background: phase.status === 'completed' ? 'var(--green)' : phase.status === 'in-progress' ? 'var(--blue)' : 'var(--text-dim)'
                      }}/>
                      <div style={{ flex: 1, height: 8, background: 'var(--bg-elevated)', borderRadius: 4, overflow: 'hidden' }}>
                        <div style={{
                          width: phase.status === 'completed' ? '100%' : phase.status === 'in-progress' ? '60%' : '0%',
                          height: '100%',
                          background: phase.status === 'completed' ? 'var(--green)' : phase.status === 'in-progress' ? 'var(--blue)' : 'transparent',
                          borderRadius: 4,
                          transition: 'width 0.3s ease'
                        }}/>
                      </div>
                      <span style={{ fontSize: '0.85rem', fontWeight: 500, minWidth: 150 }}>{phase.phase}</span>
                      <span style={{ fontSize: '0.8rem', color: 'var(--text-muted)', minWidth: 80, textAlign: 'right' }}>{phase.duration}</span>
                    </div>
                  ))}
                </div>
              </div>
              
              {/* Technical Specifications */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '2rem' }}>
                <h3 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" strokeWidth="2"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 9h6v6H9z"/><path d="M9 1v3M15 1v3M9 20v3M15 20v3M20 9h3M20 14h3M1 9h3M1 14h3"/></svg>
                  Technical Specifications
                </h3>
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1rem' }}>
                  {Object.entries(product.technicalSpecs).map(([key, value]) => (
                    <div key={key} style={{ padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 12 }}>
                      <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.35rem' }}>
                        {key.replace(/([A-Z])/g, ' $1').trim()}
                      </div>
                      <div style={{ fontSize: '1rem', fontWeight: 600, color: 'var(--text-primary)' }}>{value}</div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
            
            {/* Sidebar */}
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
              {/* Dependencies */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Dependencies ({product.dependencies.length})</h3>
                {product.dependencies.length > 0 ? (
                  <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                    {product.dependencies.map(depId => {
                      const dep = getProductById(depId);
                      return (
                        <div 
                          key={depId}
                          onClick={() => navigateToProduct(dep)}
                          style={{
                            display: 'flex', alignItems: 'center', gap: '0.75rem',
                            padding: '0.75rem', background: 'var(--bg-elevated)', borderRadius: 10,
                            cursor: 'pointer', transition: 'all 0.2s ease'
                          }}
                        >
                          <div style={{
                            width: 40, height: 40, borderRadius: 10,
                            background: dep.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)',
                            color: dep.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                            display: 'flex', alignItems: 'center', justifyContent: 'center'
                          }}>
                            {dep.category === 'Software' ? <SoftwareIcon size={18} /> : <HardwareIcon size={18} />}
                          </div>
                          <div style={{ flex: 1 }}>
                            <div style={{ fontWeight: 600, fontSize: '0.9rem' }}>{dep.shortName}</div>
                            <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>{dep.developmentTime}</div>
                          </div>
                        </div>
                      );
                    })}
                  </div>
                ) : (
                  <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', fontStyle: 'italic' }}>No dependencies required</p>
                )}
              </div>
              
              {/* Certifications */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Certifications</h3>
                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
                  {product.certifications.map((cert, index) => (
                    <span key={index} style={{
                      padding: '0.5rem 0.75rem',
                      background: 'var(--green-muted)',
                      color: 'var(--green)',
                      borderRadius: 8,
                      fontSize: '0.8rem',
                      fontWeight: 600
                    }}>{cert}</span>
                  ))}
                </div>
              </div>
              
              {/* Compatible Aircraft */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Compatible Aircraft</h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                  {product.compatibleAircraft.map((aircraft, index) => (
                    <div key={index} style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', padding: '0.5rem 0' }}>
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--green)" strokeWidth="2">
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                      <span style={{ fontSize: '0.9rem' }}>{aircraft}</span>
                    </div>
                  ))}
                </div>
              </div>
              
              {/* Documentation */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Documentation</h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                  {product.documents.map((doc, index) => (
                    <div key={index} style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', padding: '0.5rem 0', cursor: 'pointer' }}>
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--blue)" strokeWidth="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/>
                      </svg>
                      <span style={{ fontSize: '0.9rem', color: 'var(--text-secondary)' }}>{doc}</span>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  };

  // ============ PROJECT DETAIL PAGE ============
  const ProjectDetailPage = () => {
    if (!selectedProject) return null;
    const project = selectedProject;

    return (
      <div className="page" style={{ padding: 0, maxWidth: '100%' }}>
        {/* Luxury Hero Header */}
        <div style={{
          position: 'relative',
          padding: '3rem 2rem',
          background: 'linear-gradient(135deg, #0a1628 0%, #122a4a 50%, #0d1929 100%)',
          overflow: 'hidden'
        }}>
          {/* Background elements */}
          <div style={{ position: 'absolute', inset: 0, overflow: 'hidden' }}>
            <svg style={{ position: 'absolute', width: '100%', height: '100%', opacity: 0.03 }}>
              <defs>
                <pattern id="projDetailGrid" width="40" height="40" patternUnits="userSpaceOnUse">
                  <path d="M 40 0 L 0 0 0 40" fill="none" stroke="white" strokeWidth="0.5"/>
                </pattern>
              </defs>
              <rect width="100%" height="100%" fill="url(#projDetailGrid)" />
            </svg>
            {/* Private jet silhouette */}
            <svg style={{ position: 'absolute', right: '-5%', top: '50%', transform: 'translateY(-50%)', width: '40%', opacity: 0.06 }} viewBox="0 0 800 300">
              <path fill="var(--accent)" d="M750 150c0-15-10-28-25-32l-280-45c-5-1-10 0-14 3l-85 55-180-30c-8-1-15 3-18 10l-15 35c-3 8 2 16 10 18l120 25-45 30-60-15c-5-1-10 0-14 4l-25 25c-5 5-3 14 4 17l100 35c5 2 11 1 15-3l70-55 180 25c15 2 28-5 35-18l15-30 190-25c15-2 22-15 22-29z"/>
            </svg>
            <div style={{ position: 'absolute', right: '20%', top: '30%', width: 250, height: 250, border: '1px solid rgba(59,130,246,0.1)', borderRadius: '50%' }}></div>
          </div>
          
          <div style={{ position: 'relative', zIndex: 1, maxWidth: 1400, margin: '0 auto' }}>
            {/* Back Button */}
            <button 
              onClick={() => setCurrentPage('projects')}
              style={{
                display: 'inline-flex',
                alignItems: 'center',
                gap: '0.5rem',
                padding: '0.6rem 1rem',
                background: 'rgba(255,255,255,0.05)',
                border: '1px solid rgba(255,255,255,0.1)',
                borderRadius: 8,
                color: 'rgba(255,255,255,0.7)',
                fontSize: '0.85rem',
                cursor: 'pointer',
                marginBottom: '1.5rem'
              }}
            >
              <ArrowLeft size={16} /> Back to Projects
            </button>
            
            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: '3rem' }}>
              <div style={{ display: 'flex', gap: '1.5rem', flex: 1 }}>
                {/* Client Logo */}
                <div style={{
                  width: 100, height: 100, borderRadius: 20,
                  background: 'linear-gradient(135deg, var(--accent) 0%, #d4940a 100%)',
                  display: 'flex', alignItems: 'center', justifyContent: 'center',
                  fontSize: '2rem', fontWeight: 800, color: 'var(--primary)',
                  flexShrink: 0,
                  boxShadow: '0 8px 32px rgba(240,171,0,0.3)'
                }}>{project.clientLogo}</div>
                
                <div>
                  <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.75rem' }}>
                    <span style={{
                      padding: '0.35rem 0.75rem',
                      background: project.status === 'Completed' ? 'rgba(34,197,94,0.2)' : project.status === 'In Progress' ? 'rgba(59,130,246,0.2)' : 'rgba(240,171,0,0.2)',
                      color: project.status === 'Completed' ? 'var(--green)' : project.status === 'In Progress' ? 'var(--blue)' : 'var(--accent)',
                      borderRadius: 20,
                      fontSize: '0.75rem',
                      fontWeight: 600
                    }}>{project.status}</span>
                    <span style={{
                      padding: '0.35rem 0.75rem',
                      background: 'rgba(255,255,255,0.1)',
                      color: 'rgba(255,255,255,0.7)',
                      borderRadius: 20,
                      fontSize: '0.75rem'
                    }}>{project.startDate} â†’ {project.endDate}</span>
                  </div>
                  <h1 style={{ fontSize: '2.25rem', fontWeight: 700, color: 'white', marginBottom: '0.5rem' }}>{project.name}</h1>
                  <p style={{ fontSize: '1.1rem', color: 'rgba(255,255,255,0.6)' }}>{project.client} â€¢ {project.aircraft}</p>
                </div>
              </div>
              
              {/* Stats Cards */}
              <div style={{ display: 'flex', gap: '1rem' }}>
                {[
                  { value: project.products.length, label: 'Products', color: 'var(--purple)' },
                  { value: formatCurrency(project.budget), label: 'Budget', color: 'var(--green)' },
                  { value: project.team.teamSize, label: 'Team Size', color: 'var(--blue)' }
                ].map((stat, idx) => (
                  <div key={idx} style={{
                    padding: '1.25rem 1.5rem',
                    background: 'rgba(255,255,255,0.03)',
                    backdropFilter: 'blur(10px)',
                    border: '1px solid rgba(255,255,255,0.08)',
                    borderRadius: 16,
                    textAlign: 'center',
                    minWidth: 100
                  }}>
                    <div style={{ fontSize: '1.5rem', fontWeight: 700, color: stat.color }}>{stat.value}</div>
                    <div style={{ fontSize: '0.7rem', color: 'rgba(255,255,255,0.5)', textTransform: 'uppercase', letterSpacing: '0.05em' }}>{stat.label}</div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
        
        {/* Main Content */}
        <div style={{ padding: '2rem', maxWidth: 1400, margin: '0 auto' }}>
          <div style={{ display: 'grid', gridTemplateColumns: '1fr 380px', gap: '2rem' }}>
            {/* Main Column */}
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
              {/* Project Overview */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '2rem' }}>
                <h3 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                  Project Overview
                </h3>
                <p style={{ fontSize: '0.95rem', color: 'var(--text-secondary)', lineHeight: 1.8 }}>{project.fullDescription}</p>
              </div>
              
              {/* Milestones */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '2rem' }}>
                <h3 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" strokeWidth="2"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>
                  Project Milestones
                </h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                  {project.milestones.map((milestone, index) => (
                    <div key={index} style={{ 
                      display: 'flex', 
                      alignItems: 'center', 
                      gap: '1rem',
                      padding: '1rem',
                      background: 'var(--bg-elevated)',
                      borderRadius: 12,
                      borderLeft: `4px solid ${milestone.status === 'completed' ? 'var(--green)' : milestone.status === 'in-progress' ? 'var(--blue)' : 'var(--text-dim)'}`
                    }}>
                      <div style={{
                        width: 12, height: 12, borderRadius: '50%', flexShrink: 0,
                        background: milestone.status === 'completed' ? 'var(--green)' : milestone.status === 'in-progress' ? 'var(--blue)' : 'var(--text-dim)'
                      }}/>
                      <div style={{ flex: 1 }}>
                        <div style={{ fontWeight: 600, fontSize: '0.95rem' }}>{milestone.name}</div>
                        <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>{milestone.date}</div>
                      </div>
                      <span style={{
                        padding: '0.35rem 0.75rem',
                        borderRadius: 20,
                        fontSize: '0.7rem',
                        fontWeight: 600,
                        textTransform: 'capitalize',
                        background: milestone.status === 'completed' ? 'var(--green-muted)' : milestone.status === 'in-progress' ? 'var(--blue-muted)' : 'var(--bg-card)',
                        color: milestone.status === 'completed' ? 'var(--green)' : milestone.status === 'in-progress' ? 'var(--blue)' : 'var(--text-muted)'
                      }}>{milestone.status.replace('-', ' ')}</span>
                    </div>
                  ))}
                </div>
              </div>
              
              {/* Implemented Products */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '2rem' }}>
                <h3 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" strokeWidth="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
                  Implemented Products ({project.products.length})
                </h3>
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1rem' }}>
                  {project.products.map(productId => {
                    const product = getProductById(productId);
                    return (
                      <div 
                        key={productId}
                        onClick={() => navigateToProduct(product)}
                        style={{
                          display: 'flex', alignItems: 'center', gap: '1rem',
                          padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 12,
                          cursor: 'pointer', transition: 'all 0.2s ease',
                          border: '1px solid transparent'
                        }}
                        onMouseEnter={(e) => {
                          e.currentTarget.style.borderColor = product.category === 'Software' ? 'var(--purple)' : 'var(--green)';
                        }}
                        onMouseLeave={(e) => {
                          e.currentTarget.style.borderColor = 'transparent';
                        }}
                      >
                        <div style={{
                          width: 48, height: 48, borderRadius: 12,
                          background: product.category === 'Software' ? 'var(--purple-muted)' : 'var(--green-muted)',
                          color: product.category === 'Software' ? 'var(--purple)' : 'var(--green)',
                          display: 'flex', alignItems: 'center', justifyContent: 'center'
                        }}>
                          {product.category === 'Software' ? <SoftwareIcon size={22} /> : <HardwareIcon size={22} />}
                        </div>
                        <div>
                          <div style={{ fontWeight: 600, fontSize: '0.95rem' }}>{product.shortName}</div>
                          <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>{product.category} â€¢ {product.developmentTime}</div>
                        </div>
                      </div>
                    );
                  })}
                </div>
              </div>
            </div>
            
            {/* Sidebar */}
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
              {/* Project Highlights */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Project Highlights</h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                  {project.highlights.map((highlight, index) => (
                    <div key={index} style={{ display: 'flex', alignItems: 'flex-start', gap: '0.75rem' }}>
                      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--green)" strokeWidth="2" style={{ flexShrink: 0, marginTop: 2 }}>
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                      <span style={{ fontSize: '0.9rem', color: 'var(--text-secondary)', lineHeight: 1.5 }}>{highlight}</span>
                    </div>
                  ))}
                </div>
              </div>
              
              {/* Project Team */}
              <div style={{ background: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: 20, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem' }}>Project Team</h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                  <div style={{ padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 12 }}>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.35rem' }}>Project Manager</div>
                    <div style={{ fontSize: '1rem', fontWeight: 600 }}>{project.team.projectManager}</div>
                  </div>
                  <div style={{ padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 12 }}>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.35rem' }}>Lead Engineer</div>
                    <div style={{ fontSize: '1rem', fontWeight: 600 }}>{project.team.leadEngineer}</div>
                  </div>
                  <div style={{ padding: '1rem', background: 'var(--bg-elevated)', borderRadius: 12 }}>
                    <div style={{ fontSize: '0.7rem', color: 'var(--text-dim)', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.35rem' }}>Total Team Size</div>
                    <div style={{ fontSize: '1rem', fontWeight: 600 }}>{project.team.teamSize} members</div>
                  </div>
                </div>
              </div>
              
              {/* Quick Actions */}
              <div style={{ background: 'linear-gradient(135deg, rgba(240,171,0,0.1) 0%, rgba(240,171,0,0.05) 100%)', border: '1px solid rgba(240,171,0,0.2)', borderRadius: 20, padding: '1.5rem' }}>
                <h3 style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '1rem', color: 'var(--accent)' }}>Configure Similar Project</h3>
                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem' }}>Use this project as a template for a new configuration.</p>
                <button 
                  className="btn btn-primary"
                  onClick={() => { 
                    setConfiguredProducts([...project.products]); 
                    setAircraftType(project.aircraft);
                    setCurrentPage('configurator'); 
                  }}
                  style={{ width: '100%' }}
                >
                  Start Configuration
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  };

  // ============ RENDER ============
  return (
    <>
      <style>{styles}</style>
      <div className="app">
        <nav className="nav">
          <div className="nav-inner">
            <div className="logo" onClick={() => setCurrentPage('home')}>
              <div className="logo-mark">LT</div>
              <div className="logo-text">
                <span className="logo-title">NICE Platform</span>
                <span className="logo-subtitle">Lufthansa Technik</span>
              </div>
            </div>

            <div className="nav-links">
              <button 
                className={`nav-link ${currentPage === 'home' ? 'active' : ''}`}
                onClick={() => setCurrentPage('home')}
              >
                Dashboard
              </button>
              <button 
                className={`nav-link ${currentPage === 'products' || currentPage === 'product-detail' ? 'active' : ''}`}
                onClick={() => setCurrentPage('products')}
              >
                Products
              </button>
              <button 
                className={`nav-link ${currentPage === 'projects' || currentPage === 'project-detail' ? 'active' : ''}`}
                onClick={() => setCurrentPage('projects')}
              >
                Projects
              </button>
              <button 
                className={`nav-link ${currentPage === 'roadmap' ? 'active' : ''}`}
                onClick={() => setCurrentPage('roadmap')}
              >
                Roadmap
              </button>
              <button 
                className={`nav-link ${currentPage === 'configurator' ? 'active' : ''}`}
                onClick={() => setCurrentPage('configurator')}
                style={{ background: currentPage === 'configurator' ? 'var(--accent-muted)' : 'transparent', color: currentPage === 'configurator' ? 'var(--accent)' : undefined }}
              >
                Configure
              </button>
              <button 
                className={`nav-link ${currentPage === 'team' ? 'active' : ''}`}
                onClick={() => setCurrentPage('team')}
                style={{ background: currentPage === 'team' ? 'var(--blue-muted)' : 'transparent', color: currentPage === 'team' ? 'var(--blue)' : undefined }}
              >
                Team
              </button>
            </div>

            <div className="nav-search">
              <span className="nav-search-icon"><SearchIcon /></span>
              <input 
                type="text" 
                placeholder="Search products, projects..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
              />
            </div>
          </div>
        </nav>

        <main className="main">
          {currentPage === 'home' && <HomePage />}
          {currentPage === 'products' && <ProductsPage />}
          {currentPage === 'projects' && <ProjectsPage />}
          {currentPage === 'roadmap' && <RoadmapPage />}
          {currentPage === 'configurator' && <ProjectConfiguratorPage />}
          {currentPage === 'product-detail' && <ProductDetailPage />}
          {currentPage === 'project-detail' && <ProjectDetailPage />}
          {currentPage === 'team' && <TeamPage />}
        </main>
        
        {/* Schedule Modal */}
        <ScheduleModal />
      </div>
    </>
  );
}
// Render the app
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<LufthansaPlatform />);
  </script>
</body>
</html>
